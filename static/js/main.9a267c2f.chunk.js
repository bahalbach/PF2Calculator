(this.webpackJsonppf2=this.webpackJsonppf2||[]).push([[0],{28:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),s=a.n(i),c=(a(28),a(11)),d=a.n(c),l=a(5),o=a(3),u=a(4),p=Object(u.b)(),m=0,f=Object(u.c)({name:"weaknesses",initialState:p.getInitialState(),reducers:{weaknessAdded:p.addOne,weaknessUpdated:p.updateOne,weaknessCreated:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.type,i=a.value;p.addOne(e,{id:n,type:r,value:i})},prepare:function(e){var t=e.parentId,a=e.type,n=e.value;return{payload:{id:++m,parentId:t,type:a,value:n}}}},weaknessRemoved:p.removeOne}}),E=f.actions,g=E.weaknessRemoved,v=E.weaknessCreated,h=(E.weaknessAdded,E.weaknessUpdated),A=f.reducer,O=p.getSelectors((function(e){return e.weaknesses})),b=O.selectById,T=(O.selectIds,O.selectEntities),y=(O.selectAll,O.selectTotal,Object(u.b)()),I=Object(u.c)({name:"targets",initialState:y.getInitialState(),reducers:{targetAdded:y.addOne,targetUpdated:{prepare:function(e){var t=e.id,a=e.changes,n=e.match,r=e.level;return r||(r=1),r<1&&(r=1),r>20&&(r=20),{payload:{id:t,changes:a,match:n,level:r}}},reducer:function(e,t){y.updateOne(e,t.payload)}}},extraReducers:function(e){e.addCase(v,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].weaknesses.push(r)})).addCase(g,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].weaknesses=e.entities[n].weaknesses.filter((function(e){return e!==r}))}))}}),N=I.actions,S=N.targetAdded,C=N.targetUpdated,R=I.reducer,j=y.getSelectors((function(e){return e.targets})),x=j.selectById,D=(j.selectIds,j.selectEntities),L=(j.selectAll,j.selectTotal,a(1)),P={DISTRIBUTION:"Damage Distribution",PMDEFENSE:"+/- AC/Save Bonus",PMRES:"+/- Resistance/Weakness"},k={LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},F={TERRIBLE:"Terrible",LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},W={ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},M={NORMAL:"Normal",ADVANTAGE:"Advantage",DISADVANTAGE:"Disadvantage"},w={STRIKE:"Strike",SAVE:"Save"},G={TRAINED:"Trained Proficiency",FIGHTERWEAPON:"Fighter Weapon (1, 5, 13)",MARTIALWEAPON:"Martial Weapon (5, 13)",CASTERWEAPON:"Caster Weapon (11)",ALCHWEAPON:"Alchemist Weapon (7)",CASTERSPELL:"Caster Spell (7, 15, 19)",MAGUSSPELL:"Magus Spell (9, 17)",MCSPELL:"MC Spell (12, 18)",MAXSKILL:"Max skill (3, 7, 15)"},H={AS10:"10",AS18a:"18 to 24 apex(17)",AS16a:"16 to 22 apex(17)",AS16pp:"16 to 20",AS16p:"16 to 18",AS14pp:"14 to 20",AS14p:"14 to 18"},U={NONE:"None",WEAPON:"Weapon (2, 10, 16)",SKILL:"Skill (3, 9, 17)"},z={N1:"0 (0x-5)",N2:"-5 (1x-5)",N3:"-10 (2x-5)",A1:"0 (0x-4)",A2:"-4 (1x-4)",A3:"-8 (2x-4)",R1:"0 (0x-3)",R2:"-3 (1x-3)",R3:"-6 (2x-3)",RA1:"0 (0x-2)",RA2:"-2 (1x-2)",RA3:"-4 (2x-2)",RAA1:"0 (0x-1)",RAA2:"-1 (1x-1)",RAA3:"-2 (2x-1)"},B={"0 (0x-5)":"-5 (1x-5)","-5 (1x-5)":"-10 (2x-5)","-10 (2x-5)":"-10 (2x-5)","0 (0x-4)":"-4 (1x-4)","-4 (1x-4)":"-8 (2x-4)","-8 (2x-4)":"-8 (2x-4)","0 (0x-3)":"-3 (1x-3)","-3 (1x-3)":"-6 (2x-3)","-6 (2x-3)":"-6 (2x-3)","0 (0x-2)":"-2 (1x-2)","-2 (1x-2)":"-4 (2x-2)","-4 (2x-2)":"-4 (2x-2)","0 (0x-1)":"-1 (1x-1)","-1 (1x-1)":"-2 (2x-1)","-2 (2x-1)":"-2 (2x-1)"},K={AC:"AC",FORT:"Fort",REF:"Ref",WILL:"Will",PER:"Perception"},_={STRIKE:"x1 hit, x2 crit",BASIC:"Basic save",ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},V={NONE:"None",WEAPON:"Weapon (1, 4, 12, 19)",SPELLLEVEL1:"1 x Spell Level",SPELLLEVEL2:"2 x Spell Level",RUNE:"Runes (8, 15)",DEADLY:"Deadly (1, 12, 19)",SNEAK:"Sneak Attack (1, 5, 11, 17)",STRATEGIC:"Strategic Strike (1, 5, 9, 13, 17)",PRECISE:"Precise Strike (1, 1, 5, 9, 13, 17)"},Y=Object(L.a)(Object(L.a)({NONE:"None",FIGHTERWEAPONSPEC:"Fighter Weapon Specialization",MARTIALWEAPONSPEC:"Martial Weapon Specializaton",CASTERWEAPONSPEC:"Caster Weapon Specializaton"},H),{},{WEAPON:"Weapon (1, 4, 12, 19)",SPELLLEVEL1:"1 x Spell Level",RAGE:"Rage",ANIMALRAGE:"Animal Rage",DRAGONRAGE:"Dragon Rage",GIANTRAGE:"Giant Rage"}),X={NONE:"None",B:"bludgeoning",P:"piercing",S:"slashing",FIRE:"fire"},J={NONE:"none",COLD_IRON:"cold iron",SILVER:"silver",ADAMANTINE:"adamantine"},$={FLATFOOT:"Flatfooted",FRIGHTENED1:"Frightened 1",FRIGHTENED2:"Frightened 2",FRIGHTENED3:"Frightened 3",FRIGHTENED4:"Frightened 4"};for(var q=function(e){var t=e.id,a=e.parentId,n=Object(o.c)((function(e){return b(e,t)})),i=n.type,s=n.value,c=Object(o.b)();return r.a.createElement("span",{className:"input"},r.a.createElement(ee,{value:i,onChange:function(e){e.target.value===X.NONE?c(g({id:t,parentId:a})):c(h({id:t,changes:{type:e.target.value}}))}}),r.a.createElement("input",{type:"number",value:s,onChange:function(e){isNaN(e.target.value)||c(h({id:t,changes:{value:parseInt(e.target.value)}}))}}))},Q=0,Z=function(e){var t=e.parentId,a=Object(o.b)(),i=Object(n.useState)(0),s=Object(l.a)(i,2),c=s[0],d=s[1];return r.a.createElement("span",{className:"input"},r.a.createElement(ee,{value:X.NONE,onChange:function(e){e.target.value!==X.NONE&&(Q++,a(v({id:Q,type:e.target.value,value:c,parentId:t})))}}),r.a.createElement("input",{type:"number",value:c,onChange:function(e){return d(parseInt(e.target.value))}}))},ee=function(e){var t=e.value,a=e.onChange,n=[];for(var i in X)n.push(r.a.createElement("option",{key:i},X[i]));for(var s in J)J[s]!==J.NONE&&n.push(r.a.createElement("option",{key:s},J[s]));return r.a.createElement("span",null,r.a.createElement("select",{value:t,onChange:function(e){return a(e)}},n))},te=function(e){var t=e.id,a=Object(o.c)((function(e){return x(e,0)})),n=a.name,i=a.levelDiff,s=a.ACTrend,c=a.FortTrend,d=a.RefTrend,l=a.WillTrend,u=a.PerTrend,p=a.flatfooted,m=a.weaknesses,f=Object(o.b)(),E=[];for(var g in k)E.push(r.a.createElement("option",{key:g},k[g]));var v=[];for(var h in F)v.push(r.a.createElement("option",{key:h},F[h]));return r.a.createElement("div",{className:"box flexbox"},r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"targetName"},"Target Name: "),r.a.createElement("input",{id:"targetName",type:"text",placeholder:"Enter Target name",value:n,onChange:function(e){return f(C({id:t,changes:{name:e.target.value}}))}})),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"levelDiff"}," Level Difference: "),r.a.createElement("input",{type:"number",id:"levelDiff",value:i,onChange:function(e){return f(C({id:t,changes:{levelDiff:parseInt(e.target.value)}}))}})),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"AC"}," AC: "),r.a.createElement("select",{id:"AC",value:s,onChange:function(e){return f(C({id:t,changes:{ACTrend:e.target.value}}))}},E)),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"Fort"}," Fort: "),r.a.createElement("select",{id:"Fort",value:c,onChange:function(e){return f(C({id:t,changes:{FortTrend:e.target.value}}))}},v)),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"Ref"}," Ref: "),r.a.createElement("select",{id:"Red",value:d,onChange:function(e){return f(C({id:t,changes:{RefTrend:e.target.value}}))}},v)),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"Will"}," Will: "),r.a.createElement("select",{id:"Will",value:l,onChange:function(e){return f(C({id:t,changes:{WillTrend:e.target.value}}))}},v)),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"Perception"}," Perception: "),r.a.createElement("select",{id:"Perception",value:u,onChange:function(e){return f(C({id:t,changes:{PerTrend:e.target.value}}))}},v)),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"Flatfooted"}," Flatfooted: "),r.a.createElement("input",{id:"Flatfooted",type:"checkbox",checked:p,onChange:function(e){return f(C({id:t,changes:{flatfooted:e.target.checked}}))}})),r.a.createElement("div",{className:"box flexbox"}," Resistance/Weakness: ",m.map((function(e){return r.a.createElement(q,{parentId:t,id:e,key:e})})),r.a.createElement(Z,{parentId:t})))},ae=Object(u.b)(),ne={},re=1;re<=20;re++)ne[re]=0;for(var ie=1e3,se=Object(u.c)({name:"damages",initialState:ae.getInitialState(),reducers:{damageAdded:ae.addOne,damageUpdated:ae.updateOne,damageCreated:{reducer:function(e,t){var a=t.payload.id;ae.addOne(e,{id:a,damageCondition:_.STRIKE,damageType:X.S,material:J.NONE,persistent:!1,multiplier:1,dieTrend:V.NONE,dieAdjustments:Object(L.a)({},ne),diceSize:6,fatal:!1,fatalDie:10,damageTrend:[],damageAdjustments:Object(L.a)({},ne)})},prepare:function(e){var t=e.parentId;return{payload:{id:++ie,parentId:t}}}},damageRemoved:function(e,t){ae.removeOne(e,t.payload.id)}}}),ce=se.actions,de=ce.damageRemoved,le=ce.damageCreated,oe=ce.damageAdded,ue=ce.damageUpdated,pe=se.reducer,me=ae.getSelectors((function(e){return e.damages})),fe=me.selectById,Ee=(me.selectIds,me.selectEntities),ge=(me.selectAll,me.selectTotal,Object(u.b)()),ve=1e3,he=Object(u.c)({name:"effects",initialState:ge.getInitialState(),reducers:{effectAdded:ge.addOne,effectUpdated:ge.updateOne,effectCreated:{reducer:function(e,t){var a=t.payload.id;ge.addOne(e,{id:a,effectCondition:W.ALWAYS,effectType:$.FLATFOOT,startLevel:1,endLevel:20})},prepare:function(e){var t=e.parentId;return{payload:{id:++ve,parentId:t}}}},effectRemoved:function(e,t){ge.removeOne(e,t.payload.id)}}}),Ae=he.actions,Oe=Ae.effectAdded,be=Ae.effectUpdated,Te=Ae.effectCreated,ye=Ae.effectRemoved,Ie=he.reducer,Ne=ge.getSelectors((function(e){return e.effects})),Se=Ne.selectById,Ce=(Ne.selectIds,Ne.selectEntities),Re=(Ne.selectAll,Ne.selectTotal,Object(u.b)()),je={},xe=1;xe<=20;xe++)je[xe]=0;for(var De,Le,Pe,ke,Fe,We,Me,we=1e3,Ge={rollType:M.NORMAL,type:w.STRIKE,profTrend:G.MARTIALWEAPON,statTrend:H.AS18a,itemTrend:U.WEAPON,bonusAdjustments:Object(L.a)({},je),MAP:z.N1,targetType:K.AC},He=Object(u.c)({name:"activityPaths",initialState:Re.getInitialState(),reducers:{activityPathAdded:Re.addOne,activityPathUpdated:function(e,t){Re.updateOne(e,t.payload)},activityPathRemoved:function(e,t){var a=t.payload,n=a.id,r=a.parentId;Re.removeOne(e,n),void 0!==r&&(e.entities[r].apIds=e.entities[r].apIds.filter((function(e){return e!==n})))},activityPathCreated:{reducer:function(e,t){var a,n=t.payload,r=n.id,i=n.parentId,s=n.applyMAP;a=void 0!==i?e.entities[i]:Ge,Re.addOne(e,{id:r,condition:W.ALWAYS,rollType:M.NORMAL,type:w.STRIKE,profTrend:a.profTrend,statTrend:a.statTrend,itemTrend:a.itemTrend,bonusAdjustments:Object(L.a)({},a.bonusAdjustments),MAP:s?B[a.MAP]:a.MAP,targetType:K.AC,damages:[],effects:[],apIds:[]}),void 0!==i&&e.entities[i].apIds.push(r)},prepare:function(e){var t=e.parentId,a=e.routineId,n=e.applyMAP;return{payload:{id:++we,parentId:t,routineId:a,applyMAP:n}}}}},extraReducers:function(e){e.addCase(le,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].damages.push(r)})).addCase(de,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].damages=e.entities[n].damages.filter((function(e){return e!==r}))})).addCase(Te,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].effects.push(r)})).addCase(ye,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].effects=e.entities[n].effects.filter((function(e){return e!==r}))}))}}),Ue=He.actions,ze=Ue.activityPathCreated,Be=Ue.activityPathAdded,Ke=Ue.activityPathUpdated,_e=Ue.activityPathRemoved,Ve=He.reducer,Ye=Re.getSelectors((function(e){return e.activityPaths})),Xe=Ye.selectById,Je=(Ye.selectIds,Ye.selectEntities),$e=(Ye.selectAll,Ye.selectTotal,Object(u.b)()),qe=100,Qe=Object(u.c)({name:"routines",initialState:$e.getInitialState({selectedRoutine:0}),reducers:{setRoutine:function(e,t){e.selectedRoutine=t.payload||0},routineAdded:$e.addOne,routineUpdated:$e.updateOne,routineRemoved:function(e,t){$e.removeOne(e,t),t.payload===e.selectedRoutine&&(e.selectedRoutine=e.ids?e.ids[0]:void 0)},routineCreated:{reducer:function(e,t){var a=t.payload.id;e.selectedRoutine=a,$e.addOne(e,{id:a,name:"New Routine",display:!0,apIds:[],levelDiff:0,description:"Enter a description here.",startLevel:1,endLevel:20})},prepare:function(){return{payload:{id:++qe}}}}},extraReducers:function(e){e.addCase(ze,(function(e,t){var a=t.payload,n=a.routineId,r=a.id;void 0!==n&&e.entities[n].apIds.push(r)})).addCase(_e,(function(e,t){var a=t.payload,n=a.routineId,r=a.id;void 0!==n&&(e.entities[n].apIds=e.entities[n].apIds.filter((function(e){return e!==r})))}))}}),Ze=Qe.actions,et=Ze.routineCreated,tt=Ze.setRoutine,at=(Ze.updateSelected,Ze.routineAdded),nt=Ze.routineUpdated,rt=Ze.routineRemoved,it=Qe.reducer,st=$e.getSelectors((function(e){return e.routines})),ct=st.selectById,dt=(st.selectIds,st.selectEntities),lt=st.selectAll,ot=(st.selectTotal,function(e){return e.routines.selectedRoutine}),ut=a(19),pt=a(20),mt=a(14),ft=a(23),Et=function(e,t){if(0===e.length||0===t.length)throw new Error("Vectors can not be empty!");for(var a=e,n=t,r=0,i=[],s=0;s<a.length;s++){for(var c=0;c<n.length;c++)r+c!==i.length?i[r+c]=i[r+c]+a[s]*n[c]:i.push(a[s]*n[c]);r++}return i},gt=function(){for(var e=0,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];for(var r=0,i=a;r<i.length;r++){var s=i[r];e=Math.max(e,s[0].staticDamage+s[0].damageDist.length)}for(var c=[],d=0;d<e;d++){c.push(0);var l,o=Object(mt.a)(a);try{for(o.s();!(l=o.n()).done;){var u=l.value;if(u[0].staticDamage<=d){var p=d-u[0].staticDamage;p<u[0].damageDist.length&&(c[d]+=u[0].damageDist[p]*u[1])}}}catch(m){o.e(m)}finally{o.f()}}return c},vt=function(e,t,a){for(;e<a;)t.length>=2&&(t[1]+=t[0],t.shift()),e++;return[e,t]},ht=a(2),At={},Ot={},bt={},Tt={},yt={},It={},Nt={},St={},Ct={},Rt={},jt={},xt={},Dt={},Lt={},Pt={},kt={},Ft={},Wt={},Mt={},wt=1;wt<=20;wt++)Wt[wt]=Math.floor((wt+1)/2),Mt[wt]=2*Math.floor((wt+1)/2);for(var Gt={},Ht={},Ut={},zt={},Bt={},Kt={},_t={},Vt={},Yt={},Xt={},Jt={},$t={},qt={},Qt={},Zt={},ea={},ta={},aa={},na={},ra={},ia={},sa={},ca={},da={},la={},oa=1;oa<=20;oa++)At[oa]=0,Ot[oa]=oa,bt[oa]=oa+2,Tt[oa]=oa+2,yt[oa]=4,It[oa]=3,Nt[oa]=3,St[oa]=3,Ct[oa]=2,Rt[oa]=2,jt[oa]=2,xt[oa]=2,Dt[oa]=2,Lt[oa]=2,aa[oa]=oa+2,na[oa]=oa+2,Pt[oa]=0,kt[oa]=0,Ft[oa]=1,Gt[oa]=0,Ht[oa]=1,Ut[oa]=1,zt[oa]=1,Bt[oa]=2,Kt[oa]=0,_t[oa]=0,Vt[oa]=2,Yt[oa]=2,Xt[oa]=4,Jt[oa]=6,oa>=2&&(Pt[oa]=1),oa>=3&&(Tt[oa]=oa+4,kt[oa]=1),oa>=4&&(Ft[oa]=2),oa>=5&&(jt[oa]=4,It[oa]=4,Nt[oa]=4,St[oa]=4,Ct[oa]=3,Rt[oa]=3,Ut[oa]=2,zt[oa]=2,Bt[oa]=3),oa>=7&&(xt[oa]=4,Kt[oa]=1,Lt[oa]=4,Tt[oa]=oa+6,Vt[oa]=6,Yt[oa]=5,Xt[oa]=8,Jt[oa]=10),oa>=8&&(Gt[oa]=1),oa>=9&&(kt[oa]=2,aa[oa]=oa+4,zt[oa]=3,Bt[oa]=4),oa>=10&&(Pt[oa]=2,yt[oa]=5,Ct[oa]=4,Rt[oa]=4),oa>=11&&(Dt[oa]=4,Ut[oa]=3),oa>=12&&(Ft[oa]=3,na[oa]=oa+4,Ht[oa]=2),oa>=13&&(jt[oa]=6,_t[oa]=1,zt[oa]=4,Bt[oa]=5),oa>=15&&(Kt[oa]=2,It[oa]=5,Nt[oa]=5,Lt[oa]=6,Tt[oa]=oa+8,Gt[oa]=2,Vt[oa]=12,Yt[oa]=12,Xt[oa]=16,Jt[oa]=18),oa>=16&&(Pt[oa]=3),oa>=17&&(It[oa]=6,yt[oa]=6,kt[oa]=3,aa[oa]=oa+6,Ut[oa]=4,zt[oa]=5,Bt[oa]=6),oa>=18&&(na[oa]=oa+6),oa>=19&&(Ft[oa]=4,Lt[oa]=8,Ht[oa]=3),oa>=20&&(yt[oa]=7),$t[oa]=oa+jt[oa]+2,qt[oa]=oa+jt[oa],Qt[oa]=oa+Dt[oa],Zt[oa]=oa+xt[oa],ea[oa]=oa+Lt[oa],ta[oa]=10+oa+Lt[oa]+yt[oa],ra[oa]=yt[oa]+Kt[oa]*(jt[oa]+2)/2,ia[oa]=Kt[oa]*(jt[oa]+2)/2,sa[oa]=yt[oa]+Kt[oa]*jt[oa]/2,ca[oa]=Kt[oa]*jt[oa]/2,da[oa]=St[oa]+_t[oa]*Dt[oa]/2,la[oa]=_t[oa]*Dt[oa]/2;var ua=(De={},Object(ht.a)(De,G.TRAINED,bt),Object(ht.a)(De,G.FIGHTERWEAPON,$t),Object(ht.a)(De,G.MARTIALWEAPON,qt),Object(ht.a)(De,G.CASTERWEAPON,Qt),Object(ht.a)(De,G.ALCHWEAPON,Zt),Object(ht.a)(De,G.CASTERSPELL,ea),Object(ht.a)(De,G.MAGUSSPELL,aa),Object(ht.a)(De,G.MCSPELL,na),Object(ht.a)(De,G.MAXSKILL,Tt),De),pa=(Le={},Object(ht.a)(Le,H.AS10,At),Object(ht.a)(Le,H.AS18a,yt),Object(ht.a)(Le,H.AS16a,It),Object(ht.a)(Le,H.AS16pp,Nt),Object(ht.a)(Le,H.AS16p,St),Object(ht.a)(Le,H.AS14pp,Ct),Object(ht.a)(Le,H.AS14p,Rt),Le),ma=(Pe={},Object(ht.a)(Pe,U.NONE,At),Object(ht.a)(Pe,U.WEAPON,Pt),Object(ht.a)(Pe,U.SKILL,kt),Pe),fa={"0 (0x-5)":0,"-5 (1x-5)":-5,"-10 (2x-5)":-10,"0 (0x-4)":0,"-4 (1x-4)":-4,"-8 (2x-4)":-8,"0 (0x-3)":0,"-3 (1x-3)":-3,"-6 (2x-3)":-6,"0 (0x-2)":0,"-2 (1x-2)":-2,"-4 (2x-2)":-4,"0 (0x-1)":0,"-1 (1x-1)":-1,"-2 (2x-1)":-2},Ea=(ke={},Object(ht.a)(ke,V.NONE,At),Object(ht.a)(ke,V.WEAPON,Ft),Object(ht.a)(ke,V.SPELLLEVEL1,Wt),Object(ht.a)(ke,V.SPELLLEVEL2,Mt),Object(ht.a)(ke,V.RUNE,Gt),Object(ht.a)(ke,V.DEADLY,Ht),Object(ht.a)(ke,V.SNEAK,Ut),Object(ht.a)(ke,V.STRATEGIC,zt),Object(ht.a)(ke,V.PRECISE,Bt),ke),ga=Object(L.a)(Object(L.a)({},pa),{},(Fe={},Object(ht.a)(Fe,Y.NONE,At),Object(ht.a)(Fe,Y.FIGHTERWEAPONSPEC,ia),Object(ht.a)(Fe,Y.MARTIALWEAPONSPEC,ca),Object(ht.a)(Fe,Y.CASTERWEAPONSPEC,la),Object(ht.a)(Fe,Y.WEAPON,Ft),Object(ht.a)(Fe,Y.SPELLLEVEL1,Wt),Object(ht.a)(Fe,Y.RAGE,Vt),Object(ht.a)(Fe,Y.ANIMALRAGE,Yt),Object(ht.a)(Fe,Y.DRAGONRAGE,Xt),Object(ht.a)(Fe,Y.GIANTRAGE,Jt),Fe)),va={"-1":18,0:19,1:19,2:21,3:22,4:24,5:25,6:27,7:28,8:30,9:31,10:33,11:34,12:36,13:37,14:39,15:40,16:42,17:43,18:45,19:46,20:48,21:49,22:51,23:52,24:54},ha=Object(L.a)({},va);for(var Aa in ha)ha[Aa]-=3;var Oa=Object(L.a)({},va);for(var ba in Oa)Oa[ba]-=4;var Ta=Object(L.a)({},va);for(var ya in Ta)Ta[ya]-=6;var Ia=(We={},Object(ht.a)(We,k.EXTREME,va),Object(ht.a)(We,k.HIGH,ha),Object(ht.a)(We,k.MODERATE,Oa),Object(ht.a)(We,k.LOW,Ta),We),Na=(Me={},Object(ht.a)(Me,F.EXTREME,{"-1":9,0:10,1:11,2:12,3:14,4:15,5:17,6:18,7:20,8:21,9:23,10:24,11:26,12:27,13:29,14:30,15:32,16:33,17:35,18:36,19:38,20:39,21:41,22:43,23:44,24:46}),Object(ht.a)(Me,F.HIGH,{"-1":8,0:9,1:10,2:11,3:12,4:14,5:15,6:17,7:18,8:19,9:21,10:22,11:24,12:25,13:26,14:28,15:29,16:30,17:32,18:33,19:35,20:36,21:38,22:39,23:40,24:42}),Object(ht.a)(Me,F.MODERATE,{"-1":5,0:6,1:7,2:8,3:9,4:11,5:12,6:14,7:15,8:16,9:18,10:19,11:21,12:22,13:23,14:25,15:26,16:28,17:29,18:30,19:32,20:33,21:35,22:36,23:37,24:38}),Object(ht.a)(Me,F.LOW,{"-1":2,0:3,1:4,2:5,3:6,4:8,5:9,6:11,7:12,8:13,9:15,10:16,11:18,12:19,13:20,14:22,15:23,16:25,17:26,18:27,19:29,20:30,21:32,22:33,23:34,24:36}),Object(ht.a)(Me,F.TERRIBLE,{"-1":0,0:1,1:2,2:3,3:4,4:6,5:7,6:8,7:10,8:11,9:12,10:14,11:15,12:16,13:18,14:19,15:20,16:22,17:23,18:24,19:26,20:27,21:28,22:30,23:31,24:32}),Me);var Sa=function(e,t,a,n,r,i,s){e=n?e.persistent:e.normal;var c=function(e,t,a){if(0===a)return[0,[1]];if(1===a)return[e,Object(ft.a)(t)];var n,r=[0],i=0,s=Math.floor(e*a),c=0,d=s,l=Object(mt.a)(t);try{for(l.s();!(n=l.n()).done;){var o=n.value,u=Math.floor((e+c)*a);if(u===d)r[i]+=o;else{if(u>d+1)for(var p=0;p<u-(d+1);p++)r[++i]=0;r[++i]=o}d=u,c++}}catch(m){l.e(m)}finally{l.f()}return[s,r]}(r,i,s),d=Object(l.a)(c,2);r=d[0],i=d[1],t in e?(e[t].staticDamage+=r,e[t].damageDist=Et(e[t].damageDist,i),a!==J.NONE&&(e[t].material=a)):e[t]={material:a,staticDamage:r,damageDist:i}};function Ca(e,t){var a=[];switch(e){case W.ALWAYS:a=[0,1,2,3];break;case W.AT_LEAST_FAIL:a=[0,1,2];break;case W.AT_LEAST_SUCC:a=[0,1];break;case W.CRIF:a=[3];break;case W.CRIT:a=[0];break;case W.FAIL:a=[2];break;case W.FAIL_WORSE:a=[2,3];break;case W.SUCC:a=[1];break;case W.SUCC_WORSE:a=[1,2,3]}return a.includes(t)}for(var Ra=function(){function e(t,a,n,r,i){Object(ut.a)(this,e),this.activityPaths=t,this.targets=a,this.damages=n,this.effects=r,this.weaknesses=i}return Object(pt.a)(e,[{key:"canEvaluate",value:function(e){var t=this.targets[0].levelDiff;return!(e+t<-1||e+t>24)}},{key:"evalRoutine",value:function(e,t,a,n){for(var r={flatfooted:!1,frightened:0},i=[],s=[],c=[],d=[],o=0,u=0,p=[1],m=[1],f=0;f<e.apIds.length;f++){var E=this.activityPaths[e.apIds[f]],g=this.evalPath(E,r,t,a,n),v=Object(l.a)(g,2),h=v[0],A=v[1];p=Et(p,h),m=Et(m,A)}for(var O=1,b=0;b<p.length;b++)i.push(b),s.push(O),O-=p[b],o+=p[b]*b;O=1;for(var T=0;T<m.length;T++)c.push(T),d.push(O),O-=m[T],u+=m[T]*T;return{expD:o,expP:u,dataArray:i,routineDDist:p,cumulative:s,PdataArray:c,routinePDDist:m,Pcumulative:d}}},{key:"evalPath",value:function(e,t,a,n,r){for(var i=this,s=this.targets[0],c=e.damages.map((function(e){return i.damages[e]})),d=e.effects.map((function(e){return i.effects[e]})),o=s.weaknesses.map((function(e){return i.weaknesses[e]})),u=function(e,t,a,n,r,i,s,c){var d,o,u;switch(t.targetType){case K.AC:u=Ia[n.ACTrend];break;case K.FORT:u=Na[n.FortTrend];break;case K.REF:u=Na[n.RefTrend];break;case K.WILL:u=Na[n.WillTrend];break;case K.PER:u=Na[n.PerTrend];break;default:u=Ia[n.ACTrend]}switch(u=u[e+n.levelDiff],t.type){case w.STRIKE:d=ua[t.profTrend][e],d+=pa[t.statTrend][e],d+=ma[t.itemTrend][e],d+=t.bonusAdjustments[e],d+=fa[t.MAP],o=u+s-r.frightened,t.targetType===K.AC?(n.flatfooted||r.flatfooted)&&(o-=2):o+=10;break;case w.SAVE:d=u+s-r.frightened,o=10+ua[t.profTrend][e],o+=pa[t.statTrend][e],o+=ma[t.itemTrend][e],o+=t.bonusAdjustments[e],t.targetType===K.AC&&(d-=10);break;default:console.log("Activity type ".concat(t.type," not implemented"))}var p=function(e,t){var a=e-t;return a<-20?0:-20===a?5:a<-9?arguments.length>2&&void 0!==arguments[2]&&arguments[2]?10:5:a<8?5*(11+a):95}(d,o),m=function(e,t){var a=e-t;return a<-29?0:a<-20?5:-20===a?0:a<-9?5*(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?19:20+a):a<-1?50:a<9?5*(8-a):5}(d,o),f=function(e,t){var a=e-t;return a<-29?5:a<-20?5*(29+a):a<-10?45:a<-1?5*(-2-a):a<9?5:0}(d,o),E=function(e,t){var a=e-t;return a<-29?95:a<-10?5*(-10-a):a<-1?5:0}(d,o);if(t.rollType===M.ADVANTAGE){var g=100-p,v=g-m,h=v-f;f=100-h*h/100-(m=100-v*v/100-(p=100-g*g/100))-p,E=E*E/100}else if(t.rollType===M.DISADVANTAGE){var A=100-E,O=A-f,b=O-m;m=100-b*b/100-(f=100-O*O/100-(E=100-A*A/100))-E,p=p*p/100}var T=[p/100,m/100,f/100,E/100],y={normal:{},persistent:{}},I={normal:{},persistent:{}},N={normal:{},persistent:{}},S={normal:{},persistent:{}},C=[y,I,N,S];a.forEach((function(t){var a=t.damageCondition,n=t.diceSize,r=t.fatal,i=t.fatalDie,s=t.damageTrend,c=t.damageType,d=t.material,l=t.persistent,o=t.multiplier,u=Ea[t.dieTrend][e];(u+=t.dieAdjustments[e])<0&&(u=0);for(var p=0,m=0;m<s.length;m++)p+=ga[s[m]][e];p+=t.damageAdjustments[e];for(var f=[1],E=[1],g=[],v=0;v<n;v++)g.push(1/n);for(var h=0;h<u;h++)f=Et(f,g);if(r){for(var A=[],O=0;O<i;O++)A.push(1/i);for(var b=0;b<u;b++)E=Et(E,A)}switch(p+=u,a){case _.STRIKE:Sa(I,c,d,l,p,f,1*o),Sa(y,c,d,l,p,r?E:f,2*o);break;case _.BASIC:Sa(I,c,d,l,p,f,.5*o),Sa(N,c,d,l,p,f,1*o),Sa(S,c,d,l,p,f,2*o);break;case _.CRIF:Sa(S,c,d,l,p,f,1*o);break;case _.FAIL:Sa(N,c,d,l,p,f,1*o);break;case _.SUCC:Sa(I,c,d,l,p,f,1*o);break;case _.CRIT:Sa(y,c,d,l,p,f,1*o);break;case _.AT_LEAST_SUCC:Sa(I,c,d,l,p,f,1*o),Sa(y,c,d,l,p,f,1*o);break;case _.AT_LEAST_FAIL:Sa(N,c,d,l,p,f,1*o),Sa(I,c,d,l,p,f,1*o),Sa(y,c,d,l,p,f,1*o);break;case _.FAIL_WORSE:Sa(S,c,d,l,p,f,1*o),Sa(N,c,d,l,p,f,1*o);break;case _.SUCC_WORSE:Sa(S,c,d,l,p,f,1*o),Sa(N,c,d,l,p,f,1*o),Sa(I,c,d,l,p,f,1*o);break;case _.ALWAYS:Sa(S,c,d,l,p,f,1*o),Sa(N,c,d,l,p,f,1*o),Sa(I,c,d,l,p,f,1*o),Sa(y,c,d,l,p,f,1*o);break;default:console.log("Damage condition ".concat(t.condition," not implemented yet."))}}));for(var R=0,j=C;R<j.length;R++)for(var x=j[R],D=0,L=["normal","persistent"];D<L.length;D++){var P=L[D],k=0,F=[1],W=function(e){var t=x[P][e],a=t.material,n=t.staticDamage,r=t.damageDist;if(1===r.length&&n<=0)return"continue";var s=vt(n,r,1),d=Object(l.a)(s,2);n=d[0],r=d[1];var o=0,u=0;i.forEach((function(t){t.type!==e&&t.type!==a||(t.value+c<0?o=Math.min(o,t.value+c):t.value+c>0&&(u=Math.max(u,t.value+c)))}));var p=vt(n-=u+o,r,0),m=Object(l.a)(p,2);n=m[0],r=m[1],k+=n,F=Et(F,r)};for(var G in x[P])W(G);x[P].staticDamage=k,x[P].damageDist=F}return[C,T]}(a,e,c,s,t,o,n,r),p=Object(l.a)(u,2),m=p[0],f=p[1],E=[t,t,t,t],g=function(e){d.forEach((function(t){var n=t.effectCondition,r=t.effectType,i=t.startLevel,s=t.endLevel;if(!(a<i||a>s)&&Ca(n,e))switch(r){case $.FLATFOOT:!0!==E[e].flatfooted&&(E[e]=Object(L.a)(Object(L.a)({},E[e]),{},{flatfooted:!0}));break;case $.FRIGHTENED1:E[e].frightened<1&&(E[e]=Object(L.a)(Object(L.a)({},E[e]),{},{frightened:1}));break;case $.FRIGHTENED2:E[e].frightened<2&&(E[e]=Object(L.a)(Object(L.a)({},E[e]),{},{frightened:2}));break;case $.FRIGHTENED3:E[e].frightened<3&&(E[e]=Object(L.a)(Object(L.a)({},E[e]),{},{frightened:3}));break;case $.FRIGHTENED4:E[e].frightened<4&&(E[e]=Object(L.a)(Object(L.a)({},E[e]),{},{frightened:4}));break;default:console.log("Effect type ".concat(r," not implemented"))}}))},v=0;v<4;v++)g(v);return e.apIds.forEach((function(e){for(var t=i.activityPaths[e],s=new Map,c=0;c<4;c++)if(Ca(t.condition,c)){if(s.has(E[c]));else{var d=i.evalPath(t,E[c],a,n,r),o=Object(l.a)(d,2),u=o[0],p=o[1];s.set(E[c],{pathDist:u,pathPDist:p})}m[c].normal.damageDist=Et(m[c].normal.damageDist,s.get(E[c]).pathDist),m[c].persistent.damageDist=Et(m[c].persistent.damageDist,s.get(E[c]).pathPDist)}})),[gt([m[0].normal,f[0]],[m[1].normal,f[1]],[m[2].normal,f[2]],[m[3].normal,f[3]]),gt([m[0].persistent,f[0]],[m[1].persistent,f[1]],[m[2].persistent,f[2]],[m[3].persistent,f[3]])]}}]),e}(),ja=a(21),xa=a.n(ja),Da=a(22),La=a.n(Da)()(xa.a),Pa=function(e,t){var a=[],n=[];for(var r in e){var i=e[r];if(i.display){for(var s=[],c=[],d=[],l=1;l<=20;l++)if(t.canEvaluate(l)){s.push(l);var o=t.evalRoutine(i,l,0,0),u=o.expD,p=o.expP;c.push(u),d.push(p)}a.push({type:"scatter",name:i.name,x:s,y:c,yaxis:"y"}),n.push({type:"scatter",name:i.name,x:s,y:d,yaxis:"y"})}}return{datasets:a,perDatasets:n}},ka=function(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=[],s=[],c=[],d=[];if(!t.canEvaluate(a))return{expectedDamages:c,expectedPersistentDamages:d,datasets:i,perDatasets:s};for(var l in e){var o=e[l];if(o.display){for(var u=[],p=[],m=[],f=-5;f<=5;f++){u.push(f);var E=t.evalRoutine(o,a,n?f:0,n?0:f),g=E.expD,v=E.expP;0===f&&(c.push(r.a.createElement("div",{key:o.id},o.name,": ",g.toFixed(2))),d.push(r.a.createElement("div",{key:o.id},o.name,": ",v.toFixed(2)))),p.push(g),m.push(v)}i.push({type:"scatter",name:o.name,x:u,y:p,yaxis:"y"}),s.push({type:"scatter",name:o.name,x:u,y:m,yaxis:"y"})}}return{expectedDamages:c,expectedPersistentDamages:d,datasets:i,perDatasets:s}},Fa=function(e,t,a){var n=[],i=[],s=[],c=[];if(!t.canEvaluate(a))return{expectedDamages:s,expectedPersistentDamages:c,datasets:n,perDatasets:i};for(var d in e){var l=e[d];if(l.display){var o=t.evalRoutine(l,a,0,0),u=o.expD,p=o.expP,m=o.dataArray,f=o.routineDDist,E=o.cumulative,g=o.PdataArray,v=o.routinePDDist,h=o.Pcumulative;s.push(r.a.createElement("div",{key:l.id},l.name,": ",u.toFixed(2))),c.push(r.a.createElement("div",{key:l.id},l.name,": ",p.toFixed(2))),n.push({type:"scatter",name:l.name,x:m,y:E,yaxis:"y"}),n.push({type:"bar",name:u.toFixed(2),x:m,y:f}),i.push({type:"scatter",name:l.name,x:g,y:h}),i.push({type:"bar",name:p.toFixed(2),x:g,y:v})}}return{expectedDamages:s,expectedPersistentDamages:c,datasets:n,perDatasets:i}},Wa=function(e,t){var a,n,i,s,c=Object(o.c)(dt),d=Object(o.c)(Je),l=Object(o.c)(D),u=Object(o.c)(Ee),p=Object(o.c)(Ce),m=Object(o.c)(T),f=new Ra(d,l,u,p,m),E=l[0],g="",v=E.name;switch(g+=" Vs ",g+=" AC: "+Ia[E.ACTrend][t],g+=" Fort: "+Na[E.FortTrend][t],g+=" Ref: "+Na[E.RefTrend][t],g+=" Will: "+Na[E.WillTrend][t],g+=" Per: "+Na[E.PerTrend][t],e){case P.DISTRIBUTION:var h=Fa(c,f,t);i=h.expectedDamages,s=h.expectedPersistentDamages,a=h.datasets,n=h.perDatasets;break;case P.PMDEFENSE:var A=ka(c,f,t,!0);i=A.expectedDamages,s=A.expectedPersistentDamages,a=A.datasets,n=A.perDatasets;break;case P.PMRES:var O=ka(c,f,t,!1);i=O.expectedDamages,s=O.expectedPersistentDamages,a=O.datasets,n=O.perDatasets}var b,y,I=Pa(c,f),N=I.datasets,S=I.perDatasets;return e===P.DISTRIBUTION?(b="damage",y="chance"):e===P.PMDEFENSE?(b="+/- AC/Save Bonus",y="Expected Damage"):e===P.PMRES&&(b="+/- Resistance/Weakness",y="Expected Damage"),{expectedDamages:i,expectedPersistentDamages:s,damageChart:r.a.createElement(La,{classname:"plot",data:a,layout:{title:g,autosize:!0,xaxis:{title:b},yaxis:{title:y},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}}),persistentDamageChart:r.a.createElement(La,{classname:"plot",data:n,layout:{title:"Expected Persistent Damage",autosize:!0,xaxis:{title:"persistent damage"},yaxis:{title:"chance"},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}}),byLevelDamageChart:r.a.createElement(La,{classname:"plot",data:N,layout:{title:v,autosize:!0,xaxis:{title:"Level"},yaxis:{title:"Expected Damage"},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}}),byLevelPerDamageChart:r.a.createElement(La,{classname:"plot",data:S,layout:{title:v,autosize:!0,xaxis:{title:"Level"},yaxis:{title:"Expected Persistent Damage"},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}})}},Ma=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],i=t[1],s=Object(n.useState)(P.DISTRIBUTION),c=Object(l.a)(s,2),d=c[0],o=c[1],u=Object(n.useState)(1),p=Object(l.a)(u,2),m=p[0],f=p[1],E=Wa(d,m),g=E.expectedDamages,v=E.expectedPersistentDamages,h=E.damageChart,A=E.persistentDamageChart,O=E.byLevelDamageChart,b=E.byLevelPerDamageChart,T=[];for(var y in P)T.push(r.a.createElement("option",{key:y},P[y]));for(var I=[],N=1;N<=20;N++)I.push(r.a.createElement("option",{key:N,value:N},N));return r.a.createElement("div",{className:"box"},"Graph Type: ",r.a.createElement("select",{value:d,onChange:function(e){return o(e.target.value)}},T),d===P.BYLEVEL?"":r.a.createElement("select",{value:m,onChange:function(e){return f(parseInt(e.target.value))}},I)," Show persistent damage: ",r.a.createElement("input",{type:"checkbox",checked:a,onChange:function(e){return i(e.target.checked)}}),r.a.createElement("div",null,"Expected Damage:",g),h,O,a?r.a.createElement("div",null,r.a.createElement("div",null,"Expected Persistent Damage:",v),A,b):"")},wa=[],Ga=1;Ga<=20;Ga++)wa.push(r.a.createElement("option",{key:Ga},Ga));var Ha=[];for(var Ua in W)Ha.push(r.a.createElement("option",{key:Ua},W[Ua]));var za=[];for(var Ba in M)za.push(r.a.createElement("option",{key:Ba},M[Ba]));var Ka=[];for(var _a in w)Ka.push(r.a.createElement("option",{key:_a},w[_a]));var Va=[];for(var Ya in G)Va.push(r.a.createElement("option",{key:Ya},G[Ya]));var Xa=[];for(var Ja in H)Xa.push(r.a.createElement("option",{key:Ja},H[Ja]));var $a=[];for(var qa in U)$a.push(r.a.createElement("option",{key:qa},U[qa]));var Qa=[];for(var Za in z)Qa.push(r.a.createElement("option",{key:Za},z[Za]));var en=[];for(var tn in K)en.push(r.a.createElement("option",{key:tn},K[tn]));var an=[];for(var nn in _)an.push(r.a.createElement("option",{key:nn},_[nn]));var rn=[];for(var sn in V)rn.push(r.a.createElement("option",{key:sn},V[sn]));var cn=[];for(var dn in{4:4,6:6,8:8,10:10,12:12})cn.push(r.a.createElement("option",{key:dn},dn));var ln=[];for(var on in Y)ln.push(r.a.createElement("option",{key:on},Y[on]));var un=[];for(var pn in X)un.push(r.a.createElement("option",{key:pn},X[pn]));var mn=[];for(var fn in J)mn.push(r.a.createElement("option",{key:fn},J[fn]));for(var En=[],gn=0,vn=[.5,1,2];gn<vn.length;gn++){var hn=vn[gn];En.push(r.a.createElement("option",{key:hn},hn))}var An=[];for(var On in $)An.push(r.a.createElement("option",{key:On},$[On]));var bn=function(e){for(var t={},a=0,n=0,r=1;r<=20;r++)e[n]&&e[n][0]===r&&((a=e[n][1])||(a=0),n++),t[r]=a;return t},Tn=function(e){var t=e.length>0?e[e.length-1]:[0,0];return e.push([t[0]+1,t[1]+1]),bn(e)},yn=function(e,t,a,n,i){for(var s=function(e){for(var t=0,a=[],n=1;n<=20;n++)t!==e[n]&&(t=e[n],a.push([n,t]));return a}(i),c=[],d=function(i){c.push(r.a.createElement("span",{className:"input",key:i},"@",r.a.createElement("select",{value:s[i][0],onChange:function(r){return t(a({id:n,changes:Object(ht.a)({},e,(c=s,d=i,l=parseInt(r.target.value),c[d]=[l,c[d][1]],c.sort((function(e,t){return e[0]-t[0]})),bn(c)))}));var c,d,l}},wa),"+",r.a.createElement("input",{type:"number",value:s[i][1],onChange:function(r){return t(a({id:n,changes:Object(ht.a)({},e,(c=s,d=i,l=parseInt(r.target.value),c[d]=[c[d][0],l],bn(c)))}));var c,d,l}})))},l=0;l<s.length;l++)d(l);return c.push(r.a.createElement("button",{key:"addButton",className:"add",onClick:function(){return t(a({id:n,changes:Object(ht.a)({},e,Tn(s))}))}},"+")),c},In=function(e){var t=e.parentId,a=e.id,n=Object(o.c)((function(e){return fe(e,a)})),i=n.damageCondition,s=n.damageType,c=n.material,d=n.persistent,l=n.multiplier,u=n.dieTrend,p=n.dieAdjustments,m=n.diceSize,f=n.fatal,E=n.fatalDie,g=n.damageTrend,v=n.damageAdjustments,h=Object(o.b)(),A=yn("dieAdjustments",h,ue,a,p),O=yn("damageAdjustments",h,ue,a,v),b=g.map((function(e,t){return r.a.createElement("select",{key:t,value:e,onChange:function(e){var n=g.slice();e.target.value===Y.NONE?n.splice(t,1):n[t]=e.target.value,h(ue({id:a,changes:{damageTrend:n}}))}},ln)}));return r.a.createElement("div",{className:"box"},r.a.createElement("button",{className:"delete",onClick:function(e){h(de({id:a,parentId:t}))}},"-"),r.a.createElement("select",{value:i,onChange:function(e){return h(ue({id:a,changes:{damageCondition:e.target.value}}))}},an),": ",r.a.createElement("div",null,r.a.createElement("span",{className:"input"},"Dice: (",r.a.createElement("select",{value:u,onChange:function(e){return h(ue({id:a,changes:{dieTrend:e.target.value}}))}},rn),"+",A,")"),r.a.createElement("span",{className:"input"}," d",r.a.createElement("select",{value:m,onChange:function(e){return h(ue({id:a,changes:{diceSize:parseInt(e.target.value)}}))}},cn)),r.a.createElement("span",{className:"input"}," Fatal ",r.a.createElement("input",{type:"checkbox",checked:f,onChange:function(e){return h(ue({id:a,changes:{fatal:e.target.checked}}))}}),f?r.a.createElement("select",{value:E,onChange:function(e){return h(ue({id:a,changes:{fatalDie:parseInt(e.target.value)}}))}},cn):""),r.a.createElement("div",null,r.a.createElement("span",{className:"input"},"Static: (",b,r.a.createElement("button",{key:"addButton",className:"add",onClick:function(){var e=g.slice();e.push(Y.NONE),h(ue({id:a,changes:{damageTrend:e}}))}},"+"),"+",O,")"))),r.a.createElement("span",{className:"input"}," Type: ",r.a.createElement("select",{value:s,onChange:function(e){h(ue({id:a,changes:{damageType:e.target.value}}))}},un),r.a.createElement("select",{value:c,onChange:function(e){h(ue({id:a,changes:{material:e.target.value}}))}},mn)),r.a.createElement("span",{className:"input"}," Persistent: ",r.a.createElement("input",{type:"checkbox",checked:d,onChange:function(e){return h(ue({id:a,changes:{persistent:e.target.checked}}))}}))," ",r.a.createElement("span",{className:"input"}," x ",r.a.createElement("select",{value:l,onChange:function(e){h(ue({id:a,changes:{multiplier:parseFloat(e.target.value)}}))}},En)))},Nn=function(e){var t=e.parentId,a=e.id,n=Object(o.c)((function(e){return Se(e,a)})),i=n.effectCondition,s=n.effectType,c=n.startLevel,d=n.endLevel,l=Object(o.b)();return r.a.createElement("div",{className:"box"},r.a.createElement("button",{className:"delete",onClick:function(e){l(ye({id:a,parentId:t}))}},"-"),r.a.createElement("select",{value:i,onChange:function(e){return l(be({id:a,changes:{effectCondition:e.target.value}}))}},Ha),": ",r.a.createElement("select",{value:s,onChange:function(e){return l(be({id:a,changes:{effectType:e.target.value}}))}},An),"@",r.a.createElement("select",{value:c,onChange:function(e){return l(be({id:a,changes:{startLevel:parseInt(e.target.value)}}))}},wa),"to",r.a.createElement("select",{value:d,onChange:function(e){return l(be({id:a,changes:{endLevel:parseInt(e.target.value)}}))}},wa))},Sn=function e(t){var a=t.id,n=t.parentId,i=t.routineId,s=t.displayCondition,c=void 0===s||s,d=Object(o.c)((function(e){return Xe(e,a)})),l=d.condition,u=d.rollType,p=d.type,m=d.profTrend,f=d.statTrend,E=d.itemTrend,g=d.bonusAdjustments,v=d.MAP,h=d.targetType,A=d.damages,O=d.effects,b=d.apIds,T=Object(o.b)(),y=yn("bonusAdjustments",T,Ke,a,g);return r.a.createElement("div",{className:"box"},c?r.a.createElement("div",null,"Condition: ",r.a.createElement("select",{value:l,onChange:function(e){return T(Ke({id:a,changes:{condition:e.target.value}}))}},Ha)):"",r.a.createElement("div",{className:""},r.a.createElement("div",{className:"flexbox"},r.a.createElement("button",{className:"delete",onClick:function(e){T(_e({id:a,parentId:n,routineId:i}))}},"-"),r.a.createElement("span",{className:"input"},r.a.createElement("select",{value:u,onChange:function(e){T(Ke({id:a,changes:{rollType:e.target.value}}))}},za)),r.a.createElement("span",{className:"input"},r.a.createElement("select",{value:p,onChange:function(e){return T(Ke({id:a,changes:{type:e.target.value}}))}},Ka))," ",r.a.createElement("span",{className:"input"},p===w.SAVE?"DC: (10 + ":"Bonus: (",r.a.createElement("select",{value:m,onChange:function(e){return T(Ke({id:a,changes:{profTrend:e.target.value}}))}},Va),r.a.createElement("select",{value:f,onChange:function(e){return T(Ke({id:a,changes:{statTrend:e.target.value}}))}},Xa),r.a.createElement("select",{value:E,onChange:function(e){return T(Ke({id:a,changes:{itemTrend:e.target.value}}))}},$a),"+",y,")"),p===w.STRIKE?r.a.createElement("span",{className:"input"}," MAP: ",r.a.createElement("select",{value:v,onChange:function(e){return T(Ke({id:a,changes:{MAP:e.target.value}}))}},Qa)):"",r.a.createElement("span",{className:"input"}," VS: ",r.a.createElement("select",{value:h,onChange:function(e){T(Ke({id:a,changes:{targetType:e.target.value}}))}},en))),r.a.createElement("div",{className:"box"},"Damage: ",A.map((function(e){return r.a.createElement(In,{parentId:a,id:e,key:e})})),r.a.createElement("button",{className:"add",onClick:function(){return T(le({parentId:a}))}},"+")),r.a.createElement("div",{className:"box"},"Effects: ",O.map((function(e){return r.a.createElement(Nn,{parentId:a,id:e,key:e})})),r.a.createElement("button",{className:"add",onClick:function(){return T(Te({parentId:a}))}},"+"))),r.a.createElement("div",{className:"box"},b.map((function(t){return r.a.createElement(e,{id:t,parentId:a,key:t})})),r.a.createElement("button",{className:"add",onClick:function(){return T(ze({parentId:a}))}},"+"),r.a.createElement("button",{className:"add",onClick:function(){return T(ze({parentId:a,applyMAP:!0}))}},"+MAP")))};var Cn=function(e){var t=e.id,a=Object(o.b)(),n=Object(o.c)((function(e){return ct(e,t)})).name;return r.a.createElement("div",{className:"box"},r.a.createElement("label",{htmlFor:"routineName"},"Routine Name:"),r.a.createElement("input",{id:"routineName",type:"text",placeholder:"Enter routine name",value:n,onChange:function(e){return a(nt({id:t,changes:{name:e.target.value}}))}}))},Rn=function(e){var t=e.routineId,a=Object(o.c)((function(e){return ct(e,t)})).apIds,n=Object(o.b)();return r.a.createElement("div",{className:"selectedRoutine"},r.a.createElement(Cn,{id:t}),a.map((function(e){return r.a.createElement(Sn,{id:e,routineId:t,key:e,displayCondition:!1})})),r.a.createElement("button",{className:"add",onClick:function(){return n(ze({routineId:t}))}},"+"))},jn=function(){var e=Object(o.c)(lt),t=Object(o.c)(ot),a=Object(o.b)(),n=[],i=[];return e.forEach((function(e){n.push(r.a.createElement("option",{value:e.id,key:e.id},e.name)),i.push(r.a.createElement("div",{className:"flexbox",key:e.id},r.a.createElement("button",{className:"remove",onClick:function(){return a(rt(e.id))}},"-"),r.a.createElement("span",{className:e.display?"routineOn":"routineOff",onClick:function(){return a(nt({id:e.id,changes:{display:!e.display}}))}},e.name)))})),r.a.createElement("div",{className:"box"},"Selected Routine:",r.a.createElement("select",{value:t,onChange:function(e){return a(tt(e.target.value))}},n),r.a.createElement("button",{className:"add",onClick:function(){return a(et())}},"+"),r.a.createElement("div",{className:"routines"},i))},xn=function(){return r.a.createElement("div",{className:"box"},"Import and Export Here")};a(36);d.a.initialize("G-JR2YK097BG");for(var Dn=function(e){var t=Object(o.c)(ot);return d.a.send("pageview"),r.a.createElement("div",{className:"PF2App"},r.a.createElement(te,{id:0}),r.a.createElement(Ma,null),r.a.createElement(jn,null),void 0!==t?r.a.createElement(Rn,{routineId:t}):"",r.a.createElement(xn,null))},Ln={},Pn={},kn={},Fn=1;Fn<=20;Fn++)Ln[Fn]=0,kn[Fn]=1,Pn[Fn]=0,Fn>=5&&(Pn[Fn]=4),Fn>=12&&(Pn[Fn]=6),Fn>=19&&(Pn[Fn]=8);var Wn=Object(u.a)({reducer:{routines:it,activityPaths:Ve,damages:pe,effects:Ie,weaknesses:A,targets:R}});Wn.dispatch(S({id:0,name:"AC: High, saves: Moderate",levelDiff:0,ACTrend:k.HIGH,FortTrend:F.MODERATE,RefTrend:F.MODERATE,WillTrend:F.MODERATE,PerTrend:F.MODERATE,flatfooted:!1,weaknesses:[]})),Wn.dispatch(at({id:0,name:"Baseline",display:!0,apIds:[],levelDiff:0,description:"No damage. Just so graphs display 0 with autoscalling.",startLevel:1,endLevel:20})),Wn.dispatch(at({id:1,name:"Greatsword Fighter 2 strikes",display:!0,apIds:[0],levelDiff:0,description:"A simple Fighter making 2 strikes with a greatsword. 1d6 damage runes at 8 and 15. Crit specialization at 5.",startLevel:1,endLevel:20})),Wn.dispatch(Be({id:0,condition:W.ALWAYS,rollType:M.NORMAL,type:w.STRIKE,profTrend:G.FIGHTERWEAPON,statTrend:H.AS18a,itemTrend:U.WEAPON,bonusAdjustments:Object(L.a)({},Ln),MAP:z.N1,targetType:K.AC,targetInfoId:0,damages:[0,1],effects:[0],apIds:[1]})),Wn.dispatch(oe({id:0,damageCondition:_.STRIKE,dieTrend:V.WEAPON,dieAdjustments:Object(L.a)({},Ln),diceSize:12,fatal:!1,fatalDie:10,damageTrend:[Y.AS18a,Y.FIGHTERWEAPONSPEC],damageAdjustments:Object(L.a)({},Ln),damageType:X.S,material:J.NONE,persistent:!1,multiplier:1})),Wn.dispatch(oe({id:1,damageCondition:_.STRIKE,dieTrend:V.RUNE,dieAdjustments:Object(L.a)({},Ln),diceSize:6,fatal:!1,fatalDie:10,damageTrend:[],damageAdjustments:Object(L.a)({},Ln),damageType:X.FIRE,material:J.NONE,persistent:!1,multiplier:1})),Wn.dispatch(Oe({id:0,effectCondition:W.CRIT,effectType:$.FLATFOOT,startLevel:5,endLevel:20})),Wn.dispatch(Be({id:1,condition:W.ALWAYS,rollType:M.NORMAL,type:w.STRIKE,profTrend:G.FIGHTERWEAPON,statTrend:H.AS18a,itemTrend:U.WEAPON,bonusAdjustments:Object(L.a)({},Ln),MAP:z.N2,targetType:K.AC,targetInfoId:0,damages:[2,3],effects:[1],apIds:[]})),Wn.dispatch(oe({id:2,damageCondition:_.STRIKE,dieTrend:V.WEAPON,dieAdjustments:Object(L.a)({},Ln),diceSize:12,fatal:!1,fatalDie:10,damageTrend:[Y.AS18a,Y.FIGHTERWEAPONSPEC],damageAdjustments:Object(L.a)({},Ln),damageType:X.S,material:J.NONE,persistent:!1,multiplier:1})),Wn.dispatch(oe({id:3,damageCondition:_.STRIKE,dieTrend:V.RUNE,dieAdjustments:Object(L.a)({},Ln),diceSize:6,fatal:!1,fatalDie:10,damageTrend:[],damageAdjustments:Object(L.a)({},Ln),damageType:X.FIRE,material:J.NONE,persistent:!1,multiplier:1})),Wn.dispatch(Oe({id:1,effectCondition:W.CRIT,effectType:$.FLATFOOT,startLevel:5,endLevel:20})),Wn.dispatch(at({id:2,name:"Fireball",display:!0,apIds:[2],levelDiff:0,description:"A 2d6 / spell level basic reflex save.",startLevel:1,endLevel:20})),Wn.dispatch(Be({id:2,condition:W.ALWAYS,rollType:M.NORMAL,type:w.SAVE,profTrend:G.CASTERSPELL,statTrend:H.AS18a,itemTrend:U.NONE,bonusAdjustments:Object(L.a)({},Ln),MAP:z.N1,targetType:K.REF,targetInfoId:0,damages:[4],effects:[],apIds:[]})),Wn.dispatch(oe({id:4,damageCondition:_.BASIC,dieTrend:V.SPELLLEVEL2,dieAdjustments:Object(L.a)({},Ln),diceSize:6,fatal:!1,fatalDie:10,damageTrend:[],damageAdjustments:Object(L.a)({},Ln),damageType:X.FIRE,material:J.NONE,persistent:!1,multiplier:1})),Wn.dispatch(at({id:3,name:"Pick Fighter Double Slice",display:!1,apIds:[3,4],levelDiff:0,description:"A Fighter using Double Slice with a pick and a light pick. 1d6 damage runes at 8 and 15. Crit specialization at 5.",startLevel:1,endLevel:20})),Wn.dispatch(Be({id:3,condition:W.ALWAYS,rollType:M.NORMAL,type:w.STRIKE,profTrend:G.FIGHTERWEAPON,statTrend:H.AS18a,itemTrend:U.WEAPON,bonusAdjustments:Object(L.a)({},Ln),MAP:z.N1,targetType:K.AC,targetInfoId:0,damages:[5,6,7],effects:[],apIds:[]})),Wn.dispatch(oe({id:5,damageCondition:_.STRIKE,dieTrend:V.WEAPON,dieAdjustments:Object(L.a)({},Ln),diceSize:6,fatal:!0,fatalDie:10,damageTrend:[Y.AS18a,Y.FIGHTERWEAPONSPEC],damageAdjustments:Object(L.a)({},Ln),damageType:X.P,material:J.NONE,persistent:!1,multiplier:1})),Wn.dispatch(oe({id:6,damageCondition:_.CRIT,dieTrend:V.NONE,dieAdjustments:Object(L.a)({},kn),diceSize:10,fatal:!1,fatalDie:10,damageTrend:[],damageAdjustments:Object(L.a)({},Pn),damageType:X.P,material:J.NONE,persistent:!1,multiplier:1})),Wn.dispatch(oe({id:7,damageCondition:_.STRIKE,dieTrend:V.RUNE,dieAdjustments:Object(L.a)({},Ln),diceSize:6,fatal:!1,fatalDie:10,damageTrend:[],damageAdjustments:Object(L.a)({},Ln),damageType:X.FIRE,material:J.NONE,persistent:!1,multiplier:1})),Wn.dispatch(Be({id:4,condition:W.ALWAYS,rollType:M.NORMAL,type:w.STRIKE,profTrend:G.FIGHTERWEAPON,statTrend:H.AS18a,itemTrend:U.WEAPON,bonusAdjustments:Object(L.a)({},Ln),MAP:z.A1,targetType:K.AC,targetInfoId:0,damages:[8,9,10],effects:[],apIds:[]})),Wn.dispatch(oe({id:8,damageCondition:_.STRIKE,dieTrend:V.WEAPON,dieAdjustments:Object(L.a)({},Ln),diceSize:4,fatal:!0,fatalDie:8,damageTrend:[Y.AS18a,Y.FIGHTERWEAPONSPEC],damageAdjustments:Object(L.a)({},Ln),damageType:X.P,material:J.NONE,persistent:!1,multiplier:1})),Wn.dispatch(oe({id:9,damageCondition:_.CRIT,dieTrend:V.NONE,dieAdjustments:Object(L.a)({},kn),diceSize:8,fatal:!1,fatalDie:10,damageTrend:[],damageAdjustments:Object(L.a)({},Pn),damageType:X.P,material:J.NONE,persistent:!1,multiplier:1})),Wn.dispatch(oe({id:10,damageCondition:_.STRIKE,dieTrend:V.RUNE,dieAdjustments:Object(L.a)({},Ln),diceSize:6,fatal:!1,fatalDie:10,damageTrend:[],damageAdjustments:Object(L.a)({},Ln),damageType:X.FIRE,material:J.NONE,persistent:!1,multiplier:1}));var Mn=Wn;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:Mn},r.a.createElement(Dn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.9a267c2f.chunk.js.map