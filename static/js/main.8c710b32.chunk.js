(this.webpackJsonppf2=this.webpackJsonppf2||[]).push([[0],{28:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),c=a.n(i),s=(a(28),a(11)),l=a.n(s),d=a(5),o=a(2),u=a(4),p=Object(u.b)(),m=0,f=Object(u.c)({name:"weaknesses",initialState:p.getInitialState(),reducers:{weaknessAdded:p.addOne,weaknessUpdated:p.updateOne,weaknessCreated:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.type,i=a.value;p.addOne(e,{id:n,type:r,value:i})},prepare:function(e){var t=e.parentId,a=e.type,n=e.value;return{payload:{id:++m,parentId:t,type:a,value:n}}}},weaknessRemoved:p.removeOne}}),v=f.actions,E=v.weaknessRemoved,g=v.weaknessCreated,h=(v.weaknessAdded,v.weaknessUpdated),A=f.reducer,b=p.getSelectors((function(e){return e.weaknesses})),O=b.selectById,y=(b.selectIds,b.selectEntities),T=(b.selectAll,b.selectTotal,Object(u.b)()),I=Object(u.c)({name:"targets",initialState:T.getInitialState(),reducers:{targetAdded:T.addOne,targetUpdated:{prepare:function(e){var t=e.id,a=e.changes,n=e.match,r=e.level;return r||(r=1),r<1&&(r=1),r>20&&(r=20),{payload:{id:t,changes:a,match:n,level:r}}},reducer:function(e,t){T.updateOne(e,t.payload)}}},extraReducers:function(e){e.addCase(g,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].weaknesses.push(r)})).addCase(E,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].weaknesses=e.entities[n].weaknesses.filter((function(e){return e!==r}))}))}}),C=I.actions,x=C.targetAdded,S=C.targetUpdated,N=I.reducer,R=T.getSelectors((function(e){return e.targets})),j=R.selectById,D=(R.selectIds,R.selectEntities),k=(R.selectAll,R.selectTotal,a(3)),P={DISTRIBUTION:"Damage Distribution",PMDEFENSE:"+/- AC/Save Bonus",PMRES:"+/- Resistance/Weakness"},L={LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},F={TERRIBLE:"Terrible",LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},W={ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},M={NORMAL:"Normal",ADVANTAGE:"Advantage",DISADVANTAGE:"Disadvantage"},w={STRIKE:"Strike",SAVE:"Save"},U={TRAINED:"Trained Proficiency",FIGHTERWEAPON:"Fighter Weapon (1, 5, 13)",MARTIALWEAPON:"Martial Weapon (5, 13)",CASTERWEAPON:"Caster Weapon (11)",ALCHWEAPON:"Alchemist Weapon (7)",CASTERSPELL:"Caster Spell (7, 15, 19)",MAGUSSPELL:"Magus Spell (9, 17)",MCSPELL:"MC Spell (12, 18)",MAXSKILL:"Max skill (3, 7, 15)"},H={AS10:"10",AS18a:"18 to 24 apex(17)",AS16a:"16 to 22 apex(17)",AS16pp:"16 to 20",AS16p:"16 to 18",AS14pp:"14 to 20",AS14p:"14 to 18"},G={NONE:"None",WEAPON:"Weapon (2, 10, 16)",SKILL:"Skill (3, 9, 17)"},B={N1:"0 (0x-5)",N2:"-5 (1x-5)",N3:"-10 (2x-5)",A1:"0 (0x-4)",A2:"-4 (1x-4)",A3:"-8 (2x-4)",R1:"0 (0x-3)",R2:"-3 (1x-3)",R3:"-6 (2x-3)",RA1:"0 (0x-2)",RA2:"-2 (1x-2)",RA3:"-4 (2x-2)",RAA1:"0 (0x-1)",RAA2:"-1 (1x-1)",RAA3:"-2 (2x-1)"},_={"0 (0x-5)":"-5 (1x-5)","-5 (1x-5)":"-10 (2x-5)","-10 (2x-5)":"-10 (2x-5)","0 (0x-4)":"-4 (1x-4)","-4 (1x-4)":"-8 (2x-4)","-8 (2x-4)":"-8 (2x-4)","0 (0x-3)":"-3 (1x-3)","-3 (1x-3)":"-6 (2x-3)","-6 (2x-3)":"-6 (2x-3)","0 (0x-2)":"-2 (1x-2)","-2 (1x-2)":"-4 (2x-2)","-4 (2x-2)":"-4 (2x-2)","0 (0x-1)":"-1 (1x-1)","-1 (1x-1)":"-2 (2x-1)","-2 (2x-1)":"-2 (2x-1)"},z={AC:"AC",FORT:"Fort",REF:"Ref",WILL:"Will",PER:"Perception"},V={STRIKE:"x1 hit, x2 crit",BASIC:"Basic save",ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},K={NONE:"None",WEAPON:"Weapon (1, 4, 12, 19)",SPELLLEVEL1:"1 x Spell Level",SPELLLEVEL2:"2 x Spell Level",RUNE:"Runes (8, 15)",DEADLY:"Deadly (1, 12, 19)"},Y=Object(k.a)({NONE:"None",FIGHTERWEAPONSPEC:"Fighter Weapon Specialization",MARTIALWEAPONSPEC:"Martial Weapon Specializaton",CASTERWEAPONSPEC:"Caster Weapon Specializaton"},H),X={NONE:"None",B:"bludgeoning",P:"piercing",S:"slashing",FIRE:"fire"},J={NONE:"none",COLD_IRON:"cold iron",SILVER:"silver",ADAMANTINE:"adamantine"},$={FLATFOOT:"Flatfooted",FRIGHTENED1:"Frightened 1",FRIGHTENED2:"Frightened 2",FRIGHTENED3:"Frightened 3",FRIGHTENED4:"Frightened 4"};for(var q=function(e){var t=e.id,a=e.parentId,n=Object(o.c)((function(e){return O(e,t)})),i=n.type,c=n.value,s=Object(o.b)();return r.a.createElement("span",{className:"input"},r.a.createElement(ee,{value:i,onChange:function(e){e.target.value===X.NONE?s(E({id:t,parentId:a})):s(h({id:t,changes:{type:e.target.value}}))}}),r.a.createElement("input",{type:"number",value:c,onChange:function(e){isNaN(e.target.value)||s(h({id:t,changes:{value:parseInt(e.target.value)}}))}}))},Q=0,Z=function(e){var t=e.parentId,a=Object(o.b)(),i=Object(n.useState)(0),c=Object(d.a)(i,2),s=c[0],l=c[1];return r.a.createElement("span",{className:"input"},r.a.createElement(ee,{value:X.NONE,onChange:function(e){e.target.value!==X.NONE&&(Q++,a(g({id:Q,type:e.target.value,value:s,parentId:t})))}}),r.a.createElement("input",{type:"number",value:s,onChange:function(e){return l(parseInt(e.target.value))}}))},ee=function(e){var t=e.value,a=e.onChange,n=[];for(var i in X)n.push(r.a.createElement("option",{key:i},X[i]));for(var c in J)J[c]!==J.NONE&&n.push(r.a.createElement("option",{key:c},J[c]));return r.a.createElement("span",null,r.a.createElement("select",{value:t,onChange:function(e){return a(e)}},n))},te=function(e){var t=e.id,a=Object(o.c)((function(e){return j(e,0)})),n=a.name,i=a.levelDiff,c=a.ACTrend,s=a.FortTrend,l=a.RefTrend,d=a.WillTrend,u=a.PerTrend,p=a.flatfooted,m=a.weaknesses,f=Object(o.b)(),v=[];for(var E in L)v.push(r.a.createElement("option",{key:E},L[E]));var g=[];for(var h in F)g.push(r.a.createElement("option",{key:h},F[h]));return r.a.createElement("div",{className:"box flexbox"},r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"targetName"},"Target Name: "),r.a.createElement("input",{id:"targetName",type:"text",placeholder:"Enter Target name",value:n,onChange:function(e){return f(S({id:t,changes:{name:e.target.value}}))}})),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"levelDiff"}," Level Difference: "),r.a.createElement("input",{type:"number",id:"levelDiff",value:i,onChange:function(e){return f(S({id:t,changes:{levelDiff:parseInt(e.target.value)}}))}})),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"AC"}," AC: "),r.a.createElement("select",{id:"AC",value:c,onChange:function(e){return f(S({id:t,changes:{ACTrend:e.target.value}}))}},v)),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"Fort"}," Fort: "),r.a.createElement("select",{id:"Fort",value:s,onChange:function(e){return f(S({id:t,changes:{FortTrend:e.target.value}}))}},g)),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"Ref"}," Ref: "),r.a.createElement("select",{id:"Red",value:l,onChange:function(e){return f(S({id:t,changes:{RefTrend:e.target.value}}))}},g)),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"Will"}," Will: "),r.a.createElement("select",{id:"Will",value:d,onChange:function(e){return f(S({id:t,changes:{WillTrend:e.target.value}}))}},g)),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"Perception"}," Perception: "),r.a.createElement("select",{id:"Perception",value:u,onChange:function(e){return f(S({id:t,changes:{PerTrend:e.target.value}}))}},g)),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"Flatfooted"}," Flatfooted: "),r.a.createElement("input",{id:"Flatfooted",type:"checkbox",checked:p,onChange:function(e){return f(S({id:t,changes:{flatfooted:e.target.checked}}))}})),r.a.createElement("div",{className:"box flexbox"}," Resistance/Weakness: ",m.map((function(e){return r.a.createElement(q,{parentId:t,id:e,key:e})})),r.a.createElement(Z,{parentId:t})))},ae=Object(u.b)(),ne={},re=1;re<=20;re++)ne[re]=0;for(var ie=1,ce=Object(u.c)({name:"damages",initialState:ae.getInitialState(),reducers:{damageAdded:ae.addOne,damageUpdated:ae.updateOne,damageCreated:{reducer:function(e,t){var a=t.payload.id;ae.addOne(e,{id:a,damageCondition:V.STRIKE,damageType:X.S,material:J.NONE,persistent:!1,multiplier:1,dieTrend:K.NONE,dieAdjustments:Object(k.a)({},ne),diceSize:6,damageTrend:[],damageAdjustments:Object(k.a)({},ne)})},prepare:function(e){var t=e.parentId;return{payload:{id:++ie,parentId:t}}}},damageRemoved:function(e,t){ae.removeOne(e,t.payload.id)}}}),se=ce.actions,le=se.damageRemoved,de=se.damageCreated,oe=se.damageAdded,ue=se.damageUpdated,pe=ce.reducer,me=ae.getSelectors((function(e){return e.damages})),fe=me.selectById,ve=(me.selectIds,me.selectEntities),Ee=(me.selectAll,me.selectTotal,Object(u.b)()),ge=1,he=Object(u.c)({name:"effects",initialState:Ee.getInitialState(),reducers:{effectAdded:Ee.addOne,effectUpdated:Ee.updateOne,effectCreated:{reducer:function(e,t){var a=t.payload.id;Ee.addOne(e,{id:a,effectCondition:W.ALWAYS,effectType:$.FLATFOOT,startLevel:1,endLevel:20})},prepare:function(e){var t=e.parentId;return{payload:{id:++ge,parentId:t}}}},effectRemoved:function(e,t){Ee.removeOne(e,t.payload.id)}}}),Ae=he.actions,be=(Ae.effectAdded,Ae.effectUpdated),Oe=Ae.effectCreated,ye=Ae.effectRemoved,Te=he.reducer,Ie=Ee.getSelectors((function(e){return e.effects})),Ce=Ie.selectById,xe=(Ie.selectIds,Ie.selectEntities),Se=(Ie.selectAll,Ie.selectTotal,Object(u.b)()),Ne={},Re=1;Re<=20;Re++)Ne[Re]=0;for(var je,De,ke,Pe,Le,Fe,We,Me=1,we={rollType:M.NORMAL,type:w.STRIKE,profTrend:U.MARTIALWEAPON,statTrend:H.AS18a,itemTrend:G.WEAPON,bonusAdjustments:Object(k.a)({},Ne),MAP:B.N1,targetType:z.AC},Ue=Object(u.c)({name:"activityPaths",initialState:Se.getInitialState(),reducers:{activityPathAdded:Se.addOne,activityPathUpdated:function(e,t){Se.updateOne(e,t.payload)},activityPathRemoved:function(e,t){var a=t.payload,n=a.id,r=a.parentId;Se.removeOne(e,n),void 0!==r&&(e.entities[r].apIds=e.entities[r].apIds.filter((function(e){return e!==n})))},activityPathCreated:{reducer:function(e,t){var a,n=t.payload,r=n.id,i=n.parentId,c=n.applyMAP;a=void 0!==i?e.entities[i]:we,Se.addOne(e,{id:r,condition:W.ALWAYS,rollType:M.NORMAL,type:w.STRIKE,profTrend:a.profTrend,statTrend:a.statTrend,itemTrend:a.itemTrend,bonusAdjustments:Object(k.a)({},a.bonusAdjustments),MAP:c?_[a.MAP]:a.MAP,targetType:z.AC,damages:[],effects:[],apIds:[]}),void 0!==i&&e.entities[i].apIds.push(r)},prepare:function(e){var t=e.parentId,a=e.routineId,n=e.applyMAP;return{payload:{id:++Me,parentId:t,routineId:a,applyMAP:n}}}}},extraReducers:function(e){e.addCase(de,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].damages.push(r)})).addCase(le,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].damages=e.entities[n].damages.filter((function(e){return e!==r}))})).addCase(Oe,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].effects.push(r)})).addCase(ye,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].effects=e.entities[n].effects.filter((function(e){return e!==r}))}))}}),He=Ue.actions,Ge=He.activityPathCreated,Be=He.activityPathAdded,_e=He.activityPathUpdated,ze=He.activityPathRemoved,Ve=Ue.reducer,Ke=Se.getSelectors((function(e){return e.activityPaths})),Ye=Ke.selectById,Xe=(Ke.selectIds,Ke.selectEntities),Je=(Ke.selectAll,Ke.selectTotal,Object(u.b)()),$e=1,qe=Object(u.c)({name:"routines",initialState:Je.getInitialState({selectedRoutine:0}),reducers:{setRoutine:function(e,t){e.selectedRoutine=t.payload||0},routineAdded:Je.addOne,routineUpdated:Je.updateOne,routineRemoved:function(e,t){Je.removeOne(e,t),t.payload===e.selectedRoutine&&(e.selectedRoutine=e.ids?e.ids[0]:void 0)},routineCreated:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.name,i=a.apIds;e.selectedRoutine=n,Je.addOne(e,{id:n,name:r,display:!0,apIds:i})},prepare:function(){return{payload:{id:++$e,name:"New Routine",apIds:[]}}}}},extraReducers:function(e){e.addCase(Ge,(function(e,t){var a=t.payload,n=a.routineId,r=a.id;void 0!==n&&e.entities[n].apIds.push(r)})).addCase(ze,(function(e,t){var a=t.payload,n=a.routineId,r=a.id;void 0!==n&&(e.entities[n].apIds=e.entities[n].apIds.filter((function(e){return e!==r})))}))}}),Qe=qe.actions,Ze=Qe.routineCreated,et=Qe.setRoutine,tt=(Qe.updateSelected,Qe.routineAdded),at=Qe.routineUpdated,nt=Qe.routineRemoved,rt=qe.reducer,it=Je.getSelectors((function(e){return e.routines})),ct=it.selectById,st=(it.selectIds,it.selectEntities),lt=it.selectAll,dt=(it.selectTotal,function(e){return e.routines.selectedRoutine}),ot=a(19),ut=a(20),pt=a(14),mt=a(23),ft=function(e,t){if(0===e.length||0===t.length)throw new Error("Vectors can not be empty!");for(var a=e,n=t,r=0,i=[],c=0;c<a.length;c++){for(var s=0;s<n.length;s++)r+s!==i.length?i[r+s]=i[r+s]+a[c]*n[s]:i.push(a[c]*n[s]);r++}return i},vt=function(){for(var e=0,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];for(var r=0,i=a;r<i.length;r++){var c=i[r];e=Math.max(e,c[0].staticDamage+c[0].damageDist.length)}for(var s=[],l=0;l<e;l++){s.push(0);var d,o=Object(pt.a)(a);try{for(o.s();!(d=o.n()).done;){var u=d.value;if(u[0].staticDamage<=l){var p=l-u[0].staticDamage;p<u[0].damageDist.length&&(s[l]+=u[0].damageDist[p]*u[1])}}}catch(m){o.e(m)}finally{o.f()}}return s},Et=function(e,t,a){for(;e<a;)t.length>=2&&(t[1]+=t[0],t.shift()),e++;return[e,t]},gt=a(1),ht={},At={},bt={},Ot={},yt={},Tt={},It={},Ct={},xt={},St={},Nt={},Rt={},jt={},Dt={},kt={},Pt={},Lt={},Ft={},Wt={},Mt=1;Mt<=20;Mt++)Ft[Mt]=Math.floor((Mt+1)/2),Wt[Mt]=2*Math.floor((Mt+1)/2);for(var wt={},Ut={},Ht={},Gt={},Bt={},_t={},zt={},Vt={},Kt={},Yt={},Xt={},Jt={},$t={},qt={},Qt={},Zt={},ea={},ta={},aa=1;aa<=20;aa++)ht[aa]=0,At[aa]=aa,bt[aa]=aa+2,Ot[aa]=aa+2,yt[aa]=4,Tt[aa]=3,It[aa]=3,Ct[aa]=3,xt[aa]=2,St[aa]=2,Nt[aa]=2,Rt[aa]=2,jt[aa]=2,Dt[aa]=2,Xt[aa]=aa+2,Jt[aa]=aa+2,kt[aa]=0,Pt[aa]=0,Lt[aa]=1,wt[aa]=0,Ut[aa]=1,Ht[aa]=0,Gt[aa]=0,aa>=2&&(kt[aa]=1),aa>=3&&(Ot[aa]=aa+4,Pt[aa]=1),aa>=4&&(Lt[aa]=2),aa>=5&&(Nt[aa]=4,Tt[aa]=4,It[aa]=4,Ct[aa]=4,xt[aa]=3,St[aa]=3),aa>=7&&(Rt[aa]=4,Ht[aa]=1,Dt[aa]=4,Ot[aa]=aa+6),aa>=8&&(wt[aa]=1),aa>=9&&(Pt[aa]=2,Xt[aa]=aa+4),aa>=10&&(kt[aa]=2,yt[aa]=5,xt[aa]=4,St[aa]=4),aa>=11&&(jt[aa]=4),aa>=12&&(Lt[aa]=3,Jt[aa]=aa+4,Ut[aa]=2),aa>=13&&(Nt[aa]=6,Gt[aa]=1),aa>=15&&(Ht[aa]=2,Tt[aa]=5,It[aa]=5,Dt[aa]=6,Ot[aa]=aa+8,wt[aa]=2),aa>=16&&(kt[aa]=3),aa>=17&&(Tt[aa]=6,yt[aa]=6,Pt[aa]=3,Xt[aa]=aa+6),aa>=18&&(Jt[aa]=aa+6),aa>=19&&(Lt[aa]=4,Dt[aa]=8,Ut[aa]=3),aa>=20&&(yt[aa]=7),Bt[aa]=aa+Nt[aa]+2,_t[aa]=aa+Nt[aa],zt[aa]=aa+jt[aa],Vt[aa]=aa+Rt[aa],Kt[aa]=aa+Dt[aa],Yt[aa]=10+aa+Dt[aa]+yt[aa],$t[aa]=yt[aa]+Ht[aa]*(Nt[aa]+2)/2,qt[aa]=Ht[aa]*(Nt[aa]+2)/2,Qt[aa]=yt[aa]+Ht[aa]*Nt[aa]/2,Zt[aa]=Ht[aa]*Nt[aa]/2,ea[aa]=Ct[aa]+Gt[aa]*jt[aa]/2,ta[aa]=Gt[aa]*jt[aa]/2;var na=(je={},Object(gt.a)(je,U.TRAINED,bt),Object(gt.a)(je,U.FIGHTERWEAPON,Bt),Object(gt.a)(je,U.MARTIALWEAPON,_t),Object(gt.a)(je,U.CASTERWEAPON,zt),Object(gt.a)(je,U.ALCHWEAPON,Vt),Object(gt.a)(je,U.CASTERSPELL,Kt),Object(gt.a)(je,U.MAGUSSPELL,Xt),Object(gt.a)(je,U.MCSPELL,Jt),Object(gt.a)(je,U.MAXSKILL,Ot),je),ra=(De={},Object(gt.a)(De,H.AS10,ht),Object(gt.a)(De,H.AS18a,yt),Object(gt.a)(De,H.AS16a,Tt),Object(gt.a)(De,H.AS16pp,It),Object(gt.a)(De,H.AS16p,Ct),Object(gt.a)(De,H.AS14pp,xt),Object(gt.a)(De,H.AS14p,St),De),ia=(ke={},Object(gt.a)(ke,G.NONE,ht),Object(gt.a)(ke,G.WEAPON,kt),Object(gt.a)(ke,G.SKILL,Pt),ke),ca={"0 (0x-5)":0,"-5 (1x-5)":-5,"-10 (2x-5)":-10,"0 (0x-4)":0,"-4 (1x-4)":-4,"-8 (2x-4)":-8,"0 (0x-3)":0,"-3 (1x-3)":-3,"-6 (2x-3)":-6,"0 (0x-2)":0,"-2 (1x-2)":-2,"-4 (2x-2)":-4,"0 (0x-1)":0,"-1 (1x-1)":-1,"-2 (2x-1)":-2},sa=Object(k.a)(Object(k.a)({},ra),{},(Pe={},Object(gt.a)(Pe,Y.NONE,ht),Object(gt.a)(Pe,Y.FIGHTERWEAPONSPEC,qt),Object(gt.a)(Pe,Y.MARTIALWEAPONSPEC,Zt),Object(gt.a)(Pe,Y.CASTERWEAPONSPEC,ta),Pe)),la=(Le={},Object(gt.a)(Le,K.NONE,ht),Object(gt.a)(Le,K.WEAPON,Lt),Object(gt.a)(Le,K.SPELLLEVEL1,Ft),Object(gt.a)(Le,K.SPELLLEVEL2,Wt),Object(gt.a)(Le,K.RUNE,wt),Object(gt.a)(Le,K.DEADLY,Ut),Le),da={"-1":18,0:19,1:19,2:21,3:22,4:24,5:25,6:27,7:28,8:30,9:31,10:33,11:34,12:36,13:37,14:39,15:40,16:42,17:43,18:45,19:46,20:48,21:49,22:51,23:52,24:54},oa=Object(k.a)({},da);for(var ua in oa)oa[ua]-=3;var pa=Object(k.a)({},da);for(var ma in pa)pa[ma]-=4;var fa=Object(k.a)({},da);for(var va in fa)fa[va]-=6;var Ea=(Fe={},Object(gt.a)(Fe,L.EXTREME,da),Object(gt.a)(Fe,L.HIGH,oa),Object(gt.a)(Fe,L.MODERATE,pa),Object(gt.a)(Fe,L.LOW,fa),Fe),ga=(We={},Object(gt.a)(We,F.EXTREME,{"-1":9,0:10,1:11,2:12,3:14,4:15,5:17,6:18,7:20,8:21,9:23,10:24,11:26,12:27,13:29,14:30,15:32,16:33,17:35,18:36,19:38,20:39,21:41,22:43,23:44,24:46}),Object(gt.a)(We,F.HIGH,{"-1":8,0:9,1:10,2:11,3:12,4:14,5:15,6:17,7:18,8:19,9:21,10:22,11:24,12:25,13:26,14:28,15:29,16:30,17:32,18:33,19:35,20:36,21:38,22:39,23:40,24:42}),Object(gt.a)(We,F.MODERATE,{"-1":5,0:6,1:7,2:8,3:9,4:11,5:12,6:14,7:15,8:16,9:18,10:19,11:21,12:22,13:23,14:25,15:26,16:28,17:29,18:30,19:32,20:33,21:35,22:36,23:37,24:38}),Object(gt.a)(We,F.LOW,{"-1":2,0:3,1:4,2:5,3:6,4:8,5:9,6:11,7:12,8:13,9:15,10:16,11:18,12:19,13:20,14:22,15:23,16:25,17:26,18:27,19:29,20:30,21:32,22:33,23:34,24:36}),Object(gt.a)(We,F.TERRIBLE,{"-1":0,0:1,1:2,2:3,3:4,4:6,5:7,6:8,7:10,8:11,9:12,10:14,11:15,12:16,13:18,14:19,15:20,16:22,17:23,18:24,19:26,20:27,21:28,22:30,23:31,24:32}),We);var ha=function(e,t,a,n,r,i,c){e=n?e.persistent:e.normal;var s=function(e,t,a){if(0===a)return[0,[1]];if(1===a)return[e,Object(mt.a)(t)];var n,r=[0],i=0,c=Math.floor(e*a),s=0,l=c,d=Object(pt.a)(t);try{for(d.s();!(n=d.n()).done;){var o=n.value,u=Math.floor((e+s)*a);if(u===l)r[i]+=o;else{if(u>l+1)for(var p=0;p<u-(l+1);p++)r[++i]=0;r[++i]=o}l=u,s++}}catch(m){d.e(m)}finally{d.f()}return[c,r]}(r,i,c),l=Object(d.a)(s,2);r=l[0],i=l[1],t in e?(e[t].staticDamage+=r,e[t].damageDist=ft(e[t].damageDist,i),a!==J.NONE&&(e[t].material=a)):e[t]={material:a,staticDamage:r,damageDist:i}};function Aa(e,t){var a=[];switch(e){case W.ALWAYS:a=[0,1,2,3];break;case W.AT_LEAST_FAIL:a=[0,1,2];break;case W.AT_LEAST_SUCC:a=[0,1];break;case W.CRIF:a=[3];break;case W.CRIT:a=[0];break;case W.FAIL:a=[2];break;case W.FAIL_WORSE:a=[2,3];break;case W.SUCC:a=[1];break;case W.SUCC_WORSE:a=[1,2,3]}return a.includes(t)}for(var ba=function(){function e(t,a,n,r,i){Object(ot.a)(this,e),this.activityPaths=t,this.targets=a,this.damages=n,this.effects=r,this.weaknesses=i}return Object(ut.a)(e,[{key:"canEvaluate",value:function(e){var t=this.targets[0].levelDiff;return!(e+t<-1||e+t>24)}},{key:"evalRoutine",value:function(e,t,a,n){for(var r={flatfooted:!1,frightened:0},i=[],c=[],s=[],l=[],o=0,u=0,p=[1],m=[1],f=0;f<e.apIds.length;f++){var v=this.activityPaths[e.apIds[f]],E=this.evalPath(v,r,t,a,n),g=Object(d.a)(E,2),h=g[0],A=g[1];p=ft(p,h),m=ft(m,A)}for(var b=1,O=0;O<p.length;O++)i.push(O),c.push(b),b-=p[O],o+=p[O]*O;b=1;for(var y=0;y<m.length;y++)s.push(y),l.push(b),b-=m[y],u+=m[y]*y;return{expD:o,expP:u,dataArray:i,routineDDist:p,cumulative:c,PdataArray:s,routinePDDist:m,Pcumulative:l}}},{key:"evalPath",value:function(e,t,a,n,r){for(var i=this,c=this.targets[0],s=e.damages.map((function(e){return i.damages[e]})),l=e.effects.map((function(e){return i.effects[e]})),o=c.weaknesses.map((function(e){return i.weaknesses[e]})),u=function(e,t,a,n,r,i,c,s){var l,o,u;switch(t.targetType){case z.AC:u=Ea[n.ACTrend];break;case z.FORT:u=ga[n.FortTrend];break;case z.REF:u=ga[n.RefTrend];break;case z.WILL:u=ga[n.WillTrend];break;case z.PER:u=ga[n.PerTrend];break;default:u=Ea[n.ACTrend]}switch(u=u[e+n.levelDiff],t.type){case w.STRIKE:l=na[t.profTrend][e],l+=ra[t.statTrend][e],l+=ia[t.itemTrend][e],l+=t.bonusAdjustments[e],l+=ca[t.MAP],o=u+c-r.frightened,t.targetType===z.AC?(n.flatfooted||r.flatfooted)&&(o-=2):o+=10;break;case w.SAVE:l=u+c-r.frightened,o=10+na[t.profTrend][e],o+=ra[t.statTrend][e],o+=ia[t.itemTrend][e],o+=t.bonusAdjustments[e],t.targetType===z.AC&&(l-=10);break;default:console.log("Activity type ".concat(t.type," not implemented"))}var p=function(e,t){var a=e-t;return a<-20?0:-20===a?5:a<-9?arguments.length>2&&void 0!==arguments[2]&&arguments[2]?10:5:a<8?5*(11+a):95}(l,o),m=function(e,t){var a=e-t;return a<-29?0:a<-20?5:-20===a?0:a<-9?5*(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?19:20+a):a<-1?50:a<9?5*(8-a):5}(l,o),f=function(e,t){var a=e-t;return a<-29?5:a<-20?5*(29+a):a<-10?45:a<-1?5*(-2-a):a<9?5:0}(l,o),v=function(e,t){var a=e-t;return a<-29?95:a<-10?5*(-10-a):a<-1?5:0}(l,o);if(t.rollType===M.ADVANTAGE){var E=100-p,g=E-m,h=g-f;f=100-h*h/100-(m=100-g*g/100-(p=100-E*E/100))-p,v=v*v/100}else if(t.rollType===M.DISADVANTAGE){var A=100-v,b=A-f,O=b-m;m=100-O*O/100-(f=100-b*b/100-(v=100-A*A/100))-v,p=p*p/100}var y=[p/100,m/100,f/100,v/100],T={normal:{},persistent:{}},I={normal:{},persistent:{}},C={normal:{},persistent:{}},x={normal:{},persistent:{}},S=[T,I,C,x];a.forEach((function(t){var a=t.damageCondition,n=t.diceSize,r=t.damageTrend,i=t.damageType,c=t.material,s=t.persistent,l=t.multiplier,d=la[t.dieTrend][e];(d+=t.dieAdjustments[e])<0&&(d=0);for(var o=0,u=0;u<r.length;u++)o+=sa[r[u]][e];o+=t.damageAdjustments[e];for(var p=[1],m=[],f=0;f<n;f++)m.push(1/n);for(var v=0;v<d;v++)p=ft(p,m);switch(o+=d,a){case V.STRIKE:ha(I,i,c,s,o,p,1*l),ha(T,i,c,s,o,p,2*l);break;case V.BASIC:ha(I,i,c,s,o,p,.5*l),ha(C,i,c,s,o,p,1*l),ha(x,i,c,s,o,p,2*l);break;case V.CRIF:ha(x,i,c,s,o,p,1*l);break;case V.FAIL:ha(C,i,c,s,o,p,1*l);break;case V.SUCC:ha(I,i,c,s,o,p,1*l);break;case V.CRIT:ha(T,i,c,s,o,p,1*l);break;case V.AT_LEAST_SUCC:ha(I,i,c,s,o,p,1*l),ha(T,i,c,s,o,p,1*l);break;case V.AT_LEAST_FAIL:ha(C,i,c,s,o,p,1*l),ha(I,i,c,s,o,p,1*l),ha(T,i,c,s,o,p,1*l);break;case V.FAIL_WORSE:ha(x,i,c,s,o,p,1*l),ha(C,i,c,s,o,p,1*l);break;case V.SUCC_WORSE:ha(x,i,c,s,o,p,1*l),ha(C,i,c,s,o,p,1*l),ha(I,i,c,s,o,p,1*l);break;case V.ALWAYS:ha(x,i,c,s,o,p,1*l),ha(C,i,c,s,o,p,1*l),ha(I,i,c,s,o,p,1*l),ha(T,i,c,s,o,p,1*l);break;default:console.log("Damage condition ".concat(t.condition," not implemented yet."))}}));for(var N=0,R=S;N<R.length;N++)for(var j=R[N],D=0,k=["normal","persistent"];D<k.length;D++){var P=k[D],L=0,F=[1],W=function(e){var t=j[P][e],a=t.material,n=t.staticDamage,r=t.damageDist;if(1===r.length&&n<=0)return"continue";var c=Et(n,r,1),l=Object(d.a)(c,2);n=l[0],r=l[1];var o=0,u=0;i.forEach((function(t){t.type!==e&&t.type!==a||(t.value+s<0?o=Math.min(o,t.value+s):t.value+s>0&&(u=Math.max(u,t.value+s)))}));var p=Et(n-=u+o,r,0),m=Object(d.a)(p,2);n=m[0],r=m[1],L+=n,F=ft(F,r)};for(var U in j[P])W(U);j[P].staticDamage=L,j[P].damageDist=F}return[S,y]}(a,e,s,c,t,o,n,r),p=Object(d.a)(u,2),m=p[0],f=p[1],v=[t,t,t,t],E=function(e){l.forEach((function(t){var n=t.effectCondition,r=t.effectType,i=t.startLevel,c=t.endLevel;if(!(a<i||a>c)&&Aa(n,e))switch(r){case $.FLATFOOT:!0!==v[e].flatfooted&&(v[e]=Object(k.a)(Object(k.a)({},v[e]),{},{flatfooted:!0}));break;case $.FRIGHTENED1:v[e].frightened<1&&(v[e]=Object(k.a)(Object(k.a)({},v[e]),{},{frightened:1}));break;case $.FRIGHTENED2:v[e].frightened<2&&(v[e]=Object(k.a)(Object(k.a)({},v[e]),{},{frightened:2}));break;case $.FRIGHTENED3:v[e].frightened<3&&(v[e]=Object(k.a)(Object(k.a)({},v[e]),{},{frightened:3}));break;case $.FRIGHTENED4:v[e].frightened<4&&(v[e]=Object(k.a)(Object(k.a)({},v[e]),{},{frightened:4}));break;default:console.log("Effect type ".concat(r," not implemented"))}}))},g=0;g<4;g++)E(g);return e.apIds.forEach((function(e){for(var t=i.activityPaths[e],c=new Map,s=0;s<4;s++)if(Aa(t.condition,s)){if(c.has(v[s]));else{var l=i.evalPath(t,v[s],a,n,r),o=Object(d.a)(l,2),u=o[0],p=o[1];c.set(v[s],{pathDist:u,pathPDist:p})}m[s].normal.damageDist=ft(m[s].normal.damageDist,c.get(v[s]).pathDist),m[s].persistent.damageDist=ft(m[s].persistent.damageDist,c.get(v[s]).pathPDist)}})),[vt([m[0].normal,f[0]],[m[1].normal,f[1]],[m[2].normal,f[2]],[m[3].normal,f[3]]),vt([m[0].persistent,f[0]],[m[1].persistent,f[1]],[m[2].persistent,f[2]],[m[3].persistent,f[3]])]}}]),e}(),Oa=a(21),ya=a.n(Oa),Ta=a(22),Ia=a.n(Ta)()(ya.a),Ca=function(e,t){var a=[],n=[];for(var r in e){var i=e[r];if(i.display){for(var c=[],s=[],l=[],d=1;d<=20;d++)if(t.canEvaluate(d)){c.push(d);var o=t.evalRoutine(i,d,0,0),u=o.expD,p=o.expP;s.push(u),l.push(p)}a.push({type:"scatter",name:i.name,x:c,y:s,yaxis:"y"}),n.push({type:"scatter",name:i.name,x:c,y:l,yaxis:"y"})}}return{datasets:a,perDatasets:n}},xa=function(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=[],c=[],s=[],l=[];if(!t.canEvaluate(a))return{expectedDamages:s,expectedPersistentDamages:l,datasets:i,perDatasets:c};for(var d in e){var o=e[d];if(o.display){for(var u=[],p=[],m=[],f=-5;f<=5;f++){u.push(f);var v=t.evalRoutine(o,a,n?f:0,n?0:f),E=v.expD,g=v.expP;0===f&&(s.push(r.a.createElement("div",{key:o.id},o.name,": ",E.toFixed(2))),l.push(r.a.createElement("div",{key:o.id},o.name,": ",g.toFixed(2)))),p.push(E),m.push(g)}i.push({type:"scatter",name:o.name,x:u,y:p,yaxis:"y"}),c.push({type:"scatter",name:o.name,x:u,y:m,yaxis:"y"})}}return{expectedDamages:s,expectedPersistentDamages:l,datasets:i,perDatasets:c}},Sa=function(e,t,a){var n=[],i=[],c=[],s=[];if(!t.canEvaluate(a))return{expectedDamages:c,expectedPersistentDamages:s,datasets:n,perDatasets:i};for(var l in e){var d=e[l];if(d.display){var o=t.evalRoutine(d,a,0,0),u=o.expD,p=o.expP,m=o.dataArray,f=o.routineDDist,v=o.cumulative,E=o.PdataArray,g=o.routinePDDist,h=o.Pcumulative;c.push(r.a.createElement("div",{key:d.id},d.name,": ",u.toFixed(2))),s.push(r.a.createElement("div",{key:d.id},d.name,": ",p.toFixed(2))),n.push({type:"scatter",name:d.name,x:m,y:v,yaxis:"y"}),n.push({type:"bar",name:u.toFixed(2),x:m,y:f}),i.push({type:"scatter",name:d.name,x:E,y:h}),i.push({type:"bar",name:p.toFixed(2),x:E,y:g})}}return{expectedDamages:c,expectedPersistentDamages:s,datasets:n,perDatasets:i}},Na=function(e,t){var a,n,i,c,s=Object(o.c)(st),l=Object(o.c)(Xe),d=Object(o.c)(D),u=Object(o.c)(ve),p=Object(o.c)(xe),m=Object(o.c)(y),f=new ba(l,d,u,p,m),v=d[0],E="",g=v.name;switch(E+=" Vs ",E+=" AC: "+Ea[v.ACTrend][t],E+=" Fort: "+ga[v.FortTrend][t],E+=" Ref: "+ga[v.RefTrend][t],E+=" Will: "+ga[v.WillTrend][t],E+=" Per: "+ga[v.PerTrend][t],e){case P.DISTRIBUTION:var h=Sa(s,f,t);i=h.expectedDamages,c=h.expectedPersistentDamages,a=h.datasets,n=h.perDatasets;break;case P.PMDEFENSE:var A=xa(s,f,t,!0);i=A.expectedDamages,c=A.expectedPersistentDamages,a=A.datasets,n=A.perDatasets;break;case P.PMRES:var b=xa(s,f,t,!1);i=b.expectedDamages,c=b.expectedPersistentDamages,a=b.datasets,n=b.perDatasets}var O,T,I=Ca(s,f),C=I.datasets,x=I.perDatasets;return e===P.DISTRIBUTION?(O="damage",T="chance"):e===P.PMDEFENSE?(O="+/- AC/Save Bonus",T="Expected Damage"):e===P.PMRES&&(O="+/- Resistance/Weakness",T="Expected Damage"),{expectedDamages:i,expectedPersistentDamages:c,damageChart:r.a.createElement(Ia,{classname:"plot",data:a,layout:{title:E,autosize:!0,xaxis:{title:O},yaxis:{title:T},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}}),persistentDamageChart:r.a.createElement(Ia,{classname:"plot",data:n,layout:{title:"Expected Persistent Damage",autosize:!0,xaxis:{title:"persistent damage"},yaxis:{title:"chance"},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}}),byLevelDamageChart:r.a.createElement(Ia,{classname:"plot",data:C,layout:{title:g,autosize:!0,xaxis:{title:"Level"},yaxis:{title:"Expected Damage"},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}}),byLevelPerDamageChart:r.a.createElement(Ia,{classname:"plot",data:x,layout:{title:g,autosize:!0,xaxis:{title:"Level"},yaxis:{title:"Expected Persistent Damage"},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}})}},Ra=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)(P.DISTRIBUTION),s=Object(d.a)(c,2),l=s[0],o=s[1],u=Object(n.useState)(1),p=Object(d.a)(u,2),m=p[0],f=p[1],v=Na(l,m),E=v.expectedDamages,g=v.expectedPersistentDamages,h=v.damageChart,A=v.persistentDamageChart,b=v.byLevelDamageChart,O=v.byLevelPerDamageChart,y=[];for(var T in P)y.push(r.a.createElement("option",{key:T},P[T]));for(var I=[],C=1;C<=20;C++)I.push(r.a.createElement("option",{key:C,value:C},C));return r.a.createElement("div",{className:"box"},"Graph Type: ",r.a.createElement("select",{value:l,onChange:function(e){return o(e.target.value)}},y),l===P.BYLEVEL?"":r.a.createElement("select",{value:m,onChange:function(e){return f(parseInt(e.target.value))}},I)," Show persistent damage: ",r.a.createElement("input",{type:"checkbox",checked:a,onChange:function(e){return i(e.target.checked)}}),r.a.createElement("div",null,"Expected Damage:",E),h,b,a?r.a.createElement("div",null,r.a.createElement("div",null,"Expected Persistent Damage:",g),A,O):"")},ja=[],Da=1;Da<=20;Da++)ja.push(r.a.createElement("option",{key:Da},Da));var ka=[];for(var Pa in W)ka.push(r.a.createElement("option",{key:Pa},W[Pa]));var La=[];for(var Fa in M)La.push(r.a.createElement("option",{key:Fa},M[Fa]));var Wa=[];for(var Ma in w)Wa.push(r.a.createElement("option",{key:Ma},w[Ma]));var wa=[];for(var Ua in U)wa.push(r.a.createElement("option",{key:Ua},U[Ua]));var Ha=[];for(var Ga in H)Ha.push(r.a.createElement("option",{key:Ga},H[Ga]));var Ba=[];for(var _a in G)Ba.push(r.a.createElement("option",{key:_a},G[_a]));var za=[];for(var Va in B)za.push(r.a.createElement("option",{key:Va},B[Va]));var Ka=[];for(var Ya in z)Ka.push(r.a.createElement("option",{key:Ya},z[Ya]));var Xa=[];for(var Ja in V)Xa.push(r.a.createElement("option",{key:Ja},V[Ja]));var $a=[];for(var qa in K)$a.push(r.a.createElement("option",{key:qa},K[qa]));var Qa=[];for(var Za in{4:4,6:6,8:8,10:10,12:12})Qa.push(r.a.createElement("option",{key:Za},Za));var en=[];for(var tn in Y)en.push(r.a.createElement("option",{key:tn},Y[tn]));var an=[];for(var nn in X)an.push(r.a.createElement("option",{key:nn},X[nn]));var rn=[];for(var cn in J)rn.push(r.a.createElement("option",{key:cn},J[cn]));for(var sn=[],ln=0,dn=[.5,1,2];ln<dn.length;ln++){var on=dn[ln];sn.push(r.a.createElement("option",{key:on},on))}var un=[];for(var pn in $)un.push(r.a.createElement("option",{key:pn},$[pn]));var mn=function(e){for(var t={},a=0,n=0,r=1;r<=20;r++)e[n]&&e[n][0]===r&&((a=e[n][1])||(a=0),n++),t[r]=a;return t},fn=function(e){var t=e.length>0?e[e.length-1]:[0,0];return e.push([t[0]+1,t[1]+1]),mn(e)},vn=function(e,t,a,n,i){for(var c=function(e){for(var t=0,a=[],n=1;n<=20;n++)t!==e[n]&&(t=e[n],a.push([n,t]));return a}(i),s=[],l=function(i){s.push(r.a.createElement("span",{className:"input",key:i},"@",r.a.createElement("select",{value:c[i][0],onChange:function(r){return t(a({id:n,changes:Object(gt.a)({},e,(s=c,l=i,d=parseInt(r.target.value),s[l]=[d,s[l][1]],s.sort((function(e,t){return e[0]-t[0]})),mn(s)))}));var s,l,d}},ja),"+",r.a.createElement("input",{type:"number",value:c[i][1],onChange:function(r){return t(a({id:n,changes:Object(gt.a)({},e,(s=c,l=i,d=parseInt(r.target.value),s[l]=[s[l][0],d],mn(s)))}));var s,l,d}})))},d=0;d<c.length;d++)l(d);return s.push(r.a.createElement("button",{key:"addButton",className:"add",onClick:function(){return t(a({id:n,changes:Object(gt.a)({},e,fn(c))}))}},"+")),s},En=function(e){var t=e.parentId,a=e.id,n=Object(o.c)((function(e){return fe(e,a)})),i=n.damageCondition,c=n.damageType,s=n.material,l=n.persistent,d=n.multiplier,u=n.dieTrend,p=n.dieAdjustments,m=n.diceSize,f=n.damageTrend,v=n.damageAdjustments,E=Object(o.b)(),g=vn("dieAdjustments",E,ue,a,p),h=vn("damageAdjustments",E,ue,a,v),A=f.map((function(e,t){return r.a.createElement("select",{key:t,value:e,onChange:function(e){var n=f.slice();e.target.value===Y.NONE?n.splice(t,1):n[t]=e.target.value,E(ue({id:a,changes:{damageTrend:n}}))}},en)}));return r.a.createElement("div",{className:"box"},r.a.createElement("button",{className:"delete",onClick:function(e){E(le({id:a,parentId:t}))}},"-"),r.a.createElement("select",{value:i,onChange:function(e){return E(ue({id:a,changes:{damageCondition:e.target.value}}))}},Xa),": ",r.a.createElement("div",null,r.a.createElement("span",{className:"input"},"Dice: (",r.a.createElement("select",{value:u,onChange:function(e){return E(ue({id:a,changes:{dieTrend:e.target.value}}))}},$a),"+",g,") d",r.a.createElement("select",{value:m,onChange:function(e){return E(ue({id:a,changes:{diceSize:parseInt(e.target.value)}}))}},Qa)),r.a.createElement("div",null,r.a.createElement("span",{className:"input"},"Static: (",A,r.a.createElement("button",{key:"addButton",className:"add",onClick:function(){var e=f.slice();e.push(Y.NONE),E(ue({id:a,changes:{damageTrend:e}}))}},"+"),"+",h,")"))),r.a.createElement("span",{className:"input"}," Type: ",r.a.createElement("select",{value:c,onChange:function(e){E(ue({id:a,changes:{damageType:e.target.value}}))}},an),r.a.createElement("select",{value:s,onChange:function(e){E(ue({id:a,changes:{material:e.target.value}}))}},rn)," Persistent: ",r.a.createElement("input",{type:"checkbox",checked:l,onChange:function(e){return E(ue({id:a,changes:{persistent:e.target.checked}}))}}))," ",r.a.createElement("span",{className:"input"}," x ",r.a.createElement("select",{value:d,onChange:function(e){E(ue({id:a,changes:{multiplier:parseFloat(e.target.value)}}))}},sn)))},gn=function(e){var t=e.parentId,a=e.id,n=Object(o.c)((function(e){return Ce(e,a)})),i=n.effectCondition,c=n.effectType,s=n.startLevel,l=n.endLevel,d=Object(o.b)();return r.a.createElement("div",{className:"box"},r.a.createElement("button",{className:"delete",onClick:function(e){d(ye({id:a,parentId:t}))}},"-"),r.a.createElement("select",{value:i,onChange:function(e){return d(be({id:a,changes:{effectCondition:e.target.value}}))}},ka),": ",r.a.createElement("select",{value:c,onChange:function(e){return d(be({id:a,changes:{effectType:e.target.value}}))}},un),"@",r.a.createElement("select",{value:s,onChange:function(e){return d(be({id:a,changes:{startLevel:parseInt(e.target.value)}}))}},ja),"to",r.a.createElement("select",{value:l,onChange:function(e){return d(be({id:a,changes:{endLevel:parseInt(e.target.value)}}))}},ja))},hn=function e(t){var a=t.id,n=t.parentId,i=t.routineId,c=t.displayCondition,s=void 0===c||c,l=Object(o.c)((function(e){return Ye(e,a)})),d=l.condition,u=l.rollType,p=l.type,m=l.profTrend,f=l.statTrend,v=l.itemTrend,E=l.bonusAdjustments,g=l.MAP,h=l.targetType,A=l.damages,b=l.effects,O=l.apIds,y=Object(o.b)(),T=vn("bonusAdjustments",y,_e,a,E);return r.a.createElement("div",{className:"box"},s?r.a.createElement("div",null,"Condition: ",r.a.createElement("select",{value:d,onChange:function(e){return y(_e({id:a,changes:{condition:e.target.value}}))}},ka)):"",r.a.createElement("div",{className:""},r.a.createElement("div",{className:"flexbox"},r.a.createElement("button",{className:"delete",onClick:function(e){y(ze({id:a,parentId:n,routineId:i}))}},"-"),r.a.createElement("span",{className:"input"},r.a.createElement("select",{value:u,onChange:function(e){y(_e({id:a,changes:{rollType:e.target.value}}))}},La)),r.a.createElement("span",{className:"input"},r.a.createElement("select",{value:p,onChange:function(e){return y(_e({id:a,changes:{type:e.target.value}}))}},Wa))," ",r.a.createElement("span",{className:"input"},p===w.SAVE?"DC: (10 + ":"Bonus: (",r.a.createElement("select",{value:m,onChange:function(e){return y(_e({id:a,changes:{profTrend:e.target.value}}))}},wa),r.a.createElement("select",{value:f,onChange:function(e){return y(_e({id:a,changes:{statTrend:e.target.value}}))}},Ha),r.a.createElement("select",{value:v,onChange:function(e){return y(_e({id:a,changes:{itemTrend:e.target.value}}))}},Ba),"+",T,")"),p===w.STRIKE?r.a.createElement("span",{className:"input"}," MAP: ",r.a.createElement("select",{value:g,onChange:function(e){return y(_e({id:a,changes:{MAP:e.target.value}}))}},za)):"",r.a.createElement("span",{className:"input"}," VS: ",r.a.createElement("select",{value:h,onChange:function(e){y(_e({id:a,changes:{targetType:e.target.value}}))}},Ka))),r.a.createElement("div",{className:"box"},"Damage: ",A.map((function(e){return r.a.createElement(En,{parentId:a,id:e,key:e})})),r.a.createElement("button",{className:"add",onClick:function(){return y(de({parentId:a}))}},"+")),r.a.createElement("div",{className:"box"},"Effects: ",b.map((function(e){return r.a.createElement(gn,{parentId:a,id:e,key:e})})),r.a.createElement("button",{className:"add",onClick:function(){return y(Oe({parentId:a}))}},"+"))),r.a.createElement("div",{className:"box"},O.map((function(t){return r.a.createElement(e,{id:t,parentId:a,key:t})})),r.a.createElement("button",{className:"add",onClick:function(){return y(Ge({parentId:a}))}},"+"),r.a.createElement("button",{className:"add",onClick:function(){return y(Ge({parentId:a,applyMAP:!0}))}},"+MAP")))};var An=function(e){var t=e.id,a=Object(o.b)(),n=Object(o.c)((function(e){return ct(e,t)})).name;return r.a.createElement("div",{className:"box"},r.a.createElement("label",{htmlFor:"routineName"},"Routine Name:"),r.a.createElement("input",{id:"routineName",type:"text",placeholder:"Enter routine name",value:n,onChange:function(e){return a(at({id:t,changes:{name:e.target.value}}))}}))},bn=function(e){var t=e.routineId,a=Object(o.c)((function(e){return ct(e,t)})).apIds,n=Object(o.b)();return r.a.createElement("div",{className:"selectedRoutine"},r.a.createElement(An,{id:t}),a.map((function(e){return r.a.createElement(hn,{id:e,routineId:t,key:e,displayCondition:!1})})),r.a.createElement("button",{className:"add",onClick:function(){return n(Ge({routineId:t}))}},"+"))},On=function(){var e=Object(o.c)(lt),t=Object(o.c)(dt),a=Object(o.b)(),n=[],i=[];return e.forEach((function(e){n.push(r.a.createElement("option",{value:e.id,key:e.id},e.name)),i.push(r.a.createElement("div",{className:"flexbox",key:e.id},r.a.createElement("button",{className:"remove",onClick:function(){return a(nt(e.id))}},"-"),r.a.createElement("span",{className:e.display?"routineOn":"routineOff",onClick:function(){return a(at({id:e.id,changes:{display:!e.display}}))}},e.name)))})),r.a.createElement("div",{className:"box"},"Selected Routine:",r.a.createElement("select",{value:t,onChange:function(e){return a(et(e.target.value))}},n),r.a.createElement("button",{className:"add",onClick:function(){return a(Ze())}},"+"),r.a.createElement("div",{className:"routines"},i))},yn=function(){return r.a.createElement("div",{className:"box"},"Import and Export Here")};a(36);l.a.initialize("G-JR2YK097BG");var Tn=function(e){var t=Object(o.c)(dt);return l.a.send("pageview"),r.a.createElement("div",{className:"PF2App"},r.a.createElement(te,{id:0}),r.a.createElement(Ra,null),r.a.createElement(On,null),void 0!==t?r.a.createElement(bn,{routineId:t}):"",r.a.createElement(yn,null))},In=Object(u.a)({reducer:{routines:rt,activityPaths:Ve,damages:pe,effects:Te,weaknesses:A,targets:N}});In.dispatch(tt({id:0,name:"Martial",display:!0,apIds:[0]}));for(var Cn={},xn=1;xn<=20;xn++)Cn[xn]=0;In.dispatch(Be({id:0,condition:W.ALWAYS,rollType:M.NORMAL,type:w.STRIKE,profTrend:U.MARTIALWEAPON,statTrend:H.AS18a,itemTrend:G.WEAPON,bonusAdjustments:Object(k.a)({},Cn),MAP:B.N1,targetType:z.AC,targetInfoId:0,damages:[0],effects:[],apIds:[]})),In.dispatch(oe({id:0,damageCondition:V.STRIKE,damageType:X.S,material:J.NONE,persistent:!1,multiplier:1,dieTrend:K.WEAPON,dieAdjustments:Object(k.a)({},Cn),diceSize:8,damageTrend:[Y.AS18a,Y.MARTIALWEAPONSPEC],damageAdjustments:Object(k.a)({},Cn)})),In.dispatch(x({id:0,name:"Custom Target",levelDiff:0,ACTrend:L.HIGH,FortTrend:F.MODERATE,RefTrend:F.MODERATE,WillTrend:F.MODERATE,PerTrend:F.MODERATE,flatfooted:!1,weaknesses:[]}));var Sn=In;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:Sn},r.a.createElement(Tn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.8c710b32.chunk.js.map