(this.webpackJsonppf2=this.webpackJsonppf2||[]).push([[0],{187:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),i=a.n(c),l=a(27),u=a.n(l),s=(a(76),a(5)),o=a(1),d=a(3),m=a(4),p=a(10),f={STRIKE:"Strike",SAVE:"Save"},v={LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},g={TERRIBLE:"Terrible",LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},E={AC:"AC",FORT:"Fort",REF:"Ref",WILL:"Will",PER:"Perception"},h={N1:"0 (0x-5)",N2:"-5 (1x-5)",N3:"-10 (2x-5)",A1:"0 (0x-4)",A2:"-4 (1x-4)",A3:"-8 (2x-4)",R1:"0 (0x-3)",R2:"-3 (1x-3)",R3:"-6 (2x-3)",RA1:"0 (0x-2)",RA2:"-2 (1x-2)",RA3:"-4 (2x-2)",RAA1:"0 (0x-1)",RAA2:"-1 (1x-1)",RAA3:"-2 (2x-1)"},b={"0 (0x-5)":0,"-5 (1x-5)":-5,"-10 (2x-5)":-10,"0 (0x-4)":0,"-4 (1x-4)":-4,"-8 (2x-4)":-8,"0 (0x-3)":0,"-3 (1x-3)":-3,"-6 (2x-3)":-6,"0 (0x-2)":0,"-2 (1x-2)":-2,"-4 (2x-2)":-4,"0 (0x-1)":0,"-1 (1x-1)":-1,"-2 (2x-1)":-2},O={NONE:"None",B:"bludgeoning",P:"piercing",S:"slashing",FIRE:"fire"},I={NONE:"none",COLD_IRON:"cold iron",SILVER:"silver",ADAMANTINE:"adamantine"},y={ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},C={STRIKE:"x1 hit, x2 crit",BASIC:"Basic save",ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},A={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20},R={4:4,6:6,8:8,10:10,12:12},k={"-1":18,0:19,1:19,2:21,3:22,4:24,5:25,6:27,7:28,8:30,9:31,10:33,11:34,12:36,13:37,14:39,15:40,16:42,17:43,18:45,19:46,20:48,21:49,22:51,23:52,24:54},S=Object(p.a)({},k);for(var j in S)S[j]-=3;var x=Object(p.a)({},k);for(var N in x)x[N]-=4;var T=Object(p.a)({},k);for(var D in T)T[D]-=6;var F=(n={},Object(o.a)(n,v.EXTREME,k),Object(o.a)(n,v.HIGH,S),Object(o.a)(n,v.MODERATE,x),Object(o.a)(n,v.LOW,T),n),L=(r={},Object(o.a)(r,g.EXTREME,{"-1":9,0:10,1:11,2:12,3:14,4:15,5:17,6:18,7:20,8:21,9:23,10:24,11:26,12:27,13:29,14:30,15:32,16:33,17:35,18:36,19:38,20:39,21:41,22:43,23:44,24:46}),Object(o.a)(r,g.HIGH,{"-1":8,0:9,1:10,2:11,3:12,4:14,5:15,6:17,7:18,8:19,9:21,10:22,11:24,12:25,13:26,14:28,15:29,16:30,17:32,18:33,19:35,20:36,21:38,22:39,23:40,24:42}),Object(o.a)(r,g.MODERATE,{"-1":5,0:6,1:7,2:8,3:9,4:11,5:12,6:14,7:15,8:16,9:18,10:19,11:21,12:22,13:23,14:25,15:26,16:28,17:29,18:30,19:32,20:33,21:35,22:36,23:37,24:38}),Object(o.a)(r,g.LOW,{"-1":2,0:3,1:4,2:5,3:6,4:8,5:9,6:11,7:12,8:13,9:15,10:16,11:18,12:19,13:20,14:22,15:23,16:25,17:26,18:27,19:29,20:30,21:32,22:33,23:34,24:36}),Object(o.a)(r,g.TERRIBLE,{"-1":0,0:1,1:2,2:3,3:4,4:6,5:7,6:8,7:10,8:11,9:12,10:14,11:15,12:16,13:18,14:19,15:20,16:22,17:23,18:24,19:26,20:27,21:28,22:30,23:31,24:32}),r),w=Object(m.b)(),P=0,W=Object(m.c)({name:"weaknesses",initialState:w.getInitialState(),reducers:{weaknessAdded:w.addOne,weaknessUpdated:w.updateOne,weaknessCreated:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.type,c=a.value;w.addOne(e,{id:n,type:r,value:c})},prepare:function(e){var t=e.parentId,a=e.type,n=e.value;return{payload:{id:++P,parentId:t,type:a,value:n}}}},weaknessRemoved:w.removeOne}}),M=W.actions,_=M.weaknessRemoved,U=M.weaknessCreated,H=M.weaknessAdded,B=M.weaknessUpdated,G=W.reducer,K=w.getSelectors((function(e){return e.weaknesses})),z=K.selectById,Y=(K.selectIds,K.selectEntities),V=(K.selectAll,K.selectTotal,Object(m.b)()),X=Object(m.c)({name:"targets",initialState:V.getInitialState(),reducers:{targetAdded:V.addOne,targetUpdated:function(e,t){V.updateOne(e,t.payload);var a=e.entities[t.payload.id];a.level||(a.level=0),a.level<-1&&(a.level=-1),a.level>24&&(a.level=24),a.useDefaultAC&&(a[E.AC]=F[a.defaultAC][a.level]),a.useDefaultFort&&(a[E.FORT]=L[a.defaultFort][a.level]),a.useDefaultRef&&(a[E.REF]=L[a.defaultRef][a.level]),a.useDefaultWill&&(a[E.WILL]=L[a.defaultWill][a.level]),a.useDefaultPer&&(a[E.PER]=L[a.defaultPer][a.level])}},extraReducers:function(e){e.addCase(U,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].weaknesses.push(r)})).addCase(_,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].weaknesses=e.entities[n].weaknesses.filter((function(e){return e!==r}))}))}}),J=X.actions,$=J.targetAdded,q=J.targetUpdated,Q=X.reducer,Z=V.getSelectors((function(e){return e.targets})),ee=Z.selectById,te=(Z.selectIds,Z.selectEntities);Z.selectAll,Z.selectTotal;var ae=function(e){var t=e.id,a=e.parentId,n=Object(d.c)((function(e){return z(e,t)})),r=n.type,c=n.value,l=Object(d.b)();return i.a.createElement("span",{className:"input"},i.a.createElement(ce,{value:r,onChange:function(e){e.target.value===O.NONE?l(_({id:t,parentId:a})):l(B({id:t,changes:{type:e.target.value}}))}}),i.a.createElement("input",{type:"number",value:c,onChange:function(e){isNaN(e.target.value)||l(B({id:t,changes:{value:parseInt(e.target.value)}}))}}))},ne=0,re=function(e){var t=e.parentId,a=Object(d.b)(),n=Object(c.useState)(0),r=Object(s.a)(n,2),l=r[0],u=r[1];return i.a.createElement("span",{className:"input"},i.a.createElement(ce,{value:O.NONE,onChange:function(e){e.target.value!==O.NONE&&(ne++,a(U({id:ne,type:e.target.value,value:l,parentId:t})))}}),i.a.createElement("input",{type:"number",value:l,onChange:function(e){return u(parseInt(e.target.value))}}))},ce=function(e){var t=e.value,a=e.onChange,n=[];for(var r in O)n.push(i.a.createElement("option",{key:r},O[r]));for(var c in I)I[c]!==I.NONE&&n.push(i.a.createElement("option",{key:c},I[c]));return i.a.createElement("span",null,i.a.createElement("select",{value:t,onChange:function(e){return a(e)}},n))},ie=function(e){var t=e.id,a=Object(d.c)((function(e){return ee(e,0)})),n=a.name,r=a.level,c=a[E.AC],l=a.defaultAC,u=a.useDefaultAC,s=a[E.FORT],m=a.defaultFort,p=a.useDefaultFort,f=a[E.REF],h=a.defaultRef,b=a.useDefaultRef,O=a[E.WILL],I=a.defaultWill,y=a.useDefaultWill,C=a[E.PER],A=a.defaultPer,R=a.useDefaultPer,k=a.flatfooted,S=a.weaknesses,j=Object(d.b)(),x=[];for(var N in v)x.push(i.a.createElement("option",{key:N},v[N]));var T=[];for(var D in g)T.push(i.a.createElement("option",{key:D},g[D]));return i.a.createElement("div",{className:"box flexbox"},i.a.createElement("span",{className:"input"},i.a.createElement("label",{htmlFor:"targetName"},"Target Name: "),i.a.createElement("input",{id:"targetName",type:"text",placeholder:"Enter Target name",value:n,onChange:function(e){return j(q({id:t,changes:{name:e.target.value}}))}})),i.a.createElement("span",{className:"input"},i.a.createElement("label",{htmlFor:"Level"}," Level: "),i.a.createElement("input",{id:"Level",type:"number",value:r,onChange:function(e){return j(q({id:t,changes:{level:parseInt(e.target.value)}}))}})),i.a.createElement("span",{className:"input"},i.a.createElement("label",{htmlFor:"AC"}," AC: "),i.a.createElement("input",{type:"checkbox",checked:u,onChange:function(e){return j(q({id:t,changes:{useDefaultAC:e.target.checked}}))}}),i.a.createElement("select",{value:l,onChange:function(e){return j(q({id:t,changes:{defaultAC:e.target.value}}))}},x),i.a.createElement("input",{id:"AC",type:"number",value:c,onChange:function(e){return j(q({id:t,changes:Object(o.a)({useDefaultAC:!1},E.AC,parseInt(e.target.value))}))}})),i.a.createElement("span",{className:"input"},i.a.createElement("label",{htmlFor:"Fort"}," Fort: "),i.a.createElement("input",{type:"checkbox",checked:p,onChange:function(e){return j(q({id:t,changes:{useDefaultFort:e.target.checked}}))}}),i.a.createElement("select",{value:m,onChange:function(e){return j(q({id:t,changes:{defaultFort:e.target.value}}))}},T),i.a.createElement("input",{id:"Fort",type:"number",value:s,onChange:function(e){return j(q({id:t,changes:Object(o.a)({},E.FORT,parseInt(e.target.value))}))}})),i.a.createElement("span",{className:"input"},i.a.createElement("label",{htmlFor:"Ref"}," Ref: "),i.a.createElement("input",{type:"checkbox",checked:b,onChange:function(e){return j(q({id:t,changes:{useDefaultRef:e.target.checked}}))}}),i.a.createElement("select",{value:h,onChange:function(e){return j(q({id:t,changes:{defaultRef:e.target.value}}))}},T),i.a.createElement("input",{id:"Ref",type:"number",value:f,onChange:function(e){return j(q({id:t,changes:Object(o.a)({},E.REF,parseInt(e.target.value))}))}})),i.a.createElement("span",{className:"input"},i.a.createElement("label",{htmlFor:"Will"}," Will: "),i.a.createElement("input",{type:"checkbox",checked:y,onChange:function(e){return j(q({id:t,changes:{useDefaultWill:e.target.checked}}))}}),i.a.createElement("select",{value:I,onChange:function(e){return j(q({id:t,changes:{defaultWill:e.target.value}}))}},T),i.a.createElement("input",{id:"Will",type:"number",value:O,onChange:function(e){return j(q({id:t,changes:Object(o.a)({},E.WILL,parseInt(e.target.value))}))}})),i.a.createElement("span",{className:"input"},i.a.createElement("label",{htmlFor:"Perception"}," Perception: "),i.a.createElement("input",{type:"checkbox",checked:R,onChange:function(e){return j(q({id:t,changes:{useDefaultPer:e.target.checked}}))}}),i.a.createElement("select",{value:A,onChange:function(e){return j(q({id:t,changes:{defaultPer:e.target.value}}))}},T),i.a.createElement("input",{id:"Perception",type:"number",value:C,onChange:function(e){return j(q({id:t,changes:Object(o.a)({},E.PER,parseInt(e.target.value))}))}})),i.a.createElement("span",{className:"input"},i.a.createElement("label",{htmlFor:"Flatfooted"}," Flatfooted: "),i.a.createElement("input",{id:"Flatfooted",type:"checkbox",checked:k,onChange:function(e){return j(q({id:t,changes:{flatfooted:e.target.checked}}))}})),i.a.createElement("div",{className:"box flexbox"}," Resistance/Weakness: ",S.map((function(e){return i.a.createElement(ae,{parentId:t,id:e,key:e})})),i.a.createElement(re,{parentId:t})))},le=a(2),ue=function(e,t){if(0===e.length||0===t.length)throw new Error("Vectors can not be empty!");for(var a=e,n=t,r=0,c=[],i=0;i<a.length;i++){for(var l=0;l<n.length;l++)r+l!==c.length?c[r+l]=c[r+l]+a[i]*n[l]:c.push(a[i]*n[l]);r++}return c},se=function(){for(var e=0,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];for(var r=0,c=a;r<c.length;r++){var i=c[r];e=Math.max(e,i[0].staticDamage+i[0].damageDist.length)}for(var l=[],u=0;u<e;u++){l.push(0);var s,o=Object(le.a)(a);try{for(o.s();!(s=o.n()).done;){var d=s.value;if(d[0].staticDamage<=u){var m=u-d[0].staticDamage;m<d[0].damageDist.length&&(l[u]+=d[0].damageDist[m]*d[1])}}}catch(p){o.e(p)}finally{o.f()}}return l},oe=function(e,t,a){for(;e<a;)t.length>=2&&(t[1]+=t[0],t.shift()),e++;return[e,t]};var de=function(e,t,a,n,r,c,i){e=n?e.persistent:e.normal;var l=function(e,t,a){if(0===a)return[0,[1]];if(1===a)return[e,t];var n,r=[0],c=0,i=Math.floor(e*a),l=0,u=i,s=Object(le.a)(t);try{for(s.s();!(n=s.n()).done;){var o=n.value,d=Math.floor((e+l)*a);if(d===u)r[c]+=o;else{if(d>u+1)for(var m=0;m<d-(u+1);m++)r[++c]=0;r[++c]=o}u=d,l++}}catch(p){s.e(p)}finally{s.f()}return[i,r]}(r,c,i),u=Object(s.a)(l,2);r=u[0],c=u[1],t in e?(e[t].staticDamage+=r,e[t].damageDist=ue(e[t].damageDist,c),a!==I.NONE&&(e[t].material=a)):e[t]={material:a,staticDamage:r,damageDist:c}};var me=Object(m.b)(),pe=1,fe=Object(m.c)({name:"damages",initialState:me.getInitialState(),reducers:{damageAdded:me.addOne,damageUpdated:me.updateOne,damageCreated:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.condition,c=a.diceNum,i=a.diceSize,l=a.staticDamage,u=a.type,s=a.material,o=a.persistent;me.addOne(e,{id:n,condition:r,diceNum:c,diceSize:i,staticDamage:l,type:u,material:s,persistent:o})},prepare:function(e){var t=e.parentId;return{payload:{id:++pe,parentId:t,condition:C.STRIKE,diceNum:0,diceSize:8,staticDamage:0,type:O.B,material:I.NONE,persistent:!1}}}},damageRemoved:function(e,t){console.log(t),me.removeOne(e,t.payload.id)}}}),ve=fe.actions,ge=ve.damageRemoved,Ee=ve.damageCreated,he=ve.damageAdded,be=ve.damageUpdated,Oe=fe.reducer,Ie=me.getSelectors((function(e){return e.damages})),ye=Ie.selectById,Ce=(Ie.selectIds,Ie.selectEntities),Ae=(Ie.selectAll,Ie.selectTotal,Object(m.b)()),Re=1,ke=Object(m.c)({name:"activityPaths",initialState:Ae.getInitialState(),reducers:{activityPathAdded:Ae.addOne,activityPathUpdated:Ae.updateOne,activityPathCreated:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.parentId,c=a.condition,i=a.type,l=a.targetType,u=a.targetInfoId,s=a.value,o=a.MAP,d=a.damages,m=a.effects,p=a.apIds;Ae.addOne(e,{id:n,condition:c,type:i,targetType:l,targetInfoId:u,value:s,MAP:o,damages:d,effects:m,apIds:p}),void 0!==r&&e.entities[r].apIds.push(n)},prepare:function(e){var t=e.parentId,a=e.routineId;return{payload:{id:++Re,parentId:t,routineId:a,condition:y.ALWAYS,type:f.STRIKE,targetType:E.AC,targetInfoId:0,value:9,MAP:h.A1,damages:[],effects:[],apIds:[]}}}}},extraReducers:function(e){e.addCase(Ee,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].damages.push(r)})).addCase(ge,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].damages=e.entities[n].damages.filter((function(e){return e!==r}))}))}}),Se=ke.actions,je=Se.activityPathCreated,xe=Se.activityPathAdded,Ne=Se.activityPathUpdated,Te=ke.reducer,De=Ae.getSelectors((function(e){return e.activityPaths})),Fe=De.selectById,Le=(De.selectIds,De.selectEntities),we=(De.selectAll,De.selectTotal,Object(m.b)()),Pe=1,We=Object(m.c)({name:"routines",initialState:we.getInitialState({selectedRoutine:0}),reducers:{setRoutine:function(e,t){e.selectedRoutine=t.payload||0},routineAdded:we.addOne,routineUpdated:we.updateOne,routineCreated:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.name,c=a.apIds;e.selectedRoutine=n,we.addOne(e,{id:n,name:r,apIds:c})},prepare:function(){return{payload:{id:++Pe,name:"New Routine",apIds:[]}}}}},extraReducers:function(e){e.addCase(je,(function(e,t){var a=t.payload,n=a.routineId,r=a.id;void 0!==n&&e.entities[n].apIds.push(r)}))}}),Me=We.actions,_e=Me.routineCreated,Ue=Me.setRoutine,He=(Me.updateSelected,Me.routineAdded),Be=Me.routineUpdated,Ge=We.reducer,Ke=we.getSelectors((function(e){return e.routines})),ze=Ke.selectById,Ye=(Ke.selectIds,Ke.selectEntities),Ve=Ke.selectAll,Xe=(Ke.selectTotal,function(e){return e.routines.selectedRoutine}),Je=a(70),$e=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(2),l=Object(s.a)(r,2),u=l[0],o=l[1],m=Object(d.c)(Ye),p=Object(d.c)(Le),v=Object(d.c)(te),g=Object(d.c)(Ce),h=Object(d.c)(Y);function O(e){var t=v[0],a=e.damages.map((function(e){return g[e]})),n=t.weaknesses.map((function(e){return h[e]})),r=function(e,t,a,n){var r,c;switch(e.type){case f.STRIKE:r=e.value,r+=b[e.MAP],c=a[e.targetType],e.targetType===E.AC?a.flatfooted&&(c-=2):c+=10;break;case f.SAVE:r=a[e.targetType],c=e.value,e.targetType===E.AC&&(r-=10);break;default:console.log("Activity type ".concat(e.type," not implemented"))}var i=[function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e-t;return n<-20?0:-20===n?5:n<-9?a?10:5:n<8?5*(11+n):95}(r,c)/100,function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e-t;return n<-29?0:n<-20?5:-20===n?0:n<-9?5*(a?19:20+n):n<-1?50:n<9?5*(8-n):5}(r,c)/100,function(e,t){var a=e-t;return a<-29?5:a<-20?5*(29+a):a<-10?45:a<-1?5*(-2-a):a<9?5:0}(r,c)/100,function(e,t){var a=e-t;return a<-29?95:a<-10?5*(-10-a):a<-1?5:0}(r,c)/100],l={normal:{},persistent:{}},u={normal:{},persistent:{}},o={normal:{},persistent:{}},d={normal:{},persistent:{}},m=[l,u,o,d];t.forEach((function(e){var t=e.condition,a=e.diceNum,n=e.diceSize,r=e.staticDamage,c=e.type,i=e.material,s=e.persistent;r||(r=0);for(var m=[1],p=[],f=0;f<n;f++)p.push(1/n);for(var v=0;v<a;v++)m=ue(m,p);switch(r+=a,t){case C.STRIKE:de(u,c,i,s,r,m,1),de(l,c,i,s,r,m,2);break;case C.BASIC:de(u,c,i,s,r,m,.5),de(o,c,i,s,r,m,1),de(d,c,i,s,r,m,1);break;case C.CRIF:de(d,c,i,s,r,m,1);break;case C.FAIL:de(o,c,i,s,r,m,1);break;case C.SUCC:de(u,c,i,s,r,m,1);break;case C.CRIT:de(l,c,i,s,r,m,1);break;case C.AT_LEAST_SUCC:de(u,c,i,s,r,m,1),de(l,c,i,s,r,m,1);break;case C.AT_LEAST_FAIL:de(o,c,i,s,r,m,1),de(u,c,i,s,r,m,1),de(l,c,i,s,r,m,1);break;case C.FAIL_WORSE:de(d,c,i,s,r,m,1),de(o,c,i,s,r,m,1);break;case C.SUCC_WORSE:de(d,c,i,s,r,m,1),de(o,c,i,s,r,m,1),de(u,c,i,s,r,m,1);break;case C.ALWAYS:de(d,c,i,s,r,m,1),de(o,c,i,s,r,m,1),de(u,c,i,s,r,m,1),de(l,c,i,s,r,m,1);break;default:console.log("Damage condition ".concat(e.condition," not implemented yet."))}}));for(var p=0,v=m;p<v.length;p++)for(var g=v[p],h=0,O=["normal","persistent"];h<O.length;h++){var I=O[h],y=0,A=[1],R=function(e){var t=g[I][e],a=t.material,r=t.staticDamage,c=t.damageDist,i=oe(r,c,1),l=Object(s.a)(i,2);r=l[0],c=l[1];var u=0,o=0;n.forEach((function(t){t.type!==e&&t.type!==a||(t.value<0?u=Math.min(u,t.value):t.value>0&&(o=Math.max(o,t.value)))}));var d=oe(r-=o+u,c,0),m=Object(s.a)(d,2);r=m[0],c=m[1],y+=r,A=ue(A,c)};for(var k in g[I])R(k);g[I].staticDamage=y,g[I].damageDist=A}return[m,i]}(e,a,t,n),c=Object(s.a)(r,2),i=c[0],l=c[1];return e.apIds.forEach((function(e){var t=p[e],a=O(t),n=Object(s.a)(a,2),r=n[0],c=n[1],l=[];switch(t.condition){case y.ALWAYS:l=[0,1,2,3];break;case y.AT_LEAST_FAIL:l=[0,1,2];break;case y.AT_LEAST_SUCC:l=[0,1];break;case y.CRIF:l=[3];break;case y.CRIT:l=[0];break;case y.FAIL:l=[2];break;case y.FAIL_WORSE:l=[2,3];break;case y.SUCC:l=[1];break;case y.SUCC_WORSE:l=[1,2,3]}for(var u=0,o=l;u<o.length;u++){var d=o[u];i[d].normal.damageDist=ue(i[d].normal.damageDist,r),i[d].persistent.damageDist=ue(i[d].persistent.damageDist,c)}})),[se([i[0].normal,l[0]],[i[1].normal,l[1]],[i[2].normal,l[2]],[i[3].normal,l[3]]),se([i[0].persistent,l[0]],[i[1].persistent,l[1]],[i[2].persistent,l[2]],[i[3].persistent,l[3]])]}var I=0,A=0,R=[],k=[],S=[];for(var j in m){for(var x=m[j],N=0,T=[1],D=[1],F=0;F<x.apIds.length;F++){var L=O(p[x.apIds[F]]),w=Object(s.a)(L,2),P=w[0],W=w[1];T=ue(T,P),D=ue(D,W)}I=Math.max(I,T.length-1),A=Math.max(A,D.length-1);for(var M=[],_=0;_<T.length;_++)M.push({x:_,y:T[_]}),N+=T[_]*_;R.push({fill:"origin",label:x.name,data:M,xAxisID:"damage",yAxisID:"chance",spanGaps:!1}),k.push(i.a.createElement("div",{key:x.id},x.name,": ",N)),S.push(i.a.createElement("div",{key:x.id},x.name,": ",0))}for(var U=[],H=0;H<=I;H++)U.push(H);var B={labels:U,datasets:R};return i.a.createElement("div",{className:"box"},"Add persistent damage:",i.a.createElement("input",{type:"checkbox",checked:a,onChange:function(e){return n(e.target.checked)}}),", persistent damage multiplier:",i.a.createElement("input",{type:"number",value:u||0,onChange:function(e){return o(e.target.valueAsNumber)}}),i.a.createElement("div",null,"Expected Damage:",k),i.a.createElement(Je.a,{data:B}),a?"":i.a.createElement("div",null,"Expected Persistent Damage:",S))};var qe=function(e){var t=e.id,a=Object(d.b)(),n=Object(d.c)((function(e){return ze(e,t)})).name;return i.a.createElement("div",{className:"box"},i.a.createElement("label",{htmlFor:"routineName"},"Routine Name:"),i.a.createElement("input",{id:"routineName",type:"text",placeholder:"Enter routine name",value:n,onChange:function(e){return a(Be({id:t,changes:{name:e.target.value}}))}}))},Qe=function e(t){var a=t.id,n=Object(d.c)((function(e){return Fe(e,a)})),r=n.condition,c=n.type,l=n.targetType,u=n.value,s=n.MAP,o=n.damages,m=n.effects,p=n.apIds,v=Object(d.b)(),g=[];for(var b in y)g.push(i.a.createElement("option",{key:b},y[b]));var O=[];for(var I in f)O.push(i.a.createElement("option",{key:I},f[I]));var C=[];for(var A in h)C.push(i.a.createElement("option",{key:A},h[A]));var R=[];for(var k in E)R.push(i.a.createElement("option",{key:k},E[k]));return i.a.createElement("div",{className:"box"},r?i.a.createElement("div",null,"Condition:",i.a.createElement("select",{value:r,onChange:function(e){return v(Ne({id:a,changes:{condition:e.target.value}}))}},g)):"",i.a.createElement("div",{className:"box"},i.a.createElement("select",{value:c,onChange:function(e){return v(Ne({id:a,changes:{type:e.target.value}}))}},O),c===f.STRIKE?" +":" DC: ",i.a.createElement("input",{type:"number",value:u||0,onChange:function(e){return v(Ne({id:a,changes:{value:parseInt(e.target.value)}}))}})," MAP: ",i.a.createElement("select",{value:s,onChange:function(e){return v(Ne({id:a,changes:{MAP:e.target.value}}))}},C)," VS: ",i.a.createElement("select",{value:l,onChange:function(e){v(Ne({id:a,changes:{targetType:e.target.value}}))}},R),i.a.createElement("div",{className:"box"},"Damage: ",o.map((function(e){return i.a.createElement(Ze,{parentId:a,id:e,key:e})})),i.a.createElement("button",{className:"add",onClick:function(){return v(Ee({parentId:a}))}},"+")),i.a.createElement("div",{className:"box"},"Effects: ",m)),i.a.createElement("div",{className:"box"},p.map((function(t){return i.a.createElement(e,{id:t,key:t})})),i.a.createElement("button",{className:"add",onClick:function(){return v(je({parentId:a}))}},"+")))},Ze=function(e){var t=e.parentId,a=e.id,n=Object(d.c)((function(e){return ye(e,a)})),r=n.condition,c=n.diceNum,l=n.diceSize,u=n.staticDamage,s=n.type,o=n.material,m=n.persistent,p=Object(d.b)(),f=[];for(var v in C)f.push(i.a.createElement("option",{key:v},C[v]));var g=[];for(var E in A)g.push(i.a.createElement("option",{key:E},E));var h=[];for(var b in R)h.push(i.a.createElement("option",{key:b},b));var y=[];for(var k in O)y.push(i.a.createElement("option",{key:k},O[k]));var S=[];for(var j in I)S.push(i.a.createElement("option",{key:j},I[j]));return i.a.createElement("div",{className:"box"},i.a.createElement("button",{className:"delete",onClick:function(e){p(ge({id:a,parentId:t}))}},"-"),i.a.createElement("select",{value:r,onChange:function(e){return p(be({id:a,changes:{condition:e.target.value}}))}},f),i.a.createElement("select",{value:c,onChange:function(e){return p(be({id:a,changes:{diceNum:parseInt(e.target.value)}}))}},g),"d",i.a.createElement("select",{value:l,onChange:function(e){return p(be({id:a,changes:{diceSize:parseInt(e.target.value)}}))}},h)," + ",i.a.createElement("input",{type:"number",value:u,onChange:function(e){return p(be({id:a,changes:{staticDamage:parseInt(e.target.value)}}))}}),i.a.createElement("select",{value:s,onChange:function(e){p(be({id:a,changes:{type:e.target.value}}))}},y),i.a.createElement("select",{value:o,onChange:function(e){p(be({id:a,changes:{material:e.target.value}}))}},S)," Persistent: ",i.a.createElement("input",{type:"checkbox",checked:m,onChange:function(e){return p(be({id:a,changes:{persistent:e.target.checked}}))}}))},et=function(){var e=Object(d.c)(Xe),t=Object(d.c)((function(t){return ze(t,e)})).apIds,a=Object(d.b)();return i.a.createElement("div",{className:"selectedRoutine"},i.a.createElement(qe,{id:e}),t.map((function(e){return i.a.createElement(Qe,{id:e,key:e})})),i.a.createElement("button",{className:"add",onClick:function(){return a(je({routineId:e}))}},"+"))},tt=function(){var e=Object(d.c)(Ve),t=Object(d.c)(Xe),a=Object(d.b)(),n=[];return e.forEach((function(e){n.push(i.a.createElement("option",{value:e.id,key:e.id},e.name))})),i.a.createElement("div",{className:"box"},"Selected Routine:",i.a.createElement("select",{value:t,onChange:function(e){return a(Ue(e.target.value))}},n),i.a.createElement("button",{className:"add",onClick:function(){return a(_e())}},"+"))},at=function(){return i.a.createElement("div",{className:"box"},"Import and Export Here")};a(187);var nt,rt=function(e){return i.a.createElement("div",{className:"PF2App"},i.a.createElement(ie,{id:0}),i.a.createElement($e,null),i.a.createElement(et,null),i.a.createElement(tt,null),i.a.createElement(at,null))},ct=Object(m.b)(),it=Object(m.c)({name:"effects",initialState:ct.getInitialState(),reducers:{effectAdded:ct.addOne,effectUpdated:ct.updateOne}}),lt=it.actions,ut=(lt.effectAdded,lt.effectUpdated,it.reducer),st=ct.getSelectors((function(e){return e.effects})),ot=(st.selectById,st.selectIds,st.selectEntities,st.selectAll,st.selectTotal,Object(m.a)({reducer:{routines:Ge,activityPaths:Te,damages:Oe,effects:ut,weaknesses:G,targets:Q}}));ot.dispatch(He({id:0,name:"tesdt",apIds:[0]})),ot.dispatch(xe({id:0,condition:y.ALWAYS,type:f.STRIKE,targetType:E.AC,targetInfoId:0,value:9,MAP:h.A1,damages:[0],effects:[],apIds:[]})),ot.dispatch($((nt={id:0,name:"Custom Target",overrideDefault:!0,addMods:!1,level:1,useDefaultAC:!1,defaultAC:v.HIGH},Object(o.a)(nt,E.AC,15),Object(o.a)(nt,"useDefaultFort",!1),Object(o.a)(nt,"defaultFort",g.HIGH),Object(o.a)(nt,E.FORT,6),Object(o.a)(nt,"useDefaultRef",!1),Object(o.a)(nt,"defaultRef",g.HIGH),Object(o.a)(nt,E.REF,5),Object(o.a)(nt,"useDefaultWill",!1),Object(o.a)(nt,"defaultWill",g.HIGH),Object(o.a)(nt,E.WILL,4),Object(o.a)(nt,"useDefaultPer",!1),Object(o.a)(nt,"defaultPer",g.HIGH),Object(o.a)(nt,E.PER,5),Object(o.a)(nt,"flatfooted",!1),Object(o.a)(nt,"weaknesses",[0]),nt))),ot.dispatch(H({id:0,type:O.FIRE,value:10})),ot.dispatch(he({id:0,condition:C.STRIKE,diceNum:1,diceSize:8,staticDamage:4,type:O.B,material:I.COLD_IRON,persistent:!1}));var dt=ot;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(d.a,{store:dt},i.a.createElement(rt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},71:function(e,t,a){e.exports=a(188)},76:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.7f9c7e43.chunk.js.map