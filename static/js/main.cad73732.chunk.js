(this.webpackJsonppf2=this.webpackJsonppf2||[]).push([[0],{28:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),s=(a(28),a(12)),l=a.n(s),d=a(5),o=a(2),u=a(4),m=Object(u.b)(),E=0,p=Object(u.c)({name:"weaknesses",initialState:m.getInitialState(),reducers:{weaknessAdded:m.addOne,weaknessUpdated:m.updateOne,weaknessCreated:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.type,c=a.value;m.addOne(e,{id:n,type:r,value:c})},prepare:function(e){var t=e.parentId,a=e.type,n=e.value;return{payload:{id:++E,parentId:t,type:a,value:n}}}},weaknessRemoved:m.removeOne}}),v=p.actions,f=v.weaknessRemoved,g=v.weaknessCreated,A=(v.weaknessAdded,v.weaknessUpdated),b=p.reducer,h=m.getSelectors((function(e){return e.weaknesses})),R=h.selectById,T=(h.selectIds,h.selectEntities),O=(h.selectAll,h.selectTotal,Object(u.b)()),C=Object(u.c)({name:"targets",initialState:O.getInitialState(),reducers:{targetAdded:O.addOne,targetUpdated:{prepare:function(e){var t=e.id,a=e.changes,n=e.match,r=e.level;return r||(r=1),r<1&&(r=1),r>20&&(r=20),{payload:{id:t,changes:a,match:n,level:r}}},reducer:function(e,t){O.updateOne(e,t.payload)}}},extraReducers:function(e){e.addCase(g,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].weaknesses.push(r)})).addCase(f,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].weaknesses=e.entities[n].weaknesses.filter((function(e){return e!==r}))}))}}),I=C.actions,S=I.targetAdded,y=I.targetUpdated,j=C.reducer,x=O.getSelectors((function(e){return e.targets})),N=x.selectById,D=(x.selectIds,x.selectEntities),L=(x.selectAll,x.selectTotal,{DISTRIBUTION:"Damage Distribution",PMDEFENSE:"+/- AC/Save Bonus",PMRES:"+/- Resistance/Weakness"}),k={LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},F={TERRIBLE:"Terrible",LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},P={STRIKE:"Strike",SAVE:"Save"},M={FIGHTERWEAPON:"Fighter Weapon",MARTIALWEAPON:"Martial Weapon",CASTERWEAPON:"Caster Weapon",DC171519:"Caster Spell"},H={NONE:"None",FIGHTERMELEE:"Fighter Melee",FIGHTERRANGED:"Fighter Ranged",MARTIALMELEE:"Martial Melee",MARTIALRANGED:"Martial Ranged",CASTERCANTRIP:"Caster Cantrip",CASTERMELEE:"Caster Melee",CASTERRANGED:"Caster Ranged"},w={NONE:"None",WEAPON:"Weapon",SPELLLEVEL1:"1 x Spell Level",SPELLLEVEL2:"2 x Spell Level"},W={FIGHTER:"Fighter Melee",MARTIAL:"Martial Melee",CASTER:"Caster(16str) Melee",ALCH:"Alchemist(16str) Melee",FIGHTERR:"Fighter Ranged",MARTIALR:"Martial Ranged",CASTERR:"Caster(16dex) Ranged",ALCHR:"Alchemist(16dex) Ranged",CASTERCA:"Caster Cantrip Attack",CASTERCS:"Caster Cantrip Save",CASTERBR:"Caster 2dX Basic Save",CASTERSA:"Caster Spell Attack",CASTERS:"Caster Save"},G={AC:"AC",FORT:"Fort",REF:"Ref",WILL:"Will",PER:"Perception"},B={N1:"0 (0x-5)",N2:"-5 (1x-5)",N3:"-10 (2x-5)",A1:"0 (0x-4)",A2:"-4 (1x-4)",A3:"-8 (2x-4)",R1:"0 (0x-3)",R2:"-3 (1x-3)",R3:"-6 (2x-3)",RA1:"0 (0x-2)",RA2:"-2 (1x-2)",RA3:"-4 (2x-2)",RAA1:"0 (0x-1)",RAA2:"-1 (1x-1)",RAA3:"-2 (2x-1)"},K={"0 (0x-5)":"-5 (1x-5)","-5 (1x-5)":"-10 (2x-5)","-10 (2x-5)":"-10 (2x-5)","0 (0x-4)":"-4 (1x-4)","-4 (1x-4)":"-8 (2x-4)","-8 (2x-4)":"-8 (2x-4)","0 (0x-3)":"-3 (1x-3)","-3 (1x-3)":"-6 (2x-3)","-6 (2x-3)":"-6 (2x-3)","0 (0x-2)":"-2 (1x-2)","-2 (1x-2)":"-4 (2x-2)","-4 (2x-2)":"-4 (2x-2)","0 (0x-1)":"-1 (1x-1)","-1 (1x-1)":"-2 (2x-1)","-2 (2x-1)":"-2 (2x-1)"},U={"0 (0x-5)":0,"-5 (1x-5)":-5,"-10 (2x-5)":-10,"0 (0x-4)":0,"-4 (1x-4)":-4,"-8 (2x-4)":-8,"0 (0x-3)":0,"-3 (1x-3)":-3,"-6 (2x-3)":-6,"0 (0x-2)":0,"-2 (1x-2)":-2,"-4 (2x-2)":-4,"0 (0x-1)":0,"-1 (1x-1)":-1,"-2 (2x-1)":-2},_={NORMAL:"Normal",ADVANTAGE:"Advantage",DISADVANTAGE:"Disadvantage"},V={NONE:"None",B:"bludgeoning",P:"piercing",S:"slashing",FIRE:"fire"},z={NONE:"none",COLD_IRON:"cold iron",SILVER:"silver",ADAMANTINE:"adamantine"},Y={FLATFOOT:"Flatfooted",FRIGHTENED1:"Frightened 1",FRIGHTENED2:"Frightened 2",FRIGHTENED3:"Frightened 3",FRIGHTENED4:"Frightened 4"},X={ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},J={STRIKE:"x1 hit, x2 crit",BASIC:"Basic save",ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"};for(var $,q,Q,Z,ee,te,ae,ne,re,ce,ie,se=function(e){var t=e.id,a=e.parentId,n=Object(o.c)((function(e){return R(e,t)})),c=n.type,i=n.value,s=Object(o.b)();return r.a.createElement("span",{className:"input"},r.a.createElement(oe,{value:c,onChange:function(e){e.target.value===V.NONE?s(f({id:t,parentId:a})):s(A({id:t,changes:{type:e.target.value}}))}}),r.a.createElement("input",{type:"number",value:i,onChange:function(e){isNaN(e.target.value)||s(A({id:t,changes:{value:parseInt(e.target.value)}}))}}))},le=0,de=function(e){var t=e.parentId,a=Object(o.b)(),c=Object(n.useState)(0),i=Object(d.a)(c,2),s=i[0],l=i[1];return r.a.createElement("span",{className:"input"},r.a.createElement(oe,{value:V.NONE,onChange:function(e){e.target.value!==V.NONE&&(le++,a(g({id:le,type:e.target.value,value:s,parentId:t})))}}),r.a.createElement("input",{type:"number",value:s,onChange:function(e){return l(parseInt(e.target.value))}}))},oe=function(e){var t=e.value,a=e.onChange,n=[];for(var c in V)n.push(r.a.createElement("option",{key:c},V[c]));for(var i in z)z[i]!==z.NONE&&n.push(r.a.createElement("option",{key:i},z[i]));return r.a.createElement("span",null,r.a.createElement("select",{value:t,onChange:function(e){return a(e)}},n))},ue=function(e){var t=e.id,a=Object(o.c)((function(e){return N(e,0)})),n=a.name,c=a.levelDiff,i=a.ACTrend,s=a.FortTrend,l=a.RefTrend,d=a.WillTrend,u=a.PerTrend,m=a.flatfooted,E=a.weaknesses,p=Object(o.b)(),v=[];for(var f in k)v.push(r.a.createElement("option",{key:f},k[f]));var g=[];for(var A in F)g.push(r.a.createElement("option",{key:A},F[A]));return r.a.createElement("div",{className:"box flexbox"},r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"targetName"},"Target Name: "),r.a.createElement("input",{id:"targetName",type:"text",placeholder:"Enter Target name",value:n,onChange:function(e){return p(y({id:t,changes:{name:e.target.value}}))}})),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"levelDiff"}," Level Difference: "),r.a.createElement("input",{type:"number",id:"levelDiff",value:c,onChange:function(e){return p(y({id:t,changes:{levelDiff:parseInt(e.target.value)}}))}})),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"AC"}," AC: "),r.a.createElement("select",{id:"AC",value:i,onChange:function(e){return p(y({id:t,changes:{ACTrend:e.target.value}}))}},v)),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"Fort"}," Fort: "),r.a.createElement("select",{id:"Fort",value:s,onChange:function(e){return p(y({id:t,changes:{FortTrend:e.target.value}}))}},g)),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"Ref"}," Ref: "),r.a.createElement("select",{id:"Red",value:l,onChange:function(e){return p(y({id:t,changes:{RefTrend:e.target.value}}))}},g)),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"Will"}," Will: "),r.a.createElement("select",{id:"Will",value:d,onChange:function(e){return p(y({id:t,changes:{WillTrend:e.target.value}}))}},g)),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"Perception"}," Perception: "),r.a.createElement("select",{id:"Perception",value:u,onChange:function(e){return p(y({id:t,changes:{PerTrend:e.target.value}}))}},g)),r.a.createElement("span",{className:"input"},r.a.createElement("label",{htmlFor:"Flatfooted"}," Flatfooted: "),r.a.createElement("input",{id:"Flatfooted",type:"checkbox",checked:m,onChange:function(e){return p(y({id:t,changes:{flatfooted:e.target.checked}}))}})),r.a.createElement("div",{className:"box flexbox"}," Resistance/Weakness: ",E.map((function(e){return r.a.createElement(se,{parentId:t,id:e,key:e})})),r.a.createElement(de,{parentId:t})))},me=a(3),Ee=a(8),pe=a(1),ve=($={},Object(pe.a)($,W.FIGHTER,P.STRIKE),Object(pe.a)($,W.MARTIAL,P.STRIKE),Object(pe.a)($,W.CASTER,P.STRIKE),Object(pe.a)($,W.ALCH,P.STRIKE),Object(pe.a)($,W.FIGHTERR,P.STRIKE),Object(pe.a)($,W.MARTIALR,P.STRIKE),Object(pe.a)($,W.CASTERR,P.STRIKE),Object(pe.a)($,W.ALCHR,P.STRIKE),Object(pe.a)($,W.CASTERCA,P.STRIKE),Object(pe.a)($,W.CASTERCS,P.SAVE),Object(pe.a)($,W.CASTERSA,P.STRIKE),Object(pe.a)($,W.CASTERS,P.SAVE),Object(pe.a)($,W.CASTERBR,P.SAVE),$),fe=(q={},Object(pe.a)(q,W.FIGHTER,G.AC),Object(pe.a)(q,W.MARTIAL,G.AC),Object(pe.a)(q,W.CASTER,G.AC),Object(pe.a)(q,W.ALCH,G.AC),Object(pe.a)(q,W.FIGHTERR,G.AC),Object(pe.a)(q,W.MARTIALR,G.AC),Object(pe.a)(q,W.CASTERR,G.AC),Object(pe.a)(q,W.ALCHR,G.AC),Object(pe.a)(q,W.CASTERCA,G.AC),Object(pe.a)(q,W.CASTERCS,G.REF),Object(pe.a)(q,W.CASTERSA,G.AC),Object(pe.a)(q,W.CASTERS,G.REF),Object(pe.a)(q,W.CASTERBR,G.REF),q),ge=(Q={},Object(pe.a)(Q,W.FIGHTER,J.STRIKE),Object(pe.a)(Q,W.MARTIAL,J.STRIKE),Object(pe.a)(Q,W.CASTER,J.STRIKE),Object(pe.a)(Q,W.ALCH,J.STRIKE),Object(pe.a)(Q,W.FIGHTERR,J.STRIKE),Object(pe.a)(Q,W.MARTIALR,J.STRIKE),Object(pe.a)(Q,W.CASTERR,J.STRIKE),Object(pe.a)(Q,W.ALCHR,J.STRIKE),Object(pe.a)(Q,W.CASTERC,J.STRIKE),Object(pe.a)(Q,W.CASTERS,J.BASIC),Object(pe.a)(Q,W.CASTERCA,J.STRIKE),Object(pe.a)(Q,W.CASTERCS,J.BASIC),Object(pe.a)(Q,W.CASTERSA,J.STRIKE),Object(pe.a)(Q,W.CASTERS,J.BASIC),Object(pe.a)(Q,W.CASTERBR,J.BASIC),Q),Ae={},be={},he={},Re={},Te={},Oe={},Ce={},Ie={},Se={},ye={},je={},xe=1;xe<=20;xe++)ye[xe]=Math.floor((xe+1)/2),je[xe]=2*Math.floor((xe+1)/2);for(var Ne={},De={},Le={},ke={},Fe={},Pe={},Me={},He={},we={},We={},Ge={},Be={},Ke={},Ue={},_e=1;_e<=20;_e++)Ae[_e]=0,be[_e]=4,he[_e]=3,Re[_e]=2,Te[_e]=2,Oe[_e]=2,Ce[_e]=2,Ie[_e]=0,Se[_e]=1,Ne[_e]=0,De[_e]=0,_e>=2&&(Ie[_e]=1),_e>=4&&(Se[_e]=2),_e>=5&&(Re[_e]=4,he[_e]=4),_e>=7&&(Te[_e]=4,Ne[_e]=1,Ce[_e]=4),_e>=10&&(Ie[_e]=2,be[_e]=5),_e>=11&&(Oe[_e]=4),_e>=12&&(Se[_e]=3),_e>=13&&(Re[_e]=6,De[_e]=1),_e>=15&&(Ne[_e]=2,he[_e]=5,Ce[_e]=6),_e>=16&&(Ie[_e]=3),_e>=17&&(be[_e]=6),_e>=19&&(Se[_e]=4,Ce[_e]=8),_e>=20&&(be[_e]=7),Le[_e]=_e+Re[_e]+be[_e]+Ie[_e]+2,ke[_e]=_e+Re[_e]+be[_e]+Ie[_e],Fe[_e]=_e+Oe[_e]+he[_e]+Ie[_e],Pe[_e]=_e+Te[_e]+he[_e]+Ie[_e],Me[_e]=_e+Ce[_e]+be[_e],He[_e]=10+_e+Ce[_e]+be[_e],we[_e]=be[_e]+Ne[_e]*(Re[_e]+2)/2,We[_e]=Ne[_e]*(Re[_e]+2)/2,Ge[_e]=be[_e]+Ne[_e]*Re[_e]/2,Be[_e]=Ne[_e]*Re[_e]/2,Ke[_e]=he[_e]+De[_e]*Oe[_e]/2,Ue[_e]=De[_e]*Oe[_e]/2;var Ve=(Z={},Object(pe.a)(Z,M.FIGHTERWEAPON,Le),Object(pe.a)(Z,M.MARTIALWEAPON,ke),Object(pe.a)(Z,M.CASTERWEAPON,Fe),Object(pe.a)(Z,M.DC171519,Me),Z),ze=(ee={},Object(pe.a)(ee,H.NONE,Ae),Object(pe.a)(ee,H.FIGHTERMELEE,we),Object(pe.a)(ee,H.MARTIALMELEE,Ge),Object(pe.a)(ee,H.CASTERMELEE,Ke),Object(pe.a)(ee,H.FIGHTERRANGED,We),Object(pe.a)(ee,H.MARTIALRANGED,Be),Object(pe.a)(ee,H.CASTERRANGED,Ue),Object(pe.a)(ee,H.CASTERCANTRIP,be),ee),Ye=(te={},Object(pe.a)(te,w.NONE,Ae),Object(pe.a)(te,w.WEAPON,Se),Object(pe.a)(te,w.SPELLLEVEL1,ye),Object(pe.a)(te,w.SPELLLEVEL2,je),te),Xe=(ae={},Object(pe.a)(ae,W.FIGHTER,Le),Object(pe.a)(ae,W.MARTIAL,ke),Object(pe.a)(ae,W.CASTER,Fe),Object(pe.a)(ae,W.ALCH,Pe),Object(pe.a)(ae,W.FIGHTERR,Le),Object(pe.a)(ae,W.MARTIALR,ke),Object(pe.a)(ae,W.CASTERR,Fe),Object(pe.a)(ae,W.ALCHR,Pe),Object(pe.a)(ae,W.CASTERCA,Me),Object(pe.a)(ae,W.CASTERCS,He),Object(pe.a)(ae,W.CASTERSA,Me),Object(pe.a)(ae,W.CASTERS,He),Object(pe.a)(ae,W.CASTERBR,He),ae),Je=(ne={},Object(pe.a)(ne,W.FIGHTER,Se),Object(pe.a)(ne,W.MARTIAL,Se),Object(pe.a)(ne,W.CASTER,Se),Object(pe.a)(ne,W.ALCH,Se),Object(pe.a)(ne,W.FIGHTERR,Se),Object(pe.a)(ne,W.MARTIALR,Se),Object(pe.a)(ne,W.CASTERR,Se),Object(pe.a)(ne,W.ALCHR,Se),Object(pe.a)(ne,W.CASTERCA,ye),Object(pe.a)(ne,W.CASTERCS,ye),Object(pe.a)(ne,W.CASTERSA,Ae),Object(pe.a)(ne,W.CASTERS,Ae),Object(pe.a)(ne,W.CASTERBR,je),ne),$e=(re={},Object(pe.a)(re,W.FIGHTER,we),Object(pe.a)(re,W.MARTIAL,Ge),Object(pe.a)(re,W.CASTER,Ke),Object(pe.a)(re,W.ALCH,Ke),Object(pe.a)(re,W.FIGHTERR,We),Object(pe.a)(re,W.MARTIALR,Be),Object(pe.a)(re,W.CASTERR,Ue),Object(pe.a)(re,W.ALCHR,Ue),Object(pe.a)(re,W.CASTERCA,be),Object(pe.a)(re,W.CASTERCS,be),Object(pe.a)(re,W.CASTERSA,Ae),Object(pe.a)(re,W.CASTERS,Ae),Object(pe.a)(re,W.CASTERBR,Ae),re),qe={"-1":18,0:19,1:19,2:21,3:22,4:24,5:25,6:27,7:28,8:30,9:31,10:33,11:34,12:36,13:37,14:39,15:40,16:42,17:43,18:45,19:46,20:48,21:49,22:51,23:52,24:54},Qe=Object(me.a)({},qe);for(var Ze in Qe)Qe[Ze]-=3;var et=Object(me.a)({},qe);for(var tt in et)et[tt]-=4;var at=Object(me.a)({},qe);for(var nt in at)at[nt]-=6;for(var rt=(ce={},Object(pe.a)(ce,k.EXTREME,qe),Object(pe.a)(ce,k.HIGH,Qe),Object(pe.a)(ce,k.MODERATE,et),Object(pe.a)(ce,k.LOW,at),ce),ct=(ie={},Object(pe.a)(ie,F.EXTREME,{"-1":9,0:10,1:11,2:12,3:14,4:15,5:17,6:18,7:20,8:21,9:23,10:24,11:26,12:27,13:29,14:30,15:32,16:33,17:35,18:36,19:38,20:39,21:41,22:43,23:44,24:46}),Object(pe.a)(ie,F.HIGH,{"-1":8,0:9,1:10,2:11,3:12,4:14,5:15,6:17,7:18,8:19,9:21,10:22,11:24,12:25,13:26,14:28,15:29,16:30,17:32,18:33,19:35,20:36,21:38,22:39,23:40,24:42}),Object(pe.a)(ie,F.MODERATE,{"-1":5,0:6,1:7,2:8,3:9,4:11,5:12,6:14,7:15,8:16,9:18,10:19,11:21,12:22,13:23,14:25,15:26,16:28,17:29,18:30,19:32,20:33,21:35,22:36,23:37,24:38}),Object(pe.a)(ie,F.LOW,{"-1":2,0:3,1:4,2:5,3:6,4:8,5:9,6:11,7:12,8:13,9:15,10:16,11:18,12:19,13:20,14:22,15:23,16:25,17:26,18:27,19:29,20:30,21:32,22:33,23:34,24:36}),Object(pe.a)(ie,F.TERRIBLE,{"-1":0,0:1,1:2,2:3,3:4,4:6,5:7,6:8,7:10,8:11,9:12,10:14,11:15,12:16,13:18,14:19,15:20,16:22,17:23,18:24,19:26,20:27,21:28,22:30,23:31,24:32}),ie),it=Object(u.b)(),st={},lt=1;lt<=20;lt++)st[lt]=0;var dt=1,ot=Object(u.c)({name:"damages",initialState:it.getInitialState(),reducers:{damageAdded:it.addOne,damageUpdated:it.updateOne,damageCreated:{reducer:function(e,t){var a=t.payload.id;it.addOne(e,{id:a,damageCondition:J.STRIKE,damageType:V.S,material:z.NONE,persistent:!1,multiplier:1,dieTrend:w.NONE,dieAdjustments:Object(me.a)({},st),diceSize:6,damageTrend:H.NONE,damageAdjustments:Object(me.a)({},st)})},prepare:function(e){var t=e.parentId;return{payload:{id:++dt,parentId:t}}}},damageRemoved:function(e,t){it.removeOne(e,t.payload.id)}}}),ut=ot.actions,mt=ut.damageRemoved,Et=ut.damageCreated,pt=ut.damageAdded,vt=ut.damageUpdated,ft=ot.reducer,gt=it.getSelectors((function(e){return e.damages})),At=gt.selectById,bt=(gt.selectIds,gt.selectEntities),ht=(gt.selectAll,gt.selectTotal,Object(u.b)()),Rt=1,Tt=Object(u.c)({name:"effects",initialState:ht.getInitialState(),reducers:{effectAdded:ht.addOne,effectUpdated:ht.updateOne,effectCreated:{reducer:function(e,t){var a=t.payload.id;ht.addOne(e,{id:a,effectCondition:X.ALWAYS,effectType:Y.FLATFOOT,startLevel:1,endLevel:20})},prepare:function(e){var t=e.parentId;return{payload:{id:++Rt,parentId:t}}}},effectRemoved:function(e,t){ht.removeOne(e,t.payload.id)}}}),Ot=Tt.actions,Ct=(Ot.effectAdded,Ot.effectUpdated),It=Ot.effectCreated,St=Ot.effectRemoved,yt=Tt.reducer,jt=ht.getSelectors((function(e){return e.effects})),xt=jt.selectById,Nt=(jt.selectIds,jt.selectEntities);jt.selectAll,jt.selectTotal;function Dt(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];function n(t){var r=e.entities[t];if(!r.override){var c=r.defaultActivity;if(r.type=ve[c],r.targetType=fe[c],r.value=Xe[c][r.level],r.damageCondition=ge[c],r.diceNum=Je[c][r.level],r.staticDamage=$e[c][r.level],a){var i,s=Object(Ee.a)(r.apIds);try{for(s.s();!(i=s.n()).done;){var l=i.value;e.entities[l].level=r.level,n(l)}}catch(d){s.e(d)}finally{s.f()}}}}n(t)}for(var Lt=Object(u.b)(),kt={},Ft=1;Ft<=20;Ft++)kt[Ft]=0;var Pt=1,Mt={level:1,useDefault:!1,defaultActivity:W.FIGHTER,type:P.STRIKE,targetType:G.AC,value:9,MAP:B.N1,damageCondition:J.STRIKE,diceNum:1,diceSize:8,staticDamage:4,damageType:V.S,material:z.NONE,bonusTrend:M.MARTIALWEAPON,bonusAdjustments:Object(me.a)({},kt)},Ht=Object(u.c)({name:"activityPaths",initialState:Lt.getInitialState(),reducers:{activityPathAdded:Lt.addOne,activityPathUpdated:function(e,t){Lt.updateOne(e,t.payload)},activityPathRemoved:function(e,t){var a=t.payload,n=a.id,r=a.parentId;Lt.removeOne(e,n),void 0!==r&&(e.entities[r].apIds=e.entities[r].apIds.filter((function(e){return e!==n})))},activityPathCreated:{reducer:function(e,t){var a,n=t.payload,r=n.id,c=n.parentId,i=n.applyMAP;a=void 0!==c?e.entities[c]:Mt,Lt.addOne(e,{id:r,condition:X.ALWAYS,override:!1,level:a.level,useDefault:a.useDefault,defaultActivity:a.defaultActivity,type:a.type,targetType:a.targetType,targetInfoId:0,value:a.value,MAP:i?K[a.MAP]:a.MAP,damageCondition:a.damageCondition,diceNum:a.diceNum,diceSize:a.diceSize,staticDamage:a.staticDamage,damageType:a.damageType,material:a.material,damages:[],effects:[],apIds:[],bonusTrend:a.bonusTrend,bonusAdjustments:Object(me.a)({},a.bonusAdjustments),damageTrend:a.damageTrend,damageAdjustments:Object(me.a)({},a.damageAdjustments),dieTrend:a.dieTrend,dieAdjustments:Object(me.a)({},a.dieAdjustments)}),void 0!==c&&e.entities[c].apIds.push(r)},prepare:function(e){var t=e.parentId,a=e.routineId,n=e.applyMAP;return{payload:{id:++Pt,parentId:t,routineId:a,applyMAP:n}}}}},extraReducers:function(e){e.addCase(Et,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].damages.push(r)})).addCase(mt,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].damages=e.entities[n].damages.filter((function(e){return e!==r}))})).addCase(It,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].effects.push(r)})).addCase(St,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].effects=e.entities[n].effects.filter((function(e){return e!==r}))})).addCase(y,(function(e,t){var a=t.payload,n=a.match,r=a.level;if(Mt.level=r,n){var c,i=Object(Ee.a)(e.ids);try{for(i.s();!(c=i.n()).done;){var s=c.value;e.entities[s].level=r,Dt(e,s,!1)}}catch(l){i.e(l)}finally{i.f()}}}))}}),wt=Ht.actions,Wt=wt.activityPathCreated,Gt=wt.activityPathAdded,Bt=wt.activityPathUpdated,Kt=wt.activityPathRemoved,Ut=Ht.reducer,_t=Lt.getSelectors((function(e){return e.activityPaths})),Vt=_t.selectById,zt=(_t.selectIds,_t.selectEntities),Yt=(_t.selectAll,_t.selectTotal,Object(u.b)()),Xt=1,Jt=Object(u.c)({name:"routines",initialState:Yt.getInitialState({selectedRoutine:0}),reducers:{setRoutine:function(e,t){e.selectedRoutine=t.payload||0},routineAdded:Yt.addOne,routineUpdated:Yt.updateOne,routineRemoved:function(e,t){Yt.removeOne(e,t),t.payload===e.selectedRoutine&&(e.selectedRoutine=e.ids?e.ids[0]:void 0)},routineCreated:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.name,c=a.apIds;e.selectedRoutine=n,Yt.addOne(e,{id:n,name:r,display:!0,apIds:c})},prepare:function(){return{payload:{id:++Xt,name:"New Routine",apIds:[]}}}}},extraReducers:function(e){e.addCase(Wt,(function(e,t){var a=t.payload,n=a.routineId,r=a.id;void 0!==n&&e.entities[n].apIds.push(r)})).addCase(Kt,(function(e,t){var a=t.payload,n=a.routineId,r=a.id;void 0!==n&&(e.entities[n].apIds=e.entities[n].apIds.filter((function(e){return e!==r})))}))}}),$t=Jt.actions,qt=$t.routineCreated,Qt=$t.setRoutine,Zt=($t.updateSelected,$t.routineAdded),ea=$t.routineUpdated,ta=$t.routineRemoved,aa=Jt.reducer,na=Yt.getSelectors((function(e){return e.routines})),ra=na.selectById,ca=(na.selectIds,na.selectEntities),ia=na.selectAll,sa=(na.selectTotal,function(e){return e.routines.selectedRoutine}),la=a(19),da=a(20),oa=a(23),ua=function(e,t){if(0===e.length||0===t.length)throw new Error("Vectors can not be empty!");for(var a=e,n=t,r=0,c=[],i=0;i<a.length;i++){for(var s=0;s<n.length;s++)r+s!==c.length?c[r+s]=c[r+s]+a[i]*n[s]:c.push(a[i]*n[s]);r++}return c},ma=function(){for(var e=0,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];for(var r=0,c=a;r<c.length;r++){var i=c[r];e=Math.max(e,i[0].staticDamage+i[0].damageDist.length)}for(var s=[],l=0;l<e;l++){s.push(0);var d,o=Object(Ee.a)(a);try{for(o.s();!(d=o.n()).done;){var u=d.value;if(u[0].staticDamage<=l){var m=l-u[0].staticDamage;m<u[0].damageDist.length&&(s[l]+=u[0].damageDist[m]*u[1])}}}catch(E){o.e(E)}finally{o.f()}}return s},Ea=function(e,t,a){for(;e<a;)t.length>=2&&(t[1]+=t[0],t.shift()),e++;return[e,t]};var pa=function(e,t,a,n,r,c,i){e=n?e.persistent:e.normal;var s=function(e,t,a){if(0===a)return[0,[1]];if(1===a)return[e,Object(oa.a)(t)];var n,r=[0],c=0,i=Math.floor(e*a),s=0,l=i,d=Object(Ee.a)(t);try{for(d.s();!(n=d.n()).done;){var o=n.value,u=Math.floor((e+s)*a);if(u===l)r[c]+=o;else{if(u>l+1)for(var m=0;m<u-(l+1);m++)r[++c]=0;r[++c]=o}l=u,s++}}catch(E){d.e(E)}finally{d.f()}return[i,r]}(r,c,i),l=Object(d.a)(s,2);r=l[0],c=l[1],t in e?(e[t].staticDamage+=r,e[t].damageDist=ua(e[t].damageDist,c),a!==z.NONE&&(e[t].material=a)):e[t]={material:a,staticDamage:r,damageDist:c}};function va(e,t){var a=[];switch(e){case X.ALWAYS:a=[0,1,2,3];break;case X.AT_LEAST_FAIL:a=[0,1,2];break;case X.AT_LEAST_SUCC:a=[0,1];break;case X.CRIF:a=[3];break;case X.CRIT:a=[0];break;case X.FAIL:a=[2];break;case X.FAIL_WORSE:a=[2,3];break;case X.SUCC:a=[1];break;case X.SUCC_WORSE:a=[1,2,3]}return a.includes(t)}for(var fa=function(){function e(t,a,n,r,c){Object(la.a)(this,e),this.activityPaths=t,this.targets=a,this.damages=n,this.effects=r,this.weaknesses=c}return Object(da.a)(e,[{key:"canEvaluate",value:function(e){var t=this.targets[0].levelDiff;return!(e+t<-1||e+t>24)}},{key:"evalRoutine",value:function(e,t,a,n){for(var r={flatfooted:!1,frightened:0},c=[],i=[],s=[],l=[],o=0,u=0,m=[1],E=[1],p=0;p<e.apIds.length;p++){var v=this.activityPaths[e.apIds[p]],f=this.evalPath(v,r,t,a,n),g=Object(d.a)(f,2),A=g[0],b=g[1];m=ua(m,A),E=ua(E,b)}for(var h=1,R=0;R<m.length;R++)c.push(R),i.push(h),h-=m[R],o+=m[R]*R;h=1;for(var T=0;T<E.length;T++)s.push(T),l.push(h),h-=E[T],u+=E[T]*T;return{expD:o,expP:u,dataArray:c,routineDDist:m,cumulative:i,PdataArray:s,routinePDDist:E,Pcumulative:l}}},{key:"evalPath",value:function(e,t,a,n,r){for(var c=this,i=this.targets[0],s=e.damages.map((function(e){return c.damages[e]})),l=e.effects.map((function(e){return c.effects[e]})),o=i.weaknesses.map((function(e){return c.weaknesses[e]})),u=function(e,t,a,n,r,c,i,s){var l,o,u;switch(t.targetType){case G.AC:u=rt[n.ACTrend];break;case G.FORT:u=ct[n.FortTrend];break;case G.REF:u=ct[n.RefTrend];break;case G.WILL:u=ct[n.WillTrend];break;case G.PER:u=ct[n.PerTrend];break;default:u=rt[n.ACTrend]}switch(u=u[e+n.levelDiff],t.type){case P.STRIKE:l=Ve[t.bonusTrend][e],l+=t.bonusAdjustments[e],l+=U[t.MAP],o=u+i-r.frightened,t.targetType===G.AC?(n.flatfooted||r.flatfooted)&&(o-=2):o+=10;break;case P.SAVE:l=u+i-r.frightened,o=10+Ve[t.bonusTrend][e],o+=t.bonusAdjustments[e],t.targetType===G.AC&&(l-=10);break;default:console.log("Activity type ".concat(t.type," not implemented"))}var m=function(e,t){var a=e-t;return a<-20?0:-20===a?5:a<-9?arguments.length>2&&void 0!==arguments[2]&&arguments[2]?10:5:a<8?5*(11+a):95}(l,o),E=function(e,t){var a=e-t;return a<-29?0:a<-20?5:-20===a?0:a<-9?5*(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?19:20+a):a<-1?50:a<9?5*(8-a):5}(l,o),p=function(e,t){var a=e-t;return a<-29?5:a<-20?5*(29+a):a<-10?45:a<-1?5*(-2-a):a<9?5:0}(l,o),v=function(e,t){var a=e-t;return a<-29?95:a<-10?5*(-10-a):a<-1?5:0}(l,o);if(t.rollType===_.ADVANTAGE){var f=100-m,g=f-E,A=g-p;p=100-A*A/100-(E=100-g*g/100-(m=100-f*f/100))-m,v=v*v/100}else if(t.rollType===_.DISADVANTAGE){var b=100-v,h=b-p,R=h-E;E=100-R*R/100-(p=100-h*h/100-(v=100-b*b/100))-v,m=m*m/100}var T=[m/100,E/100,p/100,v/100],O={normal:{},persistent:{}},C={normal:{},persistent:{}},I={normal:{},persistent:{}},S={normal:{},persistent:{}},y=[O,C,I,S];a.forEach((function(t){var a=t.damageCondition,n=t.diceSize,r=t.damageType,c=t.material,i=t.persistent,s=t.multiplier,l=Ye[t.dieTrend][e];(l+=t.dieAdjustments[e])<0&&(l=0);var d=ze[t.damageTrend][e];d+=t.damageAdjustments[e];for(var o=[1],u=[],m=0;m<n;m++)u.push(1/n);for(var E=0;E<l;E++)o=ua(o,u);switch(d+=l,a){case J.STRIKE:pa(C,r,c,i,d,o,1*s),pa(O,r,c,i,d,o,2*s);break;case J.BASIC:pa(C,r,c,i,d,o,.5*s),pa(I,r,c,i,d,o,1*s),pa(S,r,c,i,d,o,2*s);break;case J.CRIF:pa(S,r,c,i,d,o,1*s);break;case J.FAIL:pa(I,r,c,i,d,o,1*s);break;case J.SUCC:pa(C,r,c,i,d,o,1*s);break;case J.CRIT:pa(O,r,c,i,d,o,1*s);break;case J.AT_LEAST_SUCC:pa(C,r,c,i,d,o,1*s),pa(O,r,c,i,d,o,1*s);break;case J.AT_LEAST_FAIL:pa(I,r,c,i,d,o,1*s),pa(C,r,c,i,d,o,1*s),pa(O,r,c,i,d,o,1*s);break;case J.FAIL_WORSE:pa(S,r,c,i,d,o,1*s),pa(I,r,c,i,d,o,1*s);break;case J.SUCC_WORSE:pa(S,r,c,i,d,o,1*s),pa(I,r,c,i,d,o,1*s),pa(C,r,c,i,d,o,1*s);break;case J.ALWAYS:pa(S,r,c,i,d,o,1*s),pa(I,r,c,i,d,o,1*s),pa(C,r,c,i,d,o,1*s),pa(O,r,c,i,d,o,1*s);break;default:console.log("Damage condition ".concat(t.condition," not implemented yet."))}}));for(var j=0,x=y;j<x.length;j++)for(var N=x[j],D=0,L=["normal","persistent"];D<L.length;D++){var k=L[D],F=0,M=[1],H=function(e){var t=N[k][e],a=t.material,n=t.staticDamage,r=t.damageDist;if(1===r.length&&n<=0)return"continue";var i=Ea(n,r,1),l=Object(d.a)(i,2);n=l[0],r=l[1];var o=0,u=0;c.forEach((function(t){t.type!==e&&t.type!==a||(t.value+s<0?o=Math.min(o,t.value+s):t.value+s>0&&(u=Math.max(u,t.value+s)))}));var m=Ea(n-=u+o,r,0),E=Object(d.a)(m,2);n=E[0],r=E[1],F+=n,M=ua(M,r)};for(var w in N[k])H(w);N[k].staticDamage=F,N[k].damageDist=M}return[y,T]}(a,e,s,i,t,o,n,r),m=Object(d.a)(u,2),E=m[0],p=m[1],v=[t,t,t,t],f=function(e){l.forEach((function(t){var n=t.effectCondition,r=t.effectType,c=t.startLevel,i=t.endLevel;if(!(a<c||a>i)&&va(n,e))switch(r){case Y.FLATFOOT:!0!==v[e].flatfooted&&(v[e]=Object(me.a)(Object(me.a)({},v[e]),{},{flatfooted:!0}));break;case Y.FRIGHTENED1:v[e].frightened<1&&(v[e]=Object(me.a)(Object(me.a)({},v[e]),{},{frightened:1}));break;case Y.FRIGHTENED2:v[e].frightened<2&&(v[e]=Object(me.a)(Object(me.a)({},v[e]),{},{frightened:2}));break;case Y.FRIGHTENED3:v[e].frightened<3&&(v[e]=Object(me.a)(Object(me.a)({},v[e]),{},{frightened:3}));break;case Y.FRIGHTENED4:v[e].frightened<4&&(v[e]=Object(me.a)(Object(me.a)({},v[e]),{},{frightened:4}));break;default:console.log("Effect type ".concat(r," not implemented"))}}))},g=0;g<4;g++)f(g);return e.apIds.forEach((function(e){for(var t=c.activityPaths[e],i=new Map,s=0;s<4;s++)if(va(t.condition,s)){if(i.has(v[s]));else{var l=c.evalPath(t,v[s],a,n,r),o=Object(d.a)(l,2),u=o[0],m=o[1];i.set(v[s],{pathDist:u,pathPDist:m})}E[s].normal.damageDist=ua(E[s].normal.damageDist,i.get(v[s]).pathDist),E[s].persistent.damageDist=ua(E[s].persistent.damageDist,i.get(v[s]).pathPDist)}})),[ma([E[0].normal,p[0]],[E[1].normal,p[1]],[E[2].normal,p[2]],[E[3].normal,p[3]]),ma([E[0].persistent,p[0]],[E[1].persistent,p[1]],[E[2].persistent,p[2]],[E[3].persistent,p[3]])]}}]),e}(),ga=a(21),Aa=a.n(ga),ba=a(22),ha=a.n(ba)()(Aa.a),Ra=function(e,t){var a=[],n=[];for(var r in e){var c=e[r];if(c.display){for(var i=[],s=[],l=[],d=1;d<=20;d++)if(t.canEvaluate(d)){i.push(d);var o=t.evalRoutine(c,d,0,0),u=o.expD,m=o.expP;s.push(u),l.push(m)}a.push({type:"scatter",name:c.name,x:i,y:s,yaxis:"y"}),n.push({type:"scatter",name:c.name,x:i,y:l,yaxis:"y"})}}return{datasets:a,perDatasets:n}},Ta=function(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=[],i=[],s=[],l=[];if(!t.canEvaluate(a))return{expectedDamages:s,expectedPersistentDamages:l,datasets:c,perDatasets:i};for(var d in e){var o=e[d];if(o.display){for(var u=[],m=[],E=[],p=-5;p<=5;p++){u.push(p);var v=t.evalRoutine(o,a,n?p:0,n?0:p),f=v.expD,g=v.expP;0===p&&(s.push(r.a.createElement("div",{key:o.id},o.name,": ",f.toFixed(2))),l.push(r.a.createElement("div",{key:o.id},o.name,": ",g.toFixed(2)))),m.push(f),E.push(g)}c.push({type:"scatter",name:o.name,x:u,y:m,yaxis:"y"}),i.push({type:"scatter",name:o.name,x:u,y:E,yaxis:"y"})}}return{expectedDamages:s,expectedPersistentDamages:l,datasets:c,perDatasets:i}},Oa=function(e,t,a){var n=[],c=[],i=[],s=[];if(!t.canEvaluate(a))return{expectedDamages:i,expectedPersistentDamages:s,datasets:n,perDatasets:c};for(var l in e){var d=e[l];if(d.display){var o=t.evalRoutine(d,a,0,0),u=o.expD,m=o.expP,E=o.dataArray,p=o.routineDDist,v=o.cumulative,f=o.PdataArray,g=o.routinePDDist,A=o.Pcumulative;i.push(r.a.createElement("div",{key:d.id},d.name,": ",u.toFixed(2))),s.push(r.a.createElement("div",{key:d.id},d.name,": ",m.toFixed(2))),n.push({type:"scatter",name:d.name,x:E,y:v,yaxis:"y"}),n.push({type:"bar",name:u.toFixed(2),x:E,y:p}),c.push({type:"scatter",name:d.name,x:f,y:A}),c.push({type:"bar",name:m.toFixed(2),x:f,y:g})}}return{expectedDamages:i,expectedPersistentDamages:s,datasets:n,perDatasets:c}},Ca=function(e,t){var a,n,c,i,s=Object(o.c)(ca),l=Object(o.c)(zt),d=Object(o.c)(D),u=Object(o.c)(bt),m=Object(o.c)(Nt),E=Object(o.c)(T),p=new fa(l,d,u,m,E),v=d[0],f="",g=v.name;switch(f+=" Vs ",f+=" AC: "+rt[v.ACTrend][t],f+=" Fort: "+ct[v.FortTrend][t],f+=" Ref: "+ct[v.RefTrend][t],f+=" Will: "+ct[v.WillTrend][t],f+=" Per: "+ct[v.PerTrend][t],e){case L.DISTRIBUTION:var A=Oa(s,p,t);c=A.expectedDamages,i=A.expectedPersistentDamages,a=A.datasets,n=A.perDatasets;break;case L.PMDEFENSE:var b=Ta(s,p,t,!0);c=b.expectedDamages,i=b.expectedPersistentDamages,a=b.datasets,n=b.perDatasets;break;case L.PMRES:var h=Ta(s,p,t,!1);c=h.expectedDamages,i=h.expectedPersistentDamages,a=h.datasets,n=h.perDatasets}var R,O,C=Ra(s,p),I=C.datasets,S=C.perDatasets;return e===L.DISTRIBUTION?(R="damage",O="chance"):e===L.PMDEFENSE?(R="+/- AC/Save Bonus",O="Expected Damage"):e===L.PMRES&&(R="+/- Resistance/Weakness",O="Expected Damage"),{expectedDamages:c,expectedPersistentDamages:i,damageChart:r.a.createElement(ha,{classname:"plot",data:a,layout:{title:f,autosize:!0,xaxis:{title:R},yaxis:{title:O},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}}),persistentDamageChart:r.a.createElement(ha,{classname:"plot",data:n,layout:{title:"Expected Persistent Damage",autosize:!0,xaxis:{title:"persistent damage"},yaxis:{title:"chance"},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}}),byLevelDamageChart:r.a.createElement(ha,{classname:"plot",data:I,layout:{title:g,autosize:!0,xaxis:{title:"Level"},yaxis:{title:"Expected Damage"},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}}),byLevelPerDamageChart:r.a.createElement(ha,{classname:"plot",data:S,layout:{title:g,autosize:!0,xaxis:{title:"Level"},yaxis:{title:"Expected Persistent Damage"},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}})}},Ia=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(L.DISTRIBUTION),s=Object(d.a)(i,2),l=s[0],o=s[1],u=Object(n.useState)(1),m=Object(d.a)(u,2),E=m[0],p=m[1],v=Ca(l,E),f=v.expectedDamages,g=v.expectedPersistentDamages,A=v.damageChart,b=v.persistentDamageChart,h=v.byLevelDamageChart,R=v.byLevelPerDamageChart,T=[];for(var O in L)T.push(r.a.createElement("option",{key:O},L[O]));for(var C=[],I=1;I<=20;I++)C.push(r.a.createElement("option",{key:I,value:I},I));return r.a.createElement("div",{className:"box"},"Graph Type: ",r.a.createElement("select",{value:l,onChange:function(e){return o(e.target.value)}},T),l===L.BYLEVEL?"":r.a.createElement("select",{value:E,onChange:function(e){return p(parseInt(e.target.value))}},C)," Show persistent damage: ",r.a.createElement("input",{type:"checkbox",checked:a,onChange:function(e){return c(e.target.checked)}}),r.a.createElement("div",null,"Expected Damage:",f),A,h,a?r.a.createElement("div",null,r.a.createElement("div",null,"Expected Persistent Damage:",g),b,R):"")},Sa=function(e){for(var t={},a=0,n=0,r=1;r<=20;r++)e[n]&&e[n][0]===r&&((a=e[n][1])||(a=0),n++),t[r]=a;return t},ya=function(e){var t=e[e.length-1];return e.push([t[0]+1,t[1]+1]),Sa(e)},ja=[],xa=1;xa<=20;xa++)ja.push(r.a.createElement("option",{key:xa},xa));for(var Na=function(e,t,a,n,c){for(var i=function(e){for(var t=e[1],a=[[1,t]],n=2;n<=20;n++)t!==e[n]&&(t=e[n],a.push([n,t]));return a}(c),s=[],l=function(c){s.push(r.a.createElement("span",{className:"input",key:c},"@",r.a.createElement("select",{value:i[c][0],onChange:function(r){return t(a({id:n,changes:Object(pe.a)({},e,(s=i,l=c,d=parseInt(r.target.value),s[l]=[d,s[l][1]],s.sort((function(e,t){return e[0]-t[0]})),Sa(s)))}));var s,l,d}},ja),"+",r.a.createElement("input",{type:"number",value:i[c][1],onChange:function(r){return t(a({id:n,changes:Object(pe.a)({},e,(s=i,l=c,d=parseInt(r.target.value),s[l]=[s[l][0],d],Sa(s)))}));var s,l,d}})))},d=0;d<i.length;d++)l(d);return s.push(r.a.createElement("button",{key:"addButton",className:"add",onClick:function(){return t(a({id:n,changes:Object(pe.a)({},e,ya(i))}))}},"+")),s},Da=[],La=1;La<=20;La++)Da.push(r.a.createElement("option",{key:La},La));var ka=[];for(var Fa in X)ka.push(r.a.createElement("option",{key:Fa},X[Fa]));var Pa=[];for(var Ma in M)Pa.push(r.a.createElement("option",{key:Ma},M[Ma]));var Ha=[];for(var wa in P)Ha.push(r.a.createElement("option",{key:wa},P[wa]));var Wa=[];for(var Ga in B)Wa.push(r.a.createElement("option",{key:Ga},B[Ga]));var Ba=[];for(var Ka in G)Ba.push(r.a.createElement("option",{key:Ka},G[Ka]));var Ua=[];for(var _a in _)Ua.push(r.a.createElement("option",{key:_a},_[_a]));var Va=[];for(var za in J)Va.push(r.a.createElement("option",{key:za},J[za]));var Ya=[];for(var Xa in w)Ya.push(r.a.createElement("option",{key:Xa},w[Xa]));var Ja=[];for(var $a in{4:4,6:6,8:8,10:10,12:12})Ja.push(r.a.createElement("option",{key:$a},$a));var qa=[];for(var Qa in H)qa.push(r.a.createElement("option",{key:Qa},H[Qa]));var Za=[];for(var en in V)Za.push(r.a.createElement("option",{key:en},V[en]));var tn=[];for(var an in z)tn.push(r.a.createElement("option",{key:an},z[an]));var nn=[];for(var rn in Y)nn.push(r.a.createElement("option",{key:rn},Y[rn]));for(var cn=[],sn=0,ln=[.5,1,2];sn<ln.length;sn++){var dn=ln[sn];cn.push(r.a.createElement("option",{key:dn},dn))}var on=function(e){var t=e.id,a=Object(o.b)(),n=Object(o.c)((function(e){return ra(e,t)})).name;return r.a.createElement("div",{className:"box"},r.a.createElement("label",{htmlFor:"routineName"},"Routine Name:"),r.a.createElement("input",{id:"routineName",type:"text",placeholder:"Enter routine name",value:n,onChange:function(e){return a(ea({id:t,changes:{name:e.target.value}}))}}))},un=function e(t){var a=t.id,n=t.parentId,c=t.routineId,i=t.displayCondition,s=void 0===i||i,l=Object(o.c)((function(e){return Vt(e,a)})),d=l.condition,u=l.type,m=l.targetType,E=l.bonusTrend,p=l.bonusAdjustments,v=l.MAP,f=l.rollType,g=l.damages,A=l.effects,b=l.apIds,h=Object(o.b)(),R=Na("bonusAdjustments",h,Bt,a,p);return r.a.createElement("div",{className:"box"},s?r.a.createElement("div",null,"Condition: ",r.a.createElement("select",{value:d,onChange:function(e){return h(Bt({id:a,changes:{condition:e.target.value}}))}},ka)):"",r.a.createElement("div",{className:""},r.a.createElement("div",{className:"flexbox"},r.a.createElement("button",{className:"delete",onClick:function(e){h(Kt({id:a,parentId:n,routineId:c}))}},"-"),r.a.createElement("span",{className:"input"},r.a.createElement("select",{value:f,onChange:function(e){h(Bt({id:a,changes:{rollType:e.target.value}}))}},Ua)),r.a.createElement("span",{className:"input"},r.a.createElement("select",{value:u,onChange:function(e){return h(Bt({id:a,changes:{type:e.target.value}}))}},Ha))," (",r.a.createElement("select",{value:E,onChange:function(e){return h(Bt({id:a,changes:{bonusTrend:e.target.value}}))}},Pa),u===P.SAVE?"+10":"","+",R,")",u===P.STRIKE?r.a.createElement("span",{className:"input"}," MAP: ",r.a.createElement("select",{value:v,onChange:function(e){return h(Bt({id:a,changes:{MAP:e.target.value}}))}},Wa)):"",r.a.createElement("span",{className:"input"}," VS: ",r.a.createElement("select",{value:m,onChange:function(e){h(Bt({id:a,changes:{targetType:e.target.value}}))}},Ba))),r.a.createElement("div",{className:"box"},"Damage: ",g.map((function(e){return r.a.createElement(mn,{parentId:a,id:e,key:e})})),r.a.createElement("button",{className:"add",onClick:function(){return h(Et({parentId:a}))}},"+")),r.a.createElement("div",{className:"box"},"Effects: ",A.map((function(e){return r.a.createElement(En,{parentId:a,id:e,key:e})})),r.a.createElement("button",{className:"add",onClick:function(){return h(It({parentId:a}))}},"+"))),r.a.createElement("div",{className:"box"},b.map((function(t){return r.a.createElement(e,{id:t,parentId:a,key:t})})),r.a.createElement("button",{className:"add",onClick:function(){return h(Wt({parentId:a}))}},"+"),r.a.createElement("button",{className:"add",onClick:function(){return h(Wt({parentId:a,applyMAP:!0}))}},"+MAP")))},mn=function(e){var t=e.parentId,a=e.id,n=Object(o.c)((function(e){return At(e,a)})),c=n.damageCondition,i=n.damageType,s=n.material,l=n.persistent,d=n.multiplier,u=n.dieTrend,m=n.dieAdjustments,E=n.diceSize,p=n.damageTrend,v=n.damageAdjustments,f=Object(o.b)(),g=Na("dieAdjustments",f,vt,a,m),A=Na("damageAdjustments",f,vt,a,v);return r.a.createElement("div",{className:"box"},r.a.createElement("button",{className:"delete",onClick:function(e){f(mt({id:a,parentId:t}))}},"-"),r.a.createElement("select",{value:c,onChange:function(e){return f(vt({id:a,changes:{damageCondition:e.target.value}}))}},Va),": ",r.a.createElement("div",null,"(",r.a.createElement("select",{value:u,onChange:function(e){return f(vt({id:a,changes:{dieTrend:e.target.value}}))}},Ya),"+",g,")d",r.a.createElement("select",{value:E,onChange:function(e){return f(vt({id:a,changes:{diceSize:parseInt(e.target.value)}}))}},Ja)),r.a.createElement("div",null," + (",r.a.createElement("select",{value:p,onChange:function(e){return f(vt({id:a,changes:{damageTrend:e.target.value}}))}},qa),"+",A,")")," (",r.a.createElement("select",{value:i,onChange:function(e){f(vt({id:a,changes:{damageType:e.target.value}}))}},Za),r.a.createElement("select",{value:s,onChange:function(e){f(vt({id:a,changes:{material:e.target.value}}))}},tn)," Persistent: ",r.a.createElement("input",{type:"checkbox",checked:l,onChange:function(e){return f(vt({id:a,changes:{persistent:e.target.checked}}))}}),") damage x ",r.a.createElement("select",{value:d,onChange:function(e){f(vt({id:a,changes:{multiplier:parseFloat(e.target.value)}}))}},cn))},En=function(e){var t=e.parentId,a=e.id,n=Object(o.c)((function(e){return xt(e,a)})),c=n.effectCondition,i=n.effectType,s=n.startLevel,l=n.endLevel,d=Object(o.b)();return r.a.createElement("div",{className:"box"},r.a.createElement("button",{className:"delete",onClick:function(e){d(St({id:a,parentId:t}))}},"-"),r.a.createElement("select",{value:c,onChange:function(e){return d(Ct({id:a,changes:{effectCondition:e.target.value}}))}},ka),r.a.createElement("select",{value:i,onChange:function(e){return d(Ct({id:a,changes:{effectType:e.target.value}}))}},nn),"@",r.a.createElement("select",{value:s,onChange:function(e){return d(Ct({id:a,changes:{startLevel:parseInt(e.target.value)}}))}},Da),"to",r.a.createElement("select",{value:l,onChange:function(e){return d(Ct({id:a,changes:{endLevel:parseInt(e.target.value)}}))}},Da))},pn=function(e){var t=e.routineId,a=Object(o.c)((function(e){return ra(e,t)})).apIds,n=Object(o.b)();return r.a.createElement("div",{className:"selectedRoutine"},r.a.createElement(on,{id:t}),a.map((function(e){return r.a.createElement(un,{id:e,routineId:t,key:e,displayCondition:!1})})),r.a.createElement("button",{className:"add",onClick:function(){return n(Wt({routineId:t}))}},"+"))},vn=function(){var e=Object(o.c)(ia),t=Object(o.c)(sa),a=Object(o.b)(),n=[],c=[];return e.forEach((function(e){n.push(r.a.createElement("option",{value:e.id,key:e.id},e.name)),c.push(r.a.createElement("div",{className:"flexbox",key:e.id},r.a.createElement("button",{className:"remove",onClick:function(){return a(ta(e.id))}},"-"),r.a.createElement("span",{className:e.display?"routineOn":"routineOff",onClick:function(){return a(ea({id:e.id,changes:{display:!e.display}}))}},e.name)))})),r.a.createElement("div",{className:"box"},"Selected Routine:",r.a.createElement("select",{value:t,onChange:function(e){return a(Qt(e.target.value))}},n),r.a.createElement("button",{className:"add",onClick:function(){return a(qt())}},"+"),r.a.createElement("div",{className:"routines"},c))},fn=function(){return r.a.createElement("div",{className:"box"},"Import and Export Here")};a(36);l.a.initialize("G-JR2YK097BG");var gn=function(e){var t=Object(o.c)(sa);return l.a.send("pageview"),r.a.createElement("div",{className:"PF2App"},r.a.createElement(ue,{id:0}),r.a.createElement(Ia,null),r.a.createElement(vn,null),void 0!==t?r.a.createElement(pn,{routineId:t}):"",r.a.createElement(fn,null))},An=Object(u.a)({reducer:{routines:aa,activityPaths:Ut,damages:ft,effects:yt,weaknesses:b,targets:j}});An.dispatch(Zt({id:0,name:"Martial",display:!0,apIds:[0]}));for(var bn={},hn=1;hn<=20;hn++)bn[hn]=0;An.dispatch(Gt({id:0,condition:X.ALWAYS,override:!1,level:1,useDefault:!1,defaultActivity:W.FIGHTER,type:P.STRIKE,targetType:G.AC,targetInfoId:0,value:9,rollType:_.NORMAL,damageCondition:J.STRIKE,diceNum:1,diceSize:8,staticDamage:4,damageType:V.S,material:z.NONE,damages:[0],effects:[],apIds:[],MAP:B.N1,bonusTrend:M.MARTIALWEAPON,bonusAdjustments:Object(me.a)({},bn)})),An.dispatch(pt({id:0,damageCondition:J.STRIKE,damageType:V.S,material:z.NONE,persistent:!1,multiplier:1,dieTrend:w.WEAPON,dieAdjustments:Object(me.a)({},bn),diceSize:8,damageTrend:H.MARTIALMELEE,damageAdjustments:Object(me.a)({},bn)})),An.dispatch(S({id:0,name:"Custom Target",levelDiff:0,ACTrend:k.HIGH,FortTrend:F.MODERATE,RefTrend:F.MODERATE,WillTrend:F.MODERATE,PerTrend:F.MODERATE,flatfooted:!1,weaknesses:[]}));var Rn=An;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:Rn},r.a.createElement(gn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.cad73732.chunk.js.map