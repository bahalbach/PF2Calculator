(this.webpackJsonppf2=this.webpackJsonppf2||[]).push([[0],{157:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);for(var i,n,r,s,c,d,l,o=a(223),u=a(1),p=a.n(u),m=a(34),f=a.n(m),j=(a(157),a(232)),h=a(237),g=a(231),b=a(222),O=a(77),v=a.n(O),x=a(225),S=a(97),y=a(241),A=a(245),T=a(243),C=a(244),E=a(216),I=a(9),R=a(4),L={DISTRIBUTION:"Damage Distribution",PMDEFENSE:"+/- AC/Save Bonus",PMRES:"+/- Resistance/Weakness"},k="Importing",P="Successful",w="Failure",D="Message Seen",W={LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},N={TERRIBLE:"Terrible",LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},F={ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},z={NORMAL:"Normal",ADVANTAGE:"Advantage",DISADVANTAGE:"Disadvantage"},M={STRIKE:"Strike",SAVE:"Save",SKILL:"Skill Check",SPELLATTACK:"Spell Attack"},B={UNTRAINED:"Untrained",TRAINED:"Trained Proficiency",FIGHTERWEAPON:"Fighter Weapon (1, 5, 13)",MARTIALWEAPON:"Martial Weapon (5, 13)",CASTERWEAPON:"Caster Weapon (11)",ALCHWEAPON:"Alchemist Weapon (7)",CASTERSPELL:"Caster Spell (7, 15, 19)",CLASSDC1:"Class/Spell (9, 17)",CLASSDC2:"Class/Spell (11, 19)",MCSPELL:"MC Spell (12, 18)",MAXSKILL:"Max skill (3, 7, 15)",ANIMALCOMPANION:"Animal/Construct Companion (14)",SAVAGEACATHLETICS:"Construct/Savage AC Atheletics (8, 14)"},G={AS10:"10",AS18a:"18 to 24 apex(17)",AS16a:"16 to 22 apex(17)",AS16pp:"16 to 20",AS16p:"16 to 18",AS14pp:"14 to 20",AS14p:"14 to 18",AS12p:"12 to 18",AS10p:"10 to 18",NIMBLEAC:"Dex 16 Nimble AC",SAVAGEAC:"Str 16 Construct/Savage AC"},V={NONE:"None",WEAPON:"Weapon (2, 10, 16)",SKILL:"Skill (3, 9, 17)",BOMB:"Bomb (3, 11, 17)",MUTAGEN:"Mutagen (1, 3, 11, 17)"},U={N1:"0 (0x-5)",N2:"-5 (1x-5)",N3:"-10 (2x-5)",A1:"0 (0x-4)",A2:"-4 (1x-4)",A3:"-8 (2x-4)",R1:"0 (0x-3)",R2:"-3 (1x-3)",R3:"-6 (2x-3)",RA1:"0 (0x-2)",RA2:"-2 (1x-2)",RA3:"-4 (2x-2)",RAA1:"0 (0x-1)",RAA2:"-1 (1x-1)",RAA3:"-2 (2x-1)"},H={"0 (0x-5)":"-5 (1x-5)","-5 (1x-5)":"-10 (2x-5)","-10 (2x-5)":"-10 (2x-5)","0 (0x-4)":"-4 (1x-4)","-4 (1x-4)":"-8 (2x-4)","-8 (2x-4)":"-8 (2x-4)","0 (0x-3)":"-3 (1x-3)","-3 (1x-3)":"-6 (2x-3)","-6 (2x-3)":"-6 (2x-3)","0 (0x-2)":"-2 (1x-2)","-2 (1x-2)":"-4 (2x-2)","-4 (2x-2)":"-4 (2x-2)","0 (0x-1)":"-1 (1x-1)","-1 (1x-1)":"-2 (2x-1)","-2 (2x-1)":"-2 (2x-1)"},K={AC:"AC",FORT:"Fort",REF:"Ref",WILL:"Will",PER:"Perception",selfDC:"Self Standard DC",targetDC:"Target Standard DC"},_={STRIKE:"x1 hit, x2 crit",BASIC:"Basic save",ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},Y={NONE:"None",WEAPON:"Weapon (1, 4, 12, 19)",SPELLLEVEL1:"1 x Spell Level",SPELLLEVEL2:"2 x Spell Level",LEVEL:"Level",HALFLEVEL:"1/2 Level",RUNE:"Runes (8, 15)",RUNE2:"Runes (8, 10, 16)",DEADLY:"Deadly (1, 12, 19)",BOMB:"Bomb (1, 3, 11, 17)",SNEAK:"Sneak Attack (1, 5, 11, 17)",STRATEGIC:"Strategic Strike (1, 5, 9, 13, 17)",PRECISE:"Precise Strike (1, 1, 5, 9, 13, 17)",PRECISIONEDGE:"Precision Edge 1(1, 11, 19)",PRECISIONEDGE2:"Precision Edge 2(17, 19)",PRECISIONEDGE3:"Precision Edge 3(19)",KISTRIKE:"Ki Strike (1, 9, 17)",ANIMALCOMPANION:"Animal/Construct Companion (1, 4, 14)"},X=Object(R.a)(Object(R.a)({NONE:"None",FIGHTERWEAPONSPEC:"Fighter Weapon Specialization",MARTIALWEAPONSPEC:"Martial Weapon Specializaton",CASTERWEAPONSPEC:"Caster Weapon Specializaton"},G),{},{WEAPON:"Weapon (1, 4, 12, 19)",SPELLLEVEL1:"1 x Spell Level",LEVEL:"Level",HALFLEVEL:"1/2 Level",BOMB:"Bomb Splash (1, 3, 11, 17)",BOMBPLUS:"Max Int Calculated/Expanded Splash",RAGE:"Rage",ANIMALRAGE:"Animal Rage",DRAGONRAGE:"Dragon Rage",GIANTRAGE:"Giant Rage",SPIRITRAGE:"Spirit Rage",PRECISE:"Precise Strike (1, 1, 5, 9, 13, 17)",ARCANECASCADE:"Arcane Cascade",OVERDRIVES:"Overdrive Success",OVERDRIVEC:"Overdrive Critical",IMPLEMENT:"Implement's Empowerment",CONSTRUCT:"Construct Companion Damage",NIMBLE:"Str 14 Nimble AC Damage",SAVAGE:"Str 16 Savage AC Damage"}),J={NONE:"None",B:"bludgeoning",P:"piercing",S:"slashing",BLEED:"bleed",FIRE:"fire",COLD:"cold",MENTAL:"mental",FORCE:"force",PRECISION:"precision"},$={NONE:"none",COLD_IRON:"cold iron",SILVER:"silver",ADAMANTINE:"adamantine"},q={FLATFOOT:"Flatfooted",PRONE:"Prone",GRAPPLED:"Grappled",RESTRAINED:"Restrained"},Q={FRIGHTENED:"Frightened",CLUMSY:"Clumsy",BONUSC1:"Cicumstance Bonus to next attack",BONUSSA:"Status Bonus to all attacks"},Z=Object(R.a)(Object(R.a)({},q),Q),ee=Object(R.a)(Object(R.a)({Always:"Always"},q),Q),te={4:4,6:6,8:8,10:10,12:12},ae=a(239),ie=a(240),ne=a(227),re=a(229),se=a(76),ce=function(){return Object(se.b)()},de=se.c,le=a(24),oe=Object(le.b)(),ue=0,pe=Object(le.c)({name:"weaknesses",initialState:oe.getInitialState(),reducers:{weaknessAdded:oe.addOne,weaknessUpdated:oe.updateOne,weaknessCreated:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.type,r=a.value;oe.addOne(e,{id:i,type:n,value:r})},prepare:function(e){var t=e.parentId,a=e.type,i=e.value;return{payload:{id:++ue,parentId:t,type:a,value:i}}}},weaknessRemoved:function(e,t){oe.removeOne(e,t.payload.id)}}}),me=pe.actions,fe=me.weaknessRemoved,je=me.weaknessCreated,he=(me.weaknessAdded,me.weaknessUpdated),ge=pe.reducer,be=oe.getSelectors((function(e){return e.weaknesses})),Oe=be.selectById,ve=(be.selectIds,be.selectEntities),xe=(be.selectAll,be.selectTotal,a(3)),Se=a(15),ye=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=0,i={},n=1;n<=20;n++){var r,s=Object(Se.a)(e);try{for(s.s();!(r=s.n()).done;){var c=r.value;c===n&&(a+=1)}}catch(d){s.e(d)}finally{s.f()}i[n]=t?a+n:a}return i},Ae={},Te={},Ce={},Ee={},Ie={},Re={},Le={},ke={},Pe={},we={},De={},We={},Ne={},Fe={},ze={},Me={},Be={},Ge={},Ve={},Ue={},He={},Ke={},_e={},Ye={},Xe={},Je={},$e=1;$e<=20;$e++)Xe[$e]=Math.floor(($e+1)/2),Je[$e]=2*Math.floor(($e+1)/2);for(var qe={},Qe={},Ze={},et={},tt={},at={},it={},nt={},rt={},st={},ct={},dt={},lt={},ot={},ut={},pt={},mt={},ft={},jt={},ht={},gt={},bt={},Ot={},vt={},xt={},St={},yt={},At={},Tt={},Ct={},Et={},It={},Rt={},Lt={},kt={},Pt={},wt={},Dt={},Wt={},Nt={},Ft={},zt={},Mt={},Bt=1;Bt<=20;Bt++)Ae[Bt]=0,Te[Bt]=Bt,Ce[Bt]=Math.floor(Bt/2),Ee[Bt]=Bt+2,Ie[Bt]=Bt+2,Re[Bt]=4,Le[Bt]=3,ke[Bt]=3,Pe[Bt]=3,we[Bt]=2,De[Bt]=2,We[Bt]=1,Ne[Bt]=0,Fe[Bt]=3,ze[Bt]=3,Me[Bt]=2,Be[Bt]=2,Ge[Bt]=2,Ve[Bt]=2,Rt[Bt]=Bt+2,Lt[Bt]=Bt+2,kt[Bt]=Bt+2,Pt[Bt]=Bt+2,wt[Bt]=Bt+2,Ue[Bt]=0,He[Bt]=0,Ke[Bt]=0,_e[Bt]=1,Ye[Bt]=1,qe[Bt]=0,Qe[Bt]=0,Ze[Bt]=1,et[Bt]=1,tt[Bt]=1,at[Bt]=2,it[Bt]=1,ct[Bt]=1,nt[Bt]=1,rt[Bt]=0,st[Bt]=0,dt[Bt]=0,lt[Bt]=0,ot[Bt]=3,ut[Bt]=2,pt[Bt]=3,mt[Bt]=1,ft[Bt]=2,jt[Bt]=2,ht[Bt]=4,gt[Bt]=6,bt[Bt]=3,Ot[Bt]=1,vt[Bt]=2,xt[Bt]=4,St[Bt]=2,Bt>=2&&(Ue[Bt]=1),Bt>=3&&(Ie[Bt]=Bt+4,He[Bt]=1,Ke[Bt]=1,_e[Bt]=2,mt[Bt]=2,vt[Bt]=3,xt[Bt]=5,St[Bt]=4),Bt>=4&&(Ye[Bt]=2,ct[Bt]=2,ot[Bt]=4,ut[Bt]=3,pt[Bt]=4,mt[Bt]=4,Fe[Bt]=4,ze[Bt]=4),Bt>=5&&(Me[Bt]=4,Le[Bt]=4,ke[Bt]=4,Pe[Bt]=4,we[Bt]=3,De[Bt]=3,We[Bt]=2,Ne[Bt]=1,et[Bt]=2,tt[Bt]=2,at[Bt]=3),Bt>=7&&(Be[Bt]=4,dt[Bt]=1,Ve[Bt]=4,Ie[Bt]=Bt+6,ft[Bt]=6,jt[Bt]=5,ht[Bt]=8,gt[Bt]=10,bt[Bt]=7,Ot[Bt]=2,vt[Bt]=4,xt[Bt]=6),Bt>=8&&(wt[Bt]=Bt+4,qe[Bt]=1,Qe[Bt]=1,ot[Bt]=8,ut[Bt]=6,pt[Bt]=9,Fe[Bt]=6,ze[Bt]=6),Bt>=9&&(He[Bt]=2,Rt[Bt]=Bt+4,tt[Bt]=3,at[Bt]=4,it[Bt]=2),Bt>=10&&(Ue[Bt]=2,Re[Bt]=5,we[Bt]=4,De[Bt]=4,We[Bt]=3,Ne[Bt]=2,Qe[Bt]=2,mt[Bt]=7,xt[Bt]=7),Bt>=11&&(Ge[Bt]=4,Lt[Bt]=Bt+4,Ke[Bt]=2,_e[Bt]=3,mt[Bt]=8,et[Bt]=3,St[Bt]=6,nt[Bt]=2),Bt>=12&&(Ye[Bt]=3,kt[Bt]=Bt+4,Ze[Bt]=2),Bt>=13&&(Me[Bt]=6,lt[Bt]=1,tt[Bt]=4,at[Bt]=5),Bt>=14&&(Pt[Bt]=Bt+4,wt[Bt]=Bt+6,ct[Bt]=3,ot[Bt]=11,ut[Bt]=8,pt[Bt]=13,Fe[Bt]=8,ze[Bt]=7),Bt>=15&&(dt[Bt]=2,Le[Bt]=5,ke[Bt]=5,We[Bt]=4,Ne[Bt]=3,Ve[Bt]=6,Ie[Bt]=Bt+8,qe[Bt]=2,ft[Bt]=12,jt[Bt]=12,ht[Bt]=16,gt[Bt]=18,bt[Bt]=13,Ot[Bt]=1,vt[Bt]=5,xt[Bt]=8),Bt>=16&&(Ue[Bt]=3,Qe[Bt]=3),Bt>=17&&(Le[Bt]=6,Re[Bt]=6,He[Bt]=3,Rt[Bt]=Bt+6,Ke[Bt]=3,_e[Bt]=4,mt[Bt]=10,et[Bt]=4,tt[Bt]=5,at[Bt]=6,it[Bt]=3,rt[Bt]=1,vt[Bt]=6,xt[Bt]=9),Bt>=18&&(kt[Bt]=Bt+6),Bt>=19&&(Ye[Bt]=4,Ve[Bt]=8,Lt[Bt]=Bt+6,Ze[Bt]=3,St[Bt]=8,nt[Bt]=3,rt[Bt]=2,st[Bt]=1),Bt>=20&&(Re[Bt]=7,Ne[Bt]=4,mt[Bt]=11,xt[Bt]=10),yt[Bt]=Bt+Me[Bt]+2,At[Bt]=Bt+Me[Bt],Tt[Bt]=Bt+Ge[Bt],Ct[Bt]=Bt+Be[Bt],Et[Bt]=Bt+Ve[Bt],It[Bt]=10+Bt+Ve[Bt]+Re[Bt],Dt[Bt]=Re[Bt]+dt[Bt]*(Me[Bt]+2)/2,Wt[Bt]=dt[Bt]*(Me[Bt]+2)/2,Nt[Bt]=Re[Bt]+dt[Bt]*Me[Bt]/2,Ft[Bt]=dt[Bt]*Me[Bt]/2,zt[Bt]=Pe[Bt]+lt[Bt]*Ge[Bt]/2,Mt[Bt]=lt[Bt]*Ge[Bt]/2;var Gt=(i={},Object(xe.a)(i,B.UNTRAINED,ye([])),Object(xe.a)(i,B.TRAINED,ye([1,1],!0)),Object(xe.a)(i,B.FIGHTERWEAPON,ye([1,1,1,1,5,5,13,13],!0)),Object(xe.a)(i,B.MARTIALWEAPON,ye([1,1,5,5,13,13],!0)),Object(xe.a)(i,B.CASTERWEAPON,ye([1,1,11,11],!0)),Object(xe.a)(i,B.ALCHWEAPON,ye([1,1,7,7],!0)),Object(xe.a)(i,B.CASTERSPELL,ye([1,1,7,7,15,15,19,19],!0)),Object(xe.a)(i,B.CLASSDC1,ye([1,1,9,9,17,17],!0)),Object(xe.a)(i,B.CLASSDC2,ye([1,1,11,11,19,19],!0)),Object(xe.a)(i,B.MCSPELL,ye([1,1,12,12,18,18],!0)),Object(xe.a)(i,B.MAXSKILL,ye([1,1,3,3,7,7,15,15],!0)),Object(xe.a)(i,B.ANIMALCOMPANION,ye([1,1,14,14],!0)),Object(xe.a)(i,B.SAVAGEACATHLETICS,ye([1,1,4,4,14,14],!0)),i),Vt=(n={},Object(xe.a)(n,G.AS10,ye([])),Object(xe.a)(n,G.AS18a,ye([1,1,1,1,10,17,20])),Object(xe.a)(n,G.AS16a,Le),Object(xe.a)(n,G.AS16pp,ke),Object(xe.a)(n,G.AS16p,Pe),Object(xe.a)(n,G.AS14pp,we),Object(xe.a)(n,G.AS14p,De),Object(xe.a)(n,G.AS12p,We),Object(xe.a)(n,G.AS10p,Ne),Object(xe.a)(n,G.NIMBLEAC,Fe),Object(xe.a)(n,G.SAVAGEAC,ze),n),Ut=(r={},Object(xe.a)(r,V.NONE,Ae),Object(xe.a)(r,V.WEAPON,Ue),Object(xe.a)(r,V.SKILL,He),Object(xe.a)(r,V.BOMB,Ke),Object(xe.a)(r,V.MUTAGEN,_e),r),Ht={"0 (0x-5)":0,"-5 (1x-5)":-5,"-10 (2x-5)":-10,"0 (0x-4)":0,"-4 (1x-4)":-4,"-8 (2x-4)":-8,"0 (0x-3)":0,"-3 (1x-3)":-3,"-6 (2x-3)":-6,"0 (0x-2)":0,"-2 (1x-2)":-2,"-4 (2x-2)":-4,"0 (0x-1)":0,"-1 (1x-1)":-1,"-2 (2x-1)":-2},Kt=(s={},Object(xe.a)(s,Y.NONE,Ae),Object(xe.a)(s,Y.WEAPON,Ye),Object(xe.a)(s,Y.SPELLLEVEL1,Xe),Object(xe.a)(s,Y.SPELLLEVEL2,Je),Object(xe.a)(s,Y.LEVEL,Te),Object(xe.a)(s,Y.HALFLEVEL,Ce),Object(xe.a)(s,Y.RUNE,qe),Object(xe.a)(s,Y.RUNE2,Qe),Object(xe.a)(s,Y.DEADLY,Ze),Object(xe.a)(s,Y.BOMB,_e),Object(xe.a)(s,Y.SNEAK,et),Object(xe.a)(s,Y.STRATEGIC,tt),Object(xe.a)(s,Y.PRECISE,at),Object(xe.a)(s,Y.PRECISIONEDGE,nt),Object(xe.a)(s,Y.PRECISIONEDGE2,rt),Object(xe.a)(s,Y.PRECISIONEDGE3,st),Object(xe.a)(s,Y.KISTRIKE,it),Object(xe.a)(s,Y.ANIMALCOMPANION,ct),s),_t=Object(R.a)(Object(R.a)({},Vt),{},(c={},Object(xe.a)(c,X.NONE,Ae),Object(xe.a)(c,X.FIGHTERWEAPONSPEC,Wt),Object(xe.a)(c,X.MARTIALWEAPONSPEC,Ft),Object(xe.a)(c,X.CASTERWEAPONSPEC,Mt),Object(xe.a)(c,X.WEAPON,Ye),Object(xe.a)(c,X.SPELLLEVEL1,Xe),Object(xe.a)(c,X.LEVEL,Te),Object(xe.a)(c,X.HALFLEVEL,Ce),Object(xe.a)(c,X.BOMB,_e),Object(xe.a)(c,X.BOMBPLUS,mt),Object(xe.a)(c,X.RAGE,ft),Object(xe.a)(c,X.ANIMALRAGE,jt),Object(xe.a)(c,X.DRAGONRAGE,ht),Object(xe.a)(c,X.GIANTRAGE,gt),Object(xe.a)(c,X.SPIRITRAGE,bt),Object(xe.a)(c,X.PRECISE,at),Object(xe.a)(c,X.ARCANECASCADE,Ot),Object(xe.a)(c,X.OVERDRIVES,vt),Object(xe.a)(c,X.OVERDRIVEC,xt),Object(xe.a)(c,X.IMPLEMENT,St),Object(xe.a)(c,X.CONSTRUCT,ot),Object(xe.a)(c,X.NIMBLE,ut),Object(xe.a)(c,X.SAVAGE,pt),c)),Yt={"-1":18,0:19,1:19,2:21,3:22,4:24,5:25,6:27,7:28,8:30,9:31,10:33,11:34,12:36,13:37,14:39,15:40,16:42,17:43,18:45,19:46,20:48,21:49,22:51,23:52,24:54},Xt=Object(R.a)({},Yt);for(var Jt in Xt)Xt[Jt]-=3;var $t=Object(R.a)({},Yt);for(var qt in $t)$t[qt]-=4;var Qt=Object(R.a)({},Yt);for(var Zt in Qt)Qt[Zt]-=6;var ea,ta=(d={},Object(xe.a)(d,W.EXTREME,Yt),Object(xe.a)(d,W.HIGH,Xt),Object(xe.a)(d,W.MODERATE,$t),Object(xe.a)(d,W.LOW,Qt),d),aa=(l={},Object(xe.a)(l,N.EXTREME,{"-1":9,0:10,1:11,2:12,3:14,4:15,5:17,6:18,7:20,8:21,9:23,10:24,11:26,12:27,13:29,14:30,15:32,16:33,17:35,18:36,19:38,20:39,21:41,22:43,23:44,24:46}),Object(xe.a)(l,N.HIGH,{"-1":8,0:9,1:10,2:11,3:12,4:14,5:15,6:17,7:18,8:19,9:21,10:22,11:24,12:25,13:26,14:28,15:29,16:30,17:32,18:33,19:35,20:36,21:38,22:39,23:40,24:42}),Object(xe.a)(l,N.MODERATE,{"-1":5,0:6,1:7,2:8,3:9,4:11,5:12,6:14,7:15,8:16,9:18,10:19,11:21,12:22,13:23,14:25,15:26,16:28,17:29,18:30,19:32,20:33,21:35,22:36,23:37,24:38}),Object(xe.a)(l,N.LOW,{"-1":2,0:3,1:4,2:5,3:6,4:8,5:9,6:11,7:12,8:13,9:15,10:16,11:18,12:19,13:20,14:22,15:23,16:25,17:26,18:27,19:29,20:30,21:32,22:33,23:34,24:36}),Object(xe.a)(l,N.TERRIBLE,{"-1":0,0:1,1:2,2:3,3:4,4:6,5:7,6:8,7:10,8:11,9:12,10:14,11:15,12:16,13:18,14:19,15:20,16:22,17:23,18:24,19:26,20:27,21:28,22:30,23:31,24:32}),l),ia={"-1":12,0:14,1:15,2:16,3:18,4:19,5:20,6:22,7:23,8:24,9:26,10:27,11:28,12:30,13:31,14:32,15:34,16:35,17:36,18:38,19:39,20:40,21:42,22:44,23:46,24:48,25:50},na=Object(le.b)(),ra=Object(le.c)({name:"targets",initialState:na.getInitialState(),reducers:{targetAdded:na.addOne,targetUpdated:function(e,t){na.updateOne(e,t.payload),"targetLevel"in t.payload.changes&&ma(e,t.payload.changes.targetLevel)}},extraReducers:function(e){e.addCase(je,(function(e,t){var a=t.payload,i=a.parentId,n=a.id;e.entities[i].weaknesses.push(n)})).addCase(fe,(function(e,t){var a=t.payload,i=a.parentId,n=a.id;e.entities[i].weaknesses=e.entities[i].weaknesses.filter((function(e){return e!==n}))}))}}),sa=ra.actions,ca=sa.targetAdded,da=sa.targetUpdated,la=ra.reducer,oa=na.getSelectors((function(e){return e.targets})),ua=oa.selectById,pa=(oa.selectIds,oa.selectEntities),ma=(oa.selectAll,oa.selectTotal,function(e,t){e.entities[0].overrideAC=ta[e.entities[0].ACTrend][t],e.entities[0].overrideFort=aa[e.entities[0].FortTrend][t],e.entities[0].overrideRef=aa[e.entities[0].RefTrend][t],e.entities[0].overrideWill=aa[e.entities[0].WillTrend][t],e.entities[0].overridePer=aa[e.entities[0].PerTrend][t]}),fa=a(238),ja=a(0),ha=function(e){var t,a=[];for(t in e)a.push(Object(ja.jsx)(fa.a,{value:e[t],children:e[t]},t));return a},ga=[];for(ea in L)ga.push(Object(ja.jsx)("option",{children:L[ea]},ea));for(var ba,Oa=[],va=1;va<=20;va++)Oa.push(Object(ja.jsx)(fa.a,{value:va,children:va},va));var xa,Sa=[];for(ba in F)Sa.push(Object(ja.jsx)(fa.a,{value:F[ba],children:F[ba]},ba));var ya,Aa=[];for(xa in z)Aa.push(Object(ja.jsx)(fa.a,{value:z[xa],children:z[xa]},xa));var Ta,Ca=[];for(ya in M)Ca.push(Object(ja.jsx)(fa.a,{value:M[ya],children:M[ya]},ya));var Ea,Ia=[];for(Ta in B)Ia.push(Object(ja.jsx)(fa.a,{value:B[Ta],children:B[Ta]},Ta));var Ra,La=[];for(Ea in G)La.push(Object(ja.jsx)(fa.a,{value:G[Ea],children:G[Ea]},Ea));var ka,Pa=[];for(Ra in V)Pa.push(Object(ja.jsx)(fa.a,{value:V[Ra],children:V[Ra]},Ra));var wa,Da=[];for(ka in U)Da.push(Object(ja.jsx)(fa.a,{value:U[ka],children:U[ka]},ka));var Wa,Na=[];for(wa in K)Na.push(Object(ja.jsx)(fa.a,{value:K[wa],children:K[wa]},wa));var Fa,za=[];for(Wa in W)za.push(Object(ja.jsx)(fa.a,{value:W[Wa],children:W[Wa]},Wa));var Ma,Ba=[];for(Fa in N)Ba.push(Object(ja.jsx)(fa.a,{value:N[Fa],children:N[Fa]},Fa));var Ga,Va=[];for(Ma in _)Va.push(Object(ja.jsx)(fa.a,{value:_[Ma],children:_[Ma]},Ma));var Ua,Ha=[];for(Ga in Y)Ha.push(Object(ja.jsx)(fa.a,{value:Y[Ga],children:Y[Ga]},Ga));var Ka,_a=[];for(Ua in te)_a.push(Object(ja.jsx)(fa.a,{value:Ua,children:"d"+Ua},Ua));var Ya,Xa=[];for(Ka in X)Xa.push(Object(ja.jsx)(fa.a,{value:X[Ka],children:X[Ka]},Ka));var Ja,$a=[];for(Ya in J)$a.push(Object(ja.jsx)(fa.a,{value:J[Ya],children:J[Ya]},Ya));var qa=[];for(Ja in $)qa.push(Object(ja.jsx)(fa.a,{value:$[Ja],children:$[Ja]},Ja));var Qa=[];for(Ya in J)Qa.push(Object(ja.jsx)(fa.a,{value:J[Ya],children:J[Ya]},Ya));for(Ja in $)$[Ja]!==$.NONE&&Qa.push(Object(ja.jsx)(fa.a,{value:$[Ja],children:$[Ja]},Ja));for(var Za=[],ei=0,ti=[.5,1,2];ei<ti.length;ei++){var ai=ti[ei];Za.push(Object(ja.jsx)(fa.a,{value:ai,children:ai},ai))}var ii,ni,ri=[];for(ii in q)ri.push(Object(ja.jsx)(fa.a,{value:q[ii],children:q[ii]},ii));for(ni in Q)ri.push(Object(ja.jsx)(fa.a,{value:Q[ni],children:Q[ni]},ni));function si(){var e=de((function(e){return ua(e,0)})),t=e.name,a=e.levelDiff,i=e.ACTrend,n=e.FortTrend,r=e.RefTrend,s=e.WillTrend,c=e.PerTrend,d=Object(u.useState)(t),l=Object(I.a)(d,2),o=l[0],p=l[1],m=ce();return Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},sx:{my:0,py:1},children:[Object(ja.jsx)(g.a,{item:!0,xs:12,sm:6,md:12,lg:6,children:Object(ja.jsx)(re.a,{fullWidth:!0,label:"Graph Name",placeholder:"Enter the name that will display on the graph",value:o,onChange:function(e){p(e.target.value)},onBlur:function(){return m(da({id:0,changes:{name:o}}))}})}),Object(ja.jsxs)(g.a,{item:!0,xs:6,sm:3,md:6,lg:3,children:[Object(ja.jsxs)(S.a,{children:["Level Diff: ",a]}),Object(ja.jsx)(ne.a,{value:a,step:1,min:-5,max:5,marks:!0,onChange:function(e,t){m(da({id:0,changes:{levelDiff:t}}))}})]}),Object(ja.jsx)(g.a,{item:!0,xs:6,sm:3,md:6,lg:3,children:Object(ja.jsxs)(ae.a,{fullWidth:!0,children:[Object(ja.jsx)(ie.a,{id:"AC-input",children:"AC"}),Object(ja.jsx)(x.a,{labelId:"AC-input",id:"AC",value:i,label:"AC",onChange:function(e){return m(da({id:0,changes:{ACTrend:e.target.value}}))},children:za})]})}),Object(ja.jsx)(g.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(ja.jsxs)(ae.a,{fullWidth:!0,children:[Object(ja.jsx)(ie.a,{id:"Fort-input",children:"Fort"}),Object(ja.jsx)(x.a,{labelId:"Fort-input",id:"Fort",value:n,label:"Fort",onChange:function(e){return m(da({id:0,changes:{FortTrend:e.target.value}}))},children:Ba})]})}),Object(ja.jsx)(g.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(ja.jsxs)(ae.a,{fullWidth:!0,children:[Object(ja.jsx)(ie.a,{id:"Ref-input",children:"Reflex"}),Object(ja.jsx)(x.a,{labelId:"Ref-input",id:"Ref",value:r,label:"Reflex",onChange:function(e){return m(da({id:0,changes:{RefTrend:e.target.value}}))},children:Ba})]})}),Object(ja.jsx)(g.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(ja.jsxs)(ae.a,{fullWidth:!0,children:[Object(ja.jsx)(ie.a,{id:"Will-input",children:"Will"}),Object(ja.jsx)(x.a,{labelId:"Will-input",id:"Will",value:s,label:"Will",onChange:function(e){return m(da({id:0,changes:{WillTrend:e.target.value}}))},children:Ba})]})}),Object(ja.jsx)(g.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(ja.jsxs)(ae.a,{fullWidth:!0,children:[Object(ja.jsx)(ie.a,{id:"Per-input",children:"Perception"}),Object(ja.jsx)(x.a,{labelId:"Per-input",id:"Per",value:c,label:"Perception",onChange:function(e){return m(da({id:0,changes:{PerTrend:e.target.value}}))},children:Ba})]})})]})}var ci=a(17),di={Strike:"Strike",Skill:"Skill Action",Cantrip:"Cantrip",Spell:"Spell"},li=[Y.NONE,Y.RUNE,Y.RUNE2],oi=["Alchemist","Barbarian","Bard","Champion","Cleric","Druid","Fighter","Gunslinger","Inventor","Investigator","Magus","Monk","Oracle","Ranger","Rogue","Sorcerer","Summoner","Swashbuckler","Witch","Wizard"],ui=[],pi=["Strike","Double Slice","Power Attack","Spell Strike","Ki Strike"],mi={Alchemist:ui,Barbarian:["Normal","animal rage","dragon rage","rage","giant rage","spirit rage"],Bard:ui,Champion:ui,Cleric:["Cloistered","Warpriest"],Druid:ui,Fighter:ui,Gunslinger:ui,Inventor:["Normal","Overdrive Success","Overdrive Critical"],Investigator:["Normal","Strategic Strike"],Magus:["Normal","Arcane Cascade"],Monk:ui,Oracle:ui,Ranger:["Normal","Flurry Edge","Precision Edge"],Rogue:["Normal","Sneak Attack"],Sorcerer:ui,Summoner:ui,Swashbuckler:["Normal","Precise Strike","Precise Finisher"],Witch:ui,Wizard:ui},fi=["agile","backswing","deadly","fatal","forceful","ranged","propulsive"],ji=["Sword","Hammer","Spear","Other","Pick","Knife"],hi=[B.TRAINED,B.MAXSKILL],gi=[B.TRAINED,B.CASTERSPELL,B.MCSPELL,B.CLASSDC1,B.CLASSDC2],bi=["Trip","Grapple","Demoralize"],Oi=["Electric Arc","Daze","Gouging Claw","Produce Flame","Ray of Frost","Telekinetic Projectile"],vi=["Fear","Fireball","Heroism"],xi=["Gouging Claw","Produce Flame","Ray of Frost","Telekinetic Projectile"],Si=function(e){var t="d"+e.dieSize;for(var a in e.traits)e.traits[a]&&(t+=" "+a,"fatal"===a&&(t+=" d"+e.fatalSize),"deadly"===a&&(t+=" d"+e.deadlySize));return e.critSpec&&(t+=" "+e.critSpecType),t},yi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1,i=e.cClass;for(var n in""!==e.classOption&&(i+=" ("+e.classOption+")"),i+=" - ",i+=e.activity+" - d"+a.dieSize,a.traits)a.traits[n]&&(i+=" "+n,"fatal"===n&&(i+=" d"+a.fatalSize),"deadly"===n&&(i+=" d"+a.deadlySize));return a.critSpec&&(i+=" "+a.critSpecType),i},Ai=function(e,t){return["Fighter","Gunslinger"].includes(e)?B.FIGHTERWEAPON:["Bard","Druid","Oracle","Sorcerer","Summoner","Witch","Wizard"].includes(e)?B.CASTERWEAPON:["Alchemist"].includes(e)?B.ALCHWEAPON:"Cleric"===e?"Warpriest"===t?B.ALCHWEAPON:B.CASTERWEAPON:B.MARTIALWEAPON},Ti=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return"Ranger"===e.cClass&&"Flurry Edge"===e.classOption?a.traits.agile?U.RA1:U.R1:a.traits.agile?U.A1:U.N1},Ci=function(e,t){for(var a={},i=0,n=1;n<=20;n++)i=0,"Ranger"===e.cClass&&"Flurry Edge"===e.classOption&&n>=17&&(i+=Math.min(t+e.numPrevStrikes,2)),"Ki Strike"===e.activity&&(i+=1),"Double Slice"!==e.activity||1!==t||(e.twf?e.weapon2.traits.agile:e.weapon1.traits.agile)||(i-=2),a[n]=i;return a},Ei=function(e){for(var t={},a=0,i=1;i<=20;i++)"Power Attack"===e.activity&&1===i&&(a=1),"Power Attack"===e.activity&&10===i&&(a=2),"Power Attack"===e.activity&&18===i&&(a=3),t[i]=a;return t},Ii=function(e,t){return"Ranger"===e.cClass&&"Precision Edge"===e.classOption&&t<3||("Rogue"===e.cClass&&"Sneak Attack"===e.classOption||("Investigator"===e.cClass&&"Strategic Strike"===e.classOption||"Swashbuckler"===e.cClass&&("Precise Finisher"===e.classOption||"Precise Strike"===e.classOption)))},Ri=function(e,t){if("Ranger"===e.cClass&&"Precision Edge"===e.classOption&&t<3){var a=Y.PRECISIONEDGE;return 1===t&&(a=Y.PRECISIONEDGE2),2===t&&(a=Y.PRECISIONEDGE3),{dieTrend:a,diceSize:te[8],damageWhen:[ee.Always],damageTrend:[]}}return"Rogue"===e.cClass&&"Sneak Attack"===e.classOption?{dieTrend:Y.SNEAK,diceSize:te[6],damageWhen:[ee.FLATFOOT],damageTrend:[]}:"Investigator"===e.cClass&&"Strategic Strike"===e.classOption?{dieTrend:Y.STRATEGIC,diceSize:te[6],damageWhen:[ee.Always],damageTrend:[]}:"Swashbuckler"===e.cClass&&"Precise Finisher"===e.classOption?{dieTrend:Y.PRECISE,diceSize:te[6],damageWhen:[ee.Always],damageTrend:[]}:"Swashbuckler"===e.cClass&&"Precise Strike"===e.classOption?{dieTrend:Y.NONE,diceSize:te[6],damageWhen:[ee.Always],damageTrend:[X.PRECISE]}:{dieTrend:Y.NONE,diceSize:te[6],damageWhen:[ee.Always],damageTrend:[]}},Li=function(e){return"Ki Strike"===e.activity||"Spell Strike"===e.activity},ki=function(e){return"Ki Strike"===e.activity?{dieTrend:Y.KISTRIKE,diceSize:te[6],damageType:J.FORCE}:"Spell Strike"===e.activity?Pi(e.spell,e.cantripScore):{dieTrend:Y.NONE,diceSize:te[6],damageType:J.NONE}},Pi=function(e,t){var a=J.B,i=te[4];return"Telekinetic Projectile"===e&&(i=te[6]),"Produce Flame"===e&&(a=J.FIRE),"Gouging Claw"===e&&(a=J.BLEED),"Ray of Frost"===e&&(a=J.COLD),{damageType:a,dieTrend:Y.SPELLLEVEL1,diceSize:i,damageTrend:[t]}},wi=function(e){return"Spell Strike"===e.activity&&("Produce Flame"===e.spell||"Gouging Claw"===e.spell)},Di=function(e){var t=J.B,a=te[4];return"Produce Flame"===e.spell&&(t=J.FIRE),"Gouging Claw"===e.spell&&(t=J.BLEED),{damageType:t,diceSize:a,dieTrend:Y.SPELLLEVEL1,persistent:!0}},Wi=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=a?e.weapon2:e.weapon1,n=[];i.traits.propulsive||i.traits.ranged||n.push(e.damageScore),["Fighter","Gunslinger"].includes(e.cClass)?n.push(X.FIGHTERWEAPONSPEC):["Bard","Cleric","Druid","Oracle","Sorcerer","Summoner","Witch","Wizard"].includes(e.cClass)||["Alchemist"].includes(e.cClass)?n.push(X.CASTERWEAPONSPEC):n.push(X.MARTIALWEAPONSPEC);var r=0;if(e.twf){r=i.numPrevStrikes;var s,c=Object(Se.a)(e.isStrikeSecondaryWeapon);try{for(c.s();!(s=c.n()).done;){var d=s.value;(d&&a||!d&&!a)&&(r+=1)}}catch(l){c.e(l)}finally{c.f()}}else r=t+e.numPrevStrikes;if(i.traits.forceful&&(1===r?n.push(X.WEAPON):r>=2&&(n.push(X.WEAPON),n.push(X.WEAPON))),"Barbarian"===e.cClass)switch(e.classOption){case"animal rage":n.push(X.ANIMALRAGE);break;case"dragon rage":n.push(X.DRAGONRAGE);break;case"rage":n.push(X.RAGE);break;case"giant rage":n.push(X.GIANTRAGE);break;case"spirit rage":n.push(X.SPIRITRAGE)}if("Magus"===e.cClass&&"Arcane Cascade"===e.classOption)n.push(X.ARCANECASCADE);return n},Ni=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1,i={},n=0,r=1;r<=20;r++){if(n=0,a.traits.propulsive&&(n+=Math.floor(Vt[e.damageScore][r]/2)),"Gunslinger"===e.cClass&&(n+=1),"Inventor"===e.cClass){var s=0;switch(r>=3&&(s=1),r>=7&&(s=2),r>=15&&(s=3),e.classOption){case"Overdrive Success":n+=Math.floor(Vt[e.cantripScore][r]/2)+s;break;case"Overdrive Critical":n+=Vt[e.cantripScore][r]+s}}i[r]=n}return i},Fi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.traits.backswing},zi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.traits.deadly},Mi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.traits.fatal},Bi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.critSpec&&"Pick"===a.critSpecType},Gi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.critSpec&&"Knife"===a.critSpecType},Vi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ui(e,t)||Hi(e,t)||Ki(e,t)},Ui=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.critSpec&&"Sword"===a.critSpecType},Hi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.critSpec&&"Hammer"===a.critSpecType},Ki=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.critSpec&&"Spear"===a.critSpecType},_i=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1,i={},n=0,r=1;r<=20;r++)r>=a.critSpecLevel&&a.critSpec&&"Knife"===a.critSpecType&&r>=1&&(n=1),i[r]=n;return i},Yi=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1,i={},n=0,r=1;r<=20;r++)r>=a.critSpecLevel&&(a.critSpec&&"Pick"===a.critSpecType&&(r>=1&&(n=2),r>=4&&(n=4),r>=12&&(n=6),r>=19&&(n=8)),a.critSpec&&"Knife"===a.critSpecType&&(r>=2&&(n=1),r>=10&&(n=2),r>=16&&(n=3))),i[r]=n;return i},Xi=function(e){switch(e.skillActivity){case"Trip":return K.REF;case"Grapple":return K.FORT;case"Demoralize":return K.WILL;default:return K.selfDC}};function Ji(e){return"object"===typeof e&&"string"===typeof e.name&&"boolean"===typeof e.display&&"number"===typeof e.levelDiff&&"string"===typeof e.description&&$i(e.apIds)&&"number"===typeof e.startLevel&&"number"===typeof e.endLevel}function $i(e){if(Array.isArray(e)){var t,a=Object(Se.a)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(!(Object.values(F).includes(i.condition)&&Object.values(z).includes(i.rollType)&&Object.values(M).includes(i.type)&&Object.values(B).includes(i.profTrend)&&Object.values(G).includes(i.statTrend)&&Object.values(V).includes(i.itemTrend)&&qi(i.bonusAdjustments)&&Object.values(U).includes(i.MAP)&&Object.values(K).includes(i.targetType)&&$i(i.apIds)&&Qi(i.damages)&&Zi(i.effects)))return!1}}catch(n){a.e(n)}finally{a.f()}return!0}return!1}function qi(e){if("object"!==typeof e)return!1;for(var t=1;t<=20;t++)if("number"!==typeof e[t])return!1;return!0}function Qi(e){if(Array.isArray(e)){var t,a=Object(Se.a)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(Array.isArray(i.damageTrend)){var n,r=Object(Se.a)(i.damageTrend);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(!Object.values(X).includes(s))return!1}}catch(o){r.e(o)}finally{r.f()}}if(Array.isArray(i.damageWhen)){var c,d=Object(Se.a)(i.damageWhen);try{for(d.s();!(c=d.n()).done;){var l=c.value;if(!Object.values(ee).includes(l))return!1}}catch(o){d.e(o)}finally{d.f()}}if(!(Object.values(_).includes(i.damageCondition)&&Object.values(Y).includes(i.dieTrend)&&qi(i.dieAdjustments)&&"number"===typeof i.diceSize&&"boolean"===typeof i.fatal&&"number"===typeof i.fatalDie&&qi(i.damageAdjustments)&&Object.values(J).includes(i.damageType)&&Object.values($).includes(i.material)&&"boolean"===typeof i.persistent&&[.5,1,2].includes(i.multiplier)))return!1}}catch(o){a.e(o)}finally{a.f()}return!0}return!1}function Zi(e){if(Array.isArray(e)){var t,a=Object(Se.a)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(Array.isArray(i.damageWhen)){var n,r=Object(Se.a)(i.damageWhen);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(!Object.values(ee).includes(s))return!1}}catch(c){r.e(c)}finally{r.f()}}if(!Object.values(F).includes(i.effectCondition)||!Object.values(Z).includes(i.effectType)||"number"!==typeof i.startLevel||"number"!==typeof i.endLevel)return!1}}catch(c){a.e(c)}finally{a.f()}return!0}return!1}for(var en=Object(le.b)(),tn=Object(le.b)(),an=Object(le.b)(),nn=Object(le.b)(),rn=100,sn=1e3,cn=1e3,dn=1e3,ln={},on={},un=1;un<=20;un++)ln[un]=0,on[un]=1;var pn={selectedRoutine:0,selectedActivityPath:void 0,parentRoutine:0,parentActivity:void 0,routines:en.getInitialState(),activityPaths:tn.getInitialState(),damages:an.getInitialState(),effects:nn.getInitialState(),importRoutine:D},mn={name:"",type:M.STRIKE,condition:F.ALWAYS,rollType:z.NORMAL,profTrend:B.TRAINED,statTrend:G.AS10,itemTrend:V.NONE,bonusAdjustments:ln,MAP:U.N1,targetType:K.AC,damages:[],effects:[],apIds:[]},fn={profTrend:B.MARTIALWEAPON,statTrend:G.AS18a,itemTrend:V.WEAPON,damages:[0,1],effects:[0]},jn={type:M.SAVE,profTrend:B.CASTERSPELL,statTrend:G.AS18a,targetType:K.REF,damages:[2],effects:[]},hn={damageCondition:_.STRIKE,damageType:J.B,material:$.NONE,persistent:!1,multiplier:1,damageWhen:[ee.Always],dieTrend:Y.NONE,dieAdjustments:ln,diceSize:6,fatal:!1,fatalDie:10,damageTrend:[],damageAdjustments:ln},gn={effectCondition:F.ALWAYS,effectType:Z.FLATFOOT,effectValue:1,startLevel:1,endLevel:20,damageWhen:[ee.Always]},bn=Object(le.c)({name:"routines",initialState:pn,reducers:{setRoutine:function(e,t){e.selectedRoutine=t.payload,e.selectedActivityPath=void 0,e.parentActivity=void 0,e.parentRoutine=void 0},setActivityPath:function(e,t){e.selectedActivityPath===t.payload?e.selectedActivityPath=void 0:e.selectedActivityPath=t.payload,e.parentActivity=void 0,e.parentRoutine=void 0},routineAdded:function(e,t){en.addOne(e.routines,t)},routineUpdated:function(e,t){en.updateOne(e.routines,t)},activityPathAdded:function(e,t){tn.addOne(e.activityPaths,t)},activityPathUpdated:function(e,t){tn.updateOne(e.activityPaths,t)},damageAdded:function(e,t){an.addOne(e.damages,t)},damageUpdated:function(e,t){an.updateOne(e.damages,t)},effectAdded:function(e,t){nn.addOne(e.effects,t)},effectUpdated:function(e,t){nn.updateOne(e.effects,t)},routineCreated:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.copy;if(e.parentRoutine=void 0,n&&void 0!==e.selectedRoutine){var r=e.routines.entities[e.selectedRoutine],s=r.name+" Copy",c=vr(e,r.apIds,void 0,i);en.addOne(e.routines,Object(R.a)(Object(R.a)({},r),{},{id:i,name:s,apIds:c}))}else en.addOne(e.routines,{id:i,name:"",display:!0,apIds:[],levelDiff:0,description:"",startLevel:1,endLevel:20}),e.parentRoutine=i;e.selectedRoutine=i,e.selectedActivityPath=void 0,e.parentActivity=void 0},prepare:function(e){var t=e.copy;return{payload:{id:++rn,copy:void 0!==t&&t}}}},routineRemoved:function(e,t){var a=t.payload,i=e.routines.entities[a].apIds;dr(e,i),en.removeOne(e.routines,a),a===e.selectedRoutine&&(0===e.routines.ids.length?e.selectedRoutine=void 0:e.selectedRoutine=e.routines.entities[e.routines.ids[0]].id,e.selectedActivityPath=void 0,e.parentActivity=void 0,e.parentRoutine=void 0)},setNewActivityParent:function(e,t){e.parentRoutine=t.payload.routineId,e.parentActivity=t.payload.parentId,e.selectedActivityPath=void 0},emptyActivityPathCreated:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.routineId,r=a.activityType,s=Object(R.a)(Object(R.a)({},mn),{},{profTrend:B.UNTRAINED,id:i,routineId:n}),c="";if(void 0!==r){if(r===M.STRIKE){var d=xr(e,fn.damages),l=Sr(e,fn.effects);c="Martial - Strike - d8 Sword",s=Object(R.a)(Object(R.a)(Object(R.a)({},mn),fn),{},{id:i,routineId:n,name:c,damages:d,effects:l}),c="Martial - 1 Strike - d8 Sword"}if(r===M.SAVE){var o=xr(e,jn.damages),u=Sr(e,jn.effects);c="Caster - Fireball",s=Object(R.a)(Object(R.a)(Object(R.a)({},mn),jn),{},{id:i,routineId:n,name:c,damages:o,effects:u})}}e.routines.entities[n].apIds.push(i),""===e.routines.entities[n].name&&(e.routines.entities[n].name=c),""===e.routines.entities[n].description&&(e.routines.entities[n].description=""),tn.addOne(e.activityPaths,s),e.selectedActivityPath=i,e.parentActivity=void 0,e.parentRoutine=void 0},prepare:function(e){var t=e.routineId,a=e.activityType;return{payload:{id:++sn,routineId:t,activityType:a}}}},activityPathCreated:function(e,t){var a=e.parentActivity,i=e.parentRoutine,n=t.payload,r=n.strikeInfo,s=n.skillInfo,c=n.cantripInfo,d=n.spellInfo,l=0,o="",u="";if(void 0!==r){l=lr(e,a,i,r,0);var p=function(e){var t=e.weapon1,a=e.weapon2,i=e.cClass,n="".concat(e.numStrikes," ").concat(e.activity," with class ").concat(e.cClass," (").concat(e.classOption,") after ").concat(e.numPrevStrikes," previous strikes. Weapon is ").concat(Si(t));return""!==e.classOption&&(i+=" ("+e.classOption+")"),i+=" - ","Double Slice"!==e.activity&&(i+=e.numStrikes+" "),i+=e.activity+" - "+Si(t),e.twf&&(i+=" | "+Si(a),n+=". Weapon two is "+Si(a)),[i,n]}(r),m=Object(I.a)(p,2);o=m[0],u=m[1]}if(void 0!==s){var f=function(e){return[e.skillActivity,"Use action ".concat(e.skillActivity," with proficiency (").concat(e.proficiency,"), ability score (").concat(e.abilityScore,"), and item bonus (").concat(e.itemBonus,").")]}(s),j=Object(I.a)(f,2);o=j[0],u=j[1],l=pr(e,a,i,s)}if(void 0!==c){var h=function(e){return[e.cantrip,"Cast spell ".concat(e.cantrip," with proficiency (").concat(e.proficiency,") and ability score (").concat(e.abilityScore,").")]}(c),g=Object(I.a)(h,2);o=g[0],u=g[1],l=jr(e,a,i,c)}if(void 0!==d){var b=function(e){return[e.spell,"Cast spell ".concat(e.spell," with proficiency (").concat(e.proficiency,") and ability score (").concat(e.abilityScore,").")]}(d),O=Object(I.a)(b,2);o=O[0],u=O[1],l=gr(e,a,i,d)}void 0!==i&&(e.routines.entities[i].apIds.push(l),""===e.routines.entities[i].name&&(e.routines.entities[i].name=o),""===e.routines.entities[i].description&&(e.routines.entities[i].description=u)),void 0!==a&&e.activityPaths.entities[a].apIds.push(l),e.selectedActivityPath=l,e.parentActivity=void 0,e.parentRoutine=void 0},activityPathContinued:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.parentId;e.activityPaths.entities[n].apIds.push(i);var r=e.activityPaths.entities[n],s=xr(e,r.damages),c=Sr(e,r.effects);tn.addOne(e.activityPaths,Object(R.a)(Object(R.a)({},r),{},{id:i,parentId:n,routineId:void 0,MAP:H[r.MAP],damages:s,effects:c,apIds:[]})),e.selectedActivityPath=i},prepare:function(e){var t=e.parentId;return{payload:{id:++sn,parentId:t}}}},activityPathRemoved:function(e,t){var a=t.payload,i=a.id,n=a.parentId,r=a.routineId;dr(e,[i]),void 0!==n&&(e.activityPaths.entities[n].apIds=e.activityPaths.entities[n].apIds.filter((function(e){return e!==i}))),void 0!==r&&(e.routines.entities[r].apIds=e.routines.entities[r].apIds.filter((function(e){return e!==i}))),e.selectedActivityPath=void 0},damageCreated:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.parentId;e.activityPaths.entities[n].damages.push(i),an.addOne(e.damages,Object(R.a)({id:i},hn))},prepare:function(e){var t=e.parentId;return{payload:{id:++cn,parentId:t}}}},damageRemoved:function(e,t){var a=t.payload,i=a.id,n=a.parentId;e.activityPaths.entities[n].damages=e.activityPaths.entities[n].damages.filter((function(e){return e!==i})),an.removeOne(e.damages,i)},effectCreated:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.parentId;e.activityPaths.entities[n].effects.push(i),nn.addOne(e.effects,Object(R.a)(Object(R.a)({},gn),{},{id:i}))},prepare:function(e){var t=e.parentId;return{payload:{id:++dn,parentId:t}}}},effectRemoved:function(e,t){var a=t.payload,i=a.id,n=a.parentId;e.activityPaths.entities[n].effects=e.activityPaths.entities[n].effects.filter((function(e){return e!==i})),nn.removeOne(e.effects,i)},importRoutine:function(e,t){try{e.importRoutine=k;var a=JSON.parse(t.payload);Ji(a)?(e.selectedRoutine=Cr(e,a),e.selectedActivityPath=void 0,e.parentActivity=void 0,e.parentRoutine=void 0,e.importRoutine=P):e.importRoutine=w}catch(i){console.log(i),console.log("Parsing failed"),e.importRoutine=w}}}}),On=bn.actions,vn=On.setRoutine,xn=On.setActivityPath,Sn=On.setNewActivityParent,yn=On.routineAdded,An=On.routineUpdated,Tn=On.routineCreated,Cn=On.routineRemoved,En=(On.activityPathAdded,On.activityPathUpdated),In=On.emptyActivityPathCreated,Rn=On.activityPathCreated,Ln=On.activityPathContinued,kn=On.activityPathRemoved,Pn=On.damageAdded,wn=On.damageUpdated,Dn=On.damageCreated,Wn=On.damageRemoved,Nn=On.effectAdded,Fn=On.effectUpdated,zn=On.effectCreated,Mn=On.effectRemoved,Bn=On.importRoutine,Gn=bn.reducer,Vn=en.getSelectors((function(e){return e.routines.routines})),Un=Vn.selectById,Hn=(Vn.selectIds,Vn.selectEntities),Kn=Vn.selectAll,_n=(Vn.selectTotal,tn.getSelectors((function(e){return e.routines.activityPaths}))),Yn=_n.selectById,Xn=(_n.selectIds,_n.selectEntities),Jn=(_n.selectAll,_n.selectTotal,an.getSelectors((function(e){return e.routines.damages}))),$n=Jn.selectById,qn=(Jn.selectIds,Jn.selectEntities),Qn=(Jn.selectAll,Jn.selectTotal,nn.getSelectors((function(e){return e.routines.effects}))),Zn=Qn.selectById,er=(Qn.selectIds,Qn.selectEntities),tr=(Qn.selectAll,Qn.selectTotal,function(e){return e.routines.selectedRoutine}),ar=function(e){return e.routines.selectedActivityPath},ir=function(e){return e.routines.parentActivity},nr=function(e){return void 0===e.routines.selectedActivityPath&&(void 0!==e.routines.parentRoutine||void 0!==e.routines.parentActivity)},rr=function(e){if(void 0!==e.routines.selectedRoutine){var t=e.routines.routines.entities[e.routines.selectedRoutine];return Object(R.a)(Object(R.a)({},t),{},{apIds:yr(e.routines,t.apIds)})}},sr=function(e){return Object.values(e.routines.routines.entities).filter((function(e){return null===e||void 0===e?void 0:e.display})).map((function(e){return(null===e||void 0===e?void 0:e.name)+": "+(null===e||void 0===e?void 0:e.description)}))},cr=function(e){return e.routines.importRoutine},dr=function(e,t){for(var a=0;a<t.length;){var i=e.activityPaths.entities[t[a]];t.push.apply(t,Object(ci.a)(i.apIds)),an.removeMany(e.damages,i.damages),nn.removeMany(e.effects,i.effects),tn.removeOne(e.activityPaths,i.id),a+=1}},lr=function e(t,a,i,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:F.ALWAYS,d=n.twf&&n.isStrikeSecondaryWeapon[r];n.twf&&"Double Slice"===n.activity&&(d=0!==r),console.log("using weapon2: ".concat(d));var l=++sn,o=[];if(r<n.numStrikes-1)if("Double Slice"===n.activity){var u=e(t,l,void 0,n,r+1,s+1,F.CRIT),p=e(t,l,void 0,n,r+1,s+1,F.SUCC),m=e(t,l,void 0,n,r+1,s,F.FAIL_WORSE);o.push(u,p,m)}else if("Ranger"===n.cClass&&"Precision Edge"===n.classOption){var f=e(t,l,void 0,n,r+1,s+1,F.AT_LEAST_SUCC),j=e(t,l,void 0,n,r+1,s,F.FAIL_WORSE);o.push(f,j)}else o.push(e(t,l,void 0,n,r+1));var h=yi(n,d),g=[];g="Double Slice"===n.activity?r<n.numStrikes-1?[]:or(t,n,r,d,s,!0,c):or(t,n,r,d,s);var b=ur(t,n,r,d),O=Ti(n,d);return r+n.numPrevStrikes===1?"Double Slice"!==n.activity&&(O=H[O]):r+n.numPrevStrikes>=2&&(O="Double Slice"===n.activity&&r+n.numPrevStrikes===2?H[O]:H[H[O]]),tn.addOne(t.activityPaths,Object(R.a)(Object(R.a)({},mn),{},{id:l,parentId:a,routineId:i,condition:c,name:h,type:M.STRIKE,profTrend:Ai(n.cClass,n.classOption),statTrend:n.attackScore,itemTrend:V.WEAPON,bonusAdjustments:Ci(n,r),MAP:O,damages:g,effects:b,apIds:o})),l},or=function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:F.FAIL_WORSE,c=i?t.weapon2:t.weapon1,d=[];if(r){var l=t.weapon1;if(s===F.CRIT){var o=++cn,u=Object(R.a)(Object(R.a)({},hn),{},{damageCondition:_.ALWAYS,multiplier:2,id:o,dieTrend:Y.WEAPON,dieAdjustments:Ei(t),diceSize:Mi(t)?l.fatalSize:l.dieSize,fatal:Mi(t),fatalDie:l.fatalSize,damageTrend:Wi(t,a-1),damageAdjustments:Ni(t)});an.addOne(e.damages,u),d.push(o),o=++cn;var p=Object(R.a)(Object(R.a)({},hn),{},{damageCondition:_.ALWAYS,multiplier:2,id:o,dieTrend:l.runes,diceSize:te[6],damageType:J.FIRE});if(an.addOne(e.damages,p),d.push(o),Ii(t,n)){var m=Ri(t,n),f=m.dieTrend,j=m.diceSize,h=m.damageWhen,g=m.damageTrend;o=++cn;var b=Object(R.a)(Object(R.a)({},hn),{},{damageCondition:_.ALWAYS,multiplier:2,id:o,dieTrend:f,diceSize:j,damageType:J.PRECISION,damageWhen:h,damageTrend:g});an.addOne(e.damages,b),d.push(o)}if(zi(t)){var O=ln;!Mi(t)&&Bi(t)&&(O=Yi(t)),o=++cn;var v=Object(R.a)(Object(R.a)({},hn),{},{damageCondition:_.ALWAYS,id:o,dieTrend:Y.DEADLY,diceSize:l.deadlySize,damageAdjustments:O});an.addOne(e.damages,v),d.push(o)}if(Mi(t)){var x=ln;Bi(t)&&(x=Yi(t)),o=++cn;var S=Object(R.a)(Object(R.a)({},hn),{},{damageCondition:_.ALWAYS,id:o,dieAdjustments:on,diceSize:l.fatalSize,damageAdjustments:x});an.addOne(e.damages,S),d.push(o)}if(!zi(t)&&!Mi(t)&&Bi(t)){var y=Yi(t);o=++cn;var A=Object(R.a)(Object(R.a)({},hn),{},{damageCondition:_.ALWAYS,id:o,diceSize:l.fatalSize,damageAdjustments:y});an.addOne(e.damages,A),d.push(o)}if(Gi(t)){var T=Yi(t);o=++cn;var C=Object(R.a)(Object(R.a)({},hn),{},{damageCondition:_.ALWAYS,id:o,dieAdjustments:_i(t),diceSize:te[6],damageAdjustments:T,persistent:!0});an.addOne(e.damages,C),d.push(o)}}else if(s===F.SUCC){var E=++cn,I=Object(R.a)(Object(R.a)({},hn),{},{damageCondition:_.ALWAYS,id:E,dieTrend:Y.WEAPON,dieAdjustments:Ei(t),diceSize:l.dieSize,fatal:!1,fatalDie:l.fatalSize,damageTrend:Wi(t,a-1),damageAdjustments:Ni(t)});an.addOne(e.damages,I),d.push(E),E=++cn;var L=Object(R.a)(Object(R.a)({},hn),{},{damageCondition:_.ALWAYS,id:E,dieTrend:l.runes,diceSize:te[6],damageType:J.FIRE});if(an.addOne(e.damages,L),d.push(E),Ii(t,n)){var k=Ri(t,n),P=k.dieTrend,w=k.diceSize,D=k.damageWhen,W=k.damageTrend;E=++cn;var N=Object(R.a)(Object(R.a)({},hn),{},{damageCondition:_.FAIL_WORSE,id:E,dieTrend:P,diceSize:w,damageType:J.PRECISION,damageWhen:D,damageTrend:W});an.addOne(e.damages,N),d.push(E)}}}var z=++cn,M=Object(R.a)(Object(R.a)({},hn),{},{id:z,dieTrend:Y.WEAPON,dieAdjustments:Ei(t),diceSize:c.dieSize,fatal:Mi(t,i),fatalDie:c.fatalSize,damageTrend:Wi(t,a,i),damageAdjustments:Ni(t,i)});an.addOne(e.damages,M),d.push(z),z=++cn;var B=Object(R.a)(Object(R.a)({},hn),{},{id:z,dieTrend:c.runes,diceSize:te[6],damageType:J.FIRE});if(an.addOne(e.damages,B),d.push(z),(!r||s!==F.CRIT)&&Ii(t,n)){var G=Ri(t,n),V=G.dieTrend,U=G.diceSize,H=G.damageWhen,K=G.damageTrend;z=++cn;var X=Object(R.a)(Object(R.a)({},hn),{},{id:z,dieTrend:V,diceSize:U,damageTrend:K,damageType:J.PRECISION,damageWhen:H});an.addOne(e.damages,X),d.push(z)}if(Li(t)){z=++cn;var $=Object(R.a)(Object(R.a)({},hn),{},{id:z},ki(t));an.addOne(e.damages,$),d.push(z)}if(wi(t)){z=++cn;var q=Object(R.a)(Object(R.a)({},hn),{},{id:z,damageCondition:_.CRIT},Di(t));an.addOne(e.damages,q),d.push(z)}if(zi(t,i)){var Q=ln;!Mi(t,i)&&Bi(t,i)&&(Q=Yi(t,i)),z=++cn;var Z=Object(R.a)(Object(R.a)({},hn),{},{id:z,damageCondition:_.CRIT,dieTrend:Y.DEADLY,diceSize:c.deadlySize,damageAdjustments:Q});an.addOne(e.damages,Z),d.push(z)}if(Mi(t,i)){var ee=ln;Bi(t,i)&&(ee=Yi(t,i)),z=++cn;var ae=Object(R.a)(Object(R.a)({},hn),{},{id:z,damageCondition:_.CRIT,dieAdjustments:on,diceSize:c.fatalSize,damageAdjustments:ee});an.addOne(e.damages,ae),d.push(z)}if(!zi(t,i)&&!Mi(t,i)&&Bi(t,i)){var ie=Yi(t,i);z=++cn;var ne=Object(R.a)(Object(R.a)({},hn),{},{id:z,damageCondition:_.CRIT,diceSize:c.fatalSize,damageAdjustments:ie});an.addOne(e.damages,ne),d.push(z)}if(Gi(t,i)){var re=Yi(t,i);z=++cn;var se=Object(R.a)(Object(R.a)({},hn),{},{id:z,damageCondition:_.CRIT,dieAdjustments:_i(t,i),diceSize:te[6],damageType:J.BLEED,damageAdjustments:re,persistent:!0});an.addOne(e.damages,se),d.push(z)}return d},ur=function(e,t,a){var i,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=n?t.weapon2:t.weapon1,s=[];if(Vi(t,n)){var c=q.FLATFOOT;Ui(t,n)&&(c=q.FLATFOOT),Hi(t,n)&&(c=q.PRONE),Ki(t,n)&&(c=Q.CLUMSY),i=++dn;var d=Object(R.a)(Object(R.a)({},gn),{},{id:i,effectCondition:F.CRIT,effectType:c,effectValue:1,startLevel:r.critSpecLevel});s.push(i),nn.addOne(e.effects,d)}if(Fi(t,n)){i=++dn;var l=Object(R.a)(Object(R.a)({},gn),{},{id:i,effectCondition:F.FAIL_WORSE,effectType:Q.BONUSC1});s.push(i),nn.addOne(e.effects,l)}return s},pr=function(e,t,a,i){var n=++sn,r=mr(e,i),s=fr(e,i);return tn.addOne(e.activityPaths,Object(R.a)(Object(R.a)({},mn),{},{id:n,parentId:t,routineId:a,name:i.skillActivity,type:M.SKILL,profTrend:i.proficiency,statTrend:i.abilityScore,itemTrend:i.itemBonus,targetType:Xi(i),damages:r,effects:s})),n},mr=function(e,t){var a=[];if(function(e){return"Trip"===e.skillActivity}(t)){var i=++cn,n=Object(R.a)(Object(R.a)({},hn),{},{id:i,damageCondition:_.CRIT,dieAdjustments:on,diceSize:te[6]});a.push(i),an.addOne(e.damages,n)}return a},fr=function(e,t){var a,i=[],n=Object(Se.a)(function(e){switch(e.skillActivity){case"Trip":return[{effectCondition:F.AT_LEAST_SUCC,effectType:Z.PRONE,effectValue:1}];case"Grapple":return[{effectCondition:F.SUCC,effectType:Z.GRAPPLED,effectValue:1},{effectCondition:F.CRIT,effectType:Z.RESTRAINED,effectValue:1}];case"Demoralize":return[{effectCondition:F.SUCC,effectType:Z.FRIGHTENED,effectValue:1},{effectCondition:F.CRIT,effectType:Z.FRIGHTENED,effectValue:2}];default:return[]}}(t));try{for(n.s();!(a=n.n()).done;){var r=a.value,s=r.effectCondition,c=r.effectType,d=r.effectValue,l=++dn,o=Object(R.a)(Object(R.a)({},gn),{},{id:l,effectCondition:s,effectType:c,effectValue:d});i.push(l),nn.addOne(e.effects,o)}}catch(u){n.e(u)}finally{n.f()}return i},jr=function(e,t,a,i){var n=++sn,r=hr(e,i);return tn.addOne(e.activityPaths,Object(R.a)(Object(R.a)(Object(R.a)({},mn),{},{id:n,parentId:t,routineId:a,name:i.cantrip,profTrend:i.proficiency,statTrend:i.abilityScore},function(e){switch(e.cantrip){case"Electric Arc":return{type:"Save",targetType:K.REF};case"Daze":return{type:"Save",targetType:K.WILL};default:return{targetType:K.AC}}}(i)),{},{damages:r})),n},hr=function(e,t){var a=[],i=++cn,n=Object(R.a)(Object(R.a)({},hn),{},{id:i,dieTrend:Y.SPELLLEVEL1,damageTrend:[t.abilityScore]},function(e){switch(e.cantrip){case"Electric Arc":return{damageCondition:_.BASIC,diceSize:te[4]};case"Daze":return{damageCondition:_.BASIC,dieTrend:Y.NONE,dieAdjustments:ye([5,9,13,17])};case"Telekinetic Projectile":return{};default:return{diceSize:te[4]}}}(t));if(a.push(i),an.addOne(e.damages,n),"Produce Flame"===t.cantrip||"Gouging Claw"===t.cantrip){var r=++cn,s=Object(R.a)(Object(R.a)({},hn),{},{id:r,damageCondition:_.CRIT,dieTrend:Y.SPELLLEVEL1,persistent:!0});a.push(r),an.addOne(e.damages,s)}return a},gr=function(e,t,a,i){var n=++sn,r=br(e,i),s=Or(e,i);return tn.addOne(e.activityPaths,Object(R.a)(Object(R.a)(Object(R.a)({},mn),{},{id:n,parentId:t,routineId:a,name:i.spell,type:M.SAVE,profTrend:i.proficiency,statTrend:i.abilityScore},function(e){switch(e.spell){case"Fireball":default:return{targetType:K.REF};case"Fear":return{targetType:K.WILL}}}(i)),{},{damages:r,effects:s})),n},br=function(e,t){var a=[];if("Fireball"===t.spell){var i=++cn,n=Object(R.a)(Object(R.a)({},hn),{},{id:i,damageCondition:_.BASIC,dieTrend:Y.SPELLLEVEL2});a.push(i),an.addOne(e.damages,n)}return a},Or=function(e,t){var a=[];if("Fear"===t.spell){var i=++dn,n=Object(R.a)(Object(R.a)({},gn),{},{id:i,effectCondition:F.CRIF,effectType:Z.FRIGHTENED,effectValue:3});a.push(i),nn.addOne(e.effects,n),i=++dn;var r=Object(R.a)(Object(R.a)({},gn),{},{id:i,effectCondition:F.FAIL,effectType:Z.FRIGHTENED,effectValue:2});a.push(i),nn.addOne(e.effects,r),i=++dn;var s=Object(R.a)(Object(R.a)({},gn),{},{id:i,effectCondition:F.SUCC,effectType:Z.FRIGHTENED,effectValue:1});a.push(i),nn.addOne(e.effects,s)}else if("Heroism"===t.spell){var c=++dn,d=Object(R.a)(Object(R.a)({},gn),{},{id:c,effectCondition:F.ALWAYS,effectType:Z.BONUSSA,effectValue:1,startLevel:5,endLevel:10});a.push(c),nn.addOne(e.effects,d),c=++dn;var l=Object(R.a)(Object(R.a)({},gn),{},{id:c,effectCondition:F.ALWAYS,effectType:Z.BONUSSA,effectValue:1,startLevel:11,endLevel:16});a.push(c),nn.addOne(e.effects,l),c=++dn;var o=Object(R.a)(Object(R.a)({},gn),{},{id:c,effectCondition:F.ALWAYS,effectType:Z.BONUSSA,effectValue:1,startLevel:17,endLevel:20});a.push(c),nn.addOne(e.effects,o)}return a},vr=function e(t,a,i,n){var r,s=[],c=Object(Se.a)(a);try{for(c.s();!(r=c.n()).done;){var d=r.value,l=++sn,o=t.activityPaths.entities[d],u=e(t,o.apIds,l),p=xr(t,o.damages),m=Sr(t,o.effects);tn.addOne(t.activityPaths,Object(R.a)(Object(R.a)({},o),{},{id:l,parentId:i,routineId:n,damages:p,effects:m,apIds:u})),s.push(l)}}catch(f){c.e(f)}finally{c.f()}return s},xr=function(e,t){var a,i=[],n=Object(Se.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,s=e.damages.entities[r],c=++cn;an.addOne(e.damages,Object(R.a)(Object(R.a)({},s),{},{id:c})),i.push(c)}}catch(d){n.e(d)}finally{n.f()}return i},Sr=function(e,t){var a,i=[],n=Object(Se.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,s=e.effects.entities[r],c=++dn;nn.addOne(e.effects,Object(R.a)(Object(R.a)({},s),{},{id:c})),i.push(c)}}catch(d){n.e(d)}finally{n.f()}return i},yr=function e(t,a){var i,n=[],r=Object(Se.a)(a);try{for(r.s();!(i=r.n()).done;){var s=i.value,c=t.activityPaths.entities[s],d=e(t,c.apIds),l=Ar(t,c.damages),o=Tr(t,c.effects);n.push(Object(R.a)(Object(R.a)({},c),{},{apIds:d,damages:l,effects:o}))}}catch(u){r.e(u)}finally{r.f()}return n},Ar=function(e,t){var a,i=[],n=Object(Se.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,s=e.damages.entities[r];i.push(Object(R.a)({},s))}}catch(c){n.e(c)}finally{n.f()}return i},Tr=function(e,t){var a,i=[],n=Object(Se.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,s=e.effects.entities[r];i.push(Object(R.a)({},s))}}catch(c){n.e(c)}finally{n.f()}return i},Cr=function(e,t){var a=++rn,i=Er(e,t.apIds,void 0,a);return en.addOne(e.routines,Object(R.a)(Object(R.a)({},t),{},{id:a,apIds:i})),a},Er=function e(t,a,i,n){var r,s=[],c=Object(Se.a)(a);try{for(c.s();!(r=c.n()).done;){var d=r.value,l=++sn,o=e(t,d.apIds,l),u=Ir(t,d.damages),p=Rr(t,d.effects);void 0===d.name&&(d.name=""),tn.addOne(t.activityPaths,Object(R.a)(Object(R.a)({},d),{},{id:l,parentId:i,routineId:n,damages:u,effects:p,apIds:o})),s.push(l)}}catch(m){c.e(m)}finally{c.f()}return s},Ir=function(e,t){var a,i=[],n=Object(Se.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,s=++cn;an.addOne(e.damages,Object(R.a)(Object(R.a)(Object(R.a)({},hn),r),{},{id:s})),i.push(s)}}catch(c){n.e(c)}finally{n.f()}return i},Rr=function(e,t){var a,i=[],n=Object(Se.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,s=++dn;nn.addOne(e.effects,Object(R.a)(Object(R.a)(Object(R.a)({},gn),r),{},{id:s})),i.push(s)}}catch(c){n.e(c)}finally{n.f()}return i},Lr=a(89),kr=a(90),Pr=function(e,t){if(0===e.length||0===t.length)throw new Error("Vectors can not be empty!");for(var a=e,i=t,n=0,r=[],s=0;s<a.length;s++){for(var c=0;c<i.length;c++)n+c!==r.length?r[n+c]=r[n+c]+a[s]*i[c]:r.push(a[s]*i[c]);n++}return r},wr=function(e,t,a){if(0===a)return{staticDamage:0,damageDist:[1]};if(1===a)return{staticDamage:e,damageDist:Object(ci.a)(t)};var i,n=[0],r=0,s=Math.floor(e*a),c=0,d=s,l=Object(Se.a)(t);try{for(l.s();!(i=l.n()).done;){var o=i.value,u=Math.floor((e+c)*a);if(u===d)n[r]+=o;else{if(u>d+1)for(var p=0;p<u-(d+1);p++)n[++r]=0;n[++r]=o}d=u,c++}}catch(m){l.e(m)}finally{l.f()}return{staticDamage:s,damageDist:n}},Dr=function(){for(var e=0,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];for(var n=0,r=a;n<r.length;n++){var s=r[n];e=Math.max(e,s.distribution.staticDamage+s.distribution.damageDist.length)}for(var c=[],d=0;d<e;d++){c.push(0);var l,o=Object(Se.a)(a);try{for(o.s();!(l=o.n()).done;){var u=l.value;if(u.distribution.staticDamage<=d){var p=d-u.distribution.staticDamage;p<u.distribution.damageDist.length&&(c[d]+=u.distribution.damageDist[p]*u.chance)}}}catch(m){o.e(m)}finally{o.f()}}return c},Wr=function(e,t,a){for(;e<a;)t.length>=2&&(t[1]+=t[0],t.shift()),e++;return{staticDamage:e,damageDist:t}};var Nr={normal:"normal",persistent:"persistent"},Fr=function(e,t,a,i,n,r,s){var c;c=i?e.persistent:e.normal;var d=wr(n,r,s);n=d.staticDamage,r=d.damageDist,t in c?(c[t].staticDamage+=n,c[t].damageDist=Pr(c[t].damageDist,r),a!==$.NONE&&(c[t].material=a)):c[t]={material:a,staticDamage:n,damageDist:r}};function zr(e,t){var a=[];switch(e){case F.ALWAYS:a=[0,1,2,3];break;case F.AT_LEAST_FAIL:a=[0,1,2];break;case F.AT_LEAST_SUCC:a=[0,1];break;case F.CRIF:a=[3];break;case F.CRIT:a=[0];break;case F.FAIL:a=[2];break;case F.FAIL_WORSE:a=[2,3];break;case F.SUCC:a=[1];break;case F.SUCC_WORSE:a=[1,2,3]}return a.includes(t)}var Mr=function(){function e(t,a,i,n,r,s){Object(Lr.a)(this,e),this.activityPaths=void 0,this.target=void 0,this.damages=void 0,this.effects=void 0,this.weaknesses=void 0,this.selectedRoutine=void 0,this.activityPaths=t,this.target=a[0],this.damages=i,this.effects=n,this.weaknesses=r,this.selectedRoutine=s}return Object(kr.a)(e,[{key:"canEvaluate",value:function(e,t){var a=this.target.levelDiff;return!(e<t.startLevel||e>t.endLevel)&&!(e+a<-1||e+a>24)}},{key:"canEvaluateSingleLevel",value:function(e){var t=this.target.routineLevel;return!(t<e.startLevel||t>e.endLevel)}},{key:"evalRoutine",value:function(e,t,a,i){for(var n={},r=0,s=Object.values(q);r<s.length;r++){n[s[r]]=!1}for(var c=0,d=Object.values(Q);c<d.length;c++){n[d[c]]=0}n.Flatfooted=this.target.flatfooted;for(var l=[],o=[],u=[],p=[],m=0,f=0,j=[1],h=[1],g=0;g<e.apIds.length;g++){var b=this.activityPaths[e.apIds[g]],O=this.evalPath(b,n,t,a,i),v=Object(I.a)(O,2),x=v[0],S=v[1];j=Pr(j,x),h=Pr(h,S)}for(var y=1,A=0;A<j.length;A++)l.push(A),o.push(y),y-=j[A],m+=j[A]*A;y=1;for(var T=0;T<h.length;T++)u.push(T),p.push(y),y-=h[T],f+=h[T]*T;return{expD:m,expP:f,dataArray:l,routineDDist:j,cumulative:o,PdataArray:u,routinePDDist:h,Pcumulative:p}}},{key:"evalPath",value:function(e,t,a,i,n){for(var r=this,s=this.target,c=e.damages.map((function(e){return r.damages[e]})),d=e.effects.map((function(e){return r.effects[e]})),l=s.weaknesses.map((function(e){return r.weaknesses[e]})),o=function(e,t,a,i,n,r,s,c){var d,l,o=0,u=10;if(void 0===c)switch(c=a.routineLevel,l=a.targetLevel,e.targetType){case K.AC:d=a.overrideAC;break;case K.FORT:d=a.overrideFort;break;case K.REF:d=a.overrideRef;break;case K.WILL:d=a.overrideWill;break;case K.PER:d=a.overridePer;break;default:d=a.overrideAC}else{switch(l=c+a.levelDiff,e.targetType){case K.AC:d=ta[a.ACTrend];break;case K.FORT:d=aa[a.FortTrend];break;case K.REF:d=aa[a.RefTrend];break;case K.WILL:d=aa[a.WillTrend];break;case K.PER:d=aa[a.PerTrend];break;default:d=ta[a.ACTrend]}d=d[l]}var p=i.Frightened;switch(e.targetType!==K.AC&&e.targetType!==K.REF||(p=Math.max(p,i.Clumsy)),e.type){case M.STRIKE:case M.SPELLATTACK:case M.SKILL:o=Gt[e.profTrend][c],o+=Vt[e.statTrend][c],o+=Ut[e.itemTrend][c],o+=e.bonusAdjustments[c],o+=Ht[e.MAP],o+=i["Cicumstance Bonus to next attack"]+i["Status Bonus to all attacks"],i["Cicumstance Bonus to next attack"]=0,u=d+r-p,e.targetType===K.AC?i.Flatfooted&&(u-=2):e.targetType===K.selfDC?u=ia[c]:e.targetType===K.targetDC?u=ia[l]:u+=10;break;case M.SAVE:o=d+r-p,u=10+Gt[e.profTrend][c],u+=Vt[e.statTrend][c],u+=Ut[e.itemTrend][c],u+=e.bonusAdjustments[c],e.targetType===K.AC?o-=10:e.targetType===K.selfDC?o=ia[c]-10:e.targetType===K.targetDC&&(o=ia[l]-10);break;default:console.log("Activity type ".concat(e.type," not implemented"))}var m=function(e,t){var a=e-t;return a<-20?0:-20===a?5:a<-9?arguments.length>2&&void 0!==arguments[2]&&arguments[2]?10:5:a<8?5*(11+a):95}(o,u),f=function(e,t){var a=e-t;return a<-29?0:a<-20?5:-20===a?0:a<-9?5*(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?19:20+a):a<-1?50:a<9?5*(8-a):5}(o,u),j=function(e,t){var a=e-t;return a<-29?5:a<-20?5*(29+a):a<-10?45:a<-1?5*(-2-a):a<9?5:0}(o,u),h=function(e,t){var a=e-t;return a<-29?95:a<-10?5*(-10-a):a<-1?5:0}(o,u);if(e.rollType===z.ADVANTAGE){var g=100-m,b=g-f,O=b-j;j=100-O*O/100-(f=100-b*b/100-(m=100-g*g/100))-m,h=h*h/100}else if(e.rollType===z.DISADVANTAGE){var v=100-h,x=v-j,S=x-f;f=100-S*S/100-(j=100-x*x/100-(h=100-v*v/100))-h,m=m*m/100}var y=[m/100,f/100,j/100,h/100],A={normal:{},persistent:{}},T={normal:{},persistent:{}},C={normal:{},persistent:{}},E={normal:{},persistent:{}},I=[A,T,C,E],R=[{normal:{staticDamage:0,damageDist:[1]},persistent:{staticDamage:0,damageDist:[1]}},{normal:{staticDamage:0,damageDist:[1]},persistent:{staticDamage:0,damageDist:[1]}},{normal:{staticDamage:0,damageDist:[1]},persistent:{staticDamage:0,damageDist:[1]}},{normal:{staticDamage:0,damageDist:[1]},persistent:{staticDamage:0,damageDist:[1]}}];t.forEach((function(e){var t,a=e.damageCondition,n=e.diceSize,r=e.fatal,s=e.fatalDie,d=e.damageTrend,l=e.damageType,o=e.material,u=e.persistent,p=e.multiplier,m=e.damageWhen,f=!1,j=Object(Se.a)(m);try{for(j.s();!(t=j.n()).done;){var h=t.value;if(h===ee.Always){f=!0;break}var g=i[h];if(g&&g>0){f=!0;break}}}catch(w){j.e(w)}finally{j.f()}if(f){var b=Kt[e.dieTrend][c];(b+=e.dieAdjustments[c])<0&&(b=0);for(var O=0,v=0;v<d.length;v++)O+=_t[d[v]][c];O+=e.damageAdjustments[c];for(var x=[1],S=[1],y=[],I=0;I<n;I++)y.push(1/n);for(var R=0;R<b;R++)x=Pr(x,y);if(r){for(var L=[],k=0;k<s;k++)L.push(1/s);for(var P=0;P<b;P++)S=Pr(S,L)}switch(O+=b,a){case _.STRIKE:Fr(T,l,o,u,O,x,1*p),Fr(A,l,o,u,O,r?S:x,2*p);break;case _.BASIC:Fr(T,l,o,u,O,x,.5*p),Fr(C,l,o,u,O,x,1*p),Fr(E,l,o,u,O,x,2*p);break;case _.CRIF:Fr(E,l,o,u,O,x,1*p);break;case _.FAIL:Fr(C,l,o,u,O,x,1*p);break;case _.SUCC:Fr(T,l,o,u,O,x,1*p);break;case _.CRIT:Fr(A,l,o,u,O,x,1*p);break;case _.AT_LEAST_SUCC:Fr(T,l,o,u,O,x,1*p),Fr(A,l,o,u,O,x,1*p);break;case _.AT_LEAST_FAIL:Fr(C,l,o,u,O,x,1*p),Fr(T,l,o,u,O,x,1*p),Fr(A,l,o,u,O,x,1*p);break;case _.FAIL_WORSE:Fr(E,l,o,u,O,x,1*p),Fr(C,l,o,u,O,x,1*p);break;case _.SUCC_WORSE:Fr(E,l,o,u,O,x,1*p),Fr(C,l,o,u,O,x,1*p),Fr(T,l,o,u,O,x,1*p);break;case _.ALWAYS:Fr(E,l,o,u,O,x,1*p),Fr(C,l,o,u,O,x,1*p),Fr(T,l,o,u,O,x,1*p),Fr(A,l,o,u,O,x,1*p);break;default:console.log("Damage condition ".concat(a," not implemented yet."))}}}));for(var L=0;L<4;L++){var k=I[L],P=R[L],w=void 0;for(w in Nr){var D=0,W=[1],N=void 0;for(N in k[w]){var F=k[w][N],B=F.material,G=F.staticDamage,V=F.damageDist;if(!(1===V.length&&G<=0)){var U=Wr(G,V,1);G=U.staticDamage,V=U.damageDist;var H,Y=0,X=0,J=Object(Se.a)(n);try{for(J.s();!(H=J.n()).done;){var $=H.value;$.type!==N&&$.type!==B||($.value+s<0?Y=Math.min(Y,$.value+s):$.value+s>0&&(X=Math.max(X,$.value+s)))}}catch(ae){J.e(ae)}finally{J.f()}var q=Wr(G-=X+Y,V,0);G=q.staticDamage,V=q.damageDist,D+=G,W=Pr(W,V)}}P[w].staticDamage=D,P[w].damageDist=W}var Q=wr(P.persistent.staticDamage,P.persistent.damageDist,a.persistentMultiplier),Z=Q.staticDamage,te=Q.damageDist;P.normal.staticDamage+=Z,P.normal.damageDist=Pr(P.normal.damageDist,te)}return{damageTrees:R,chances:y}}(e,c,s,t,l,a,i,n),u=o.damageTrees,p=o.chances,m=[t,t,t,t],f=function(e){d.forEach((function(t){var a=t.effectCondition,i=t.effectType,s=t.effectValue,c=t.startLevel,d=t.endLevel,l=t.damageWhen;if(void 0!==n){if(n<c||n>d)return}else if(r.target.routineLevel<c||r.target.routineLevel>d)return;var o,u=!1,p=Object(Se.a)(l);try{for(p.s();!(o=p.n()).done;){var f=o.value;if(f===ee.Always){u=!0;break}var j=m[e][f];if(j&&j>0){u=!0;break}}}catch(h){p.e(h)}finally{p.f()}if(u&&zr(a,e))switch(i){case Z.RESTRAINED:!0!==m[e].Restrained&&(m[e]=Object(R.a)(Object(R.a)({},m[e]),{},{Flatfooted:!0,Grappled:!0,Restrained:!0}));break;case Z.GRAPPLED:!0!==m[e].Grappled&&(m[e]=Object(R.a)(Object(R.a)({},m[e]),{},{Flatfooted:!0,Grappled:!0}));break;case Z.PRONE:!0!==m[e].Prone&&(m[e]=Object(R.a)(Object(R.a)({},m[e]),{},{Flatfooted:!0,Prone:!0}));break;case Z.FLATFOOT:!0!==m[e].Flatfooted&&(m[e]=Object(R.a)(Object(R.a)({},m[e]),{},{Flatfooted:!0}));break;case Z.FRIGHTENED:s&&m[e].Frightened<s&&(m[e]=Object(R.a)(Object(R.a)({},m[e]),{},{Frightened:s}));break;case Z.CLUMSY:s&&m[e].Clumsy<s&&(m[e]=Object(R.a)(Object(R.a)({},m[e]),{},{Clumsy:s}));break;case Z.BONUSC1:s&&m[e]["Cicumstance Bonus to next attack"]<s&&(m[e]=Object(R.a)(Object(R.a)({},m[e]),{},{"Cicumstance Bonus to next attack":s}));break;case Z.BONUSSA:s&&m[e]["Status Bonus to all attacks"]<s&&(m[e]=Object(R.a)(Object(R.a)({},m[e]),{},{"Status Bonus to all attacks":s}));break;default:console.log("Effect type ".concat(i," not implemented"))}}))},j=0;j<4;j++)f(j);return e.apIds.forEach((function(e){for(var t=r.activityPaths[e],s=new Map,c=0;c<4;c++)if(zr(t.condition,c)){if(s.has(m[c]));else{var d=r.evalPath(t,m[c],a,i,n),l=Object(I.a)(d,2),o=l[0],p=l[1];s.set(m[c],{pathDist:o,pathPDist:p})}u[c].normal.damageDist=Pr(u[c].normal.damageDist,s.get(m[c]).pathDist),u[c].persistent.damageDist=Pr(u[c].persistent.damageDist,s.get(m[c]).pathPDist)}})),[Dr({distribution:u[0].normal,chance:p[0]},{distribution:u[1].normal,chance:p[1]},{distribution:u[2].normal,chance:p[2]},{distribution:u[3].normal,chance:p[3]}),Dr({distribution:u[0].persistent,chance:p[0]},{distribution:u[1].persistent,chance:p[1]},{distribution:u[2].persistent,chance:p[2]},{distribution:u[3].persistent,chance:p[3]})]}}]),e}(),Br=a(95),Gr=a.n(Br),Vr=a(125),Ur=a.n(Vr),Hr=Object(le.c)({name:"sharing",initialState:{graphUrl:"",singleLevelGraphUrl:"",imgLink:""},reducers:{graphSaved:function(e,t){e.graphUrl=t.payload},singleLevelGraphSaved:function(e,t){e.singleLevelGraphUrl=t.payload},saveImgLink:function(e,t){e.imgLink=t.payload}}}),Kr=Hr.actions,_r=Kr.graphSaved,Yr=Kr.singleLevelGraphSaved,Xr=Kr.saveImgLink,Jr=Hr.reducer,$r=Ur()(Gr.a),qr=function(e,t){var a=[],i=[],n={},r={};if(t.target.percentSelectedRoutine&&void 0!==t.selectedRoutine)for(var s=e[t.selectedRoutine],c=1;c<=20;c++)if(t.canEvaluate(c,s)){var d=t.evalRoutine(s,0,0,c),l=d.expD,o=d.expP;n[c]=l,r[c]=o}for(var u in e){var p=e[u];if(p.display){for(var m=[],f=[],j=[],h=1;h<=20;h++)if(t.canEvaluate(h,p)){var g=t.evalRoutine(p,0,0,h),b=g.expD,O=g.expP;t.target.percentSelectedRoutine?h in n&&(m.push(h),f.push(b/n[h]),j.push(O/r[h])):(m.push(h),f.push(b),j.push(O))}a.push({type:"scatter",name:p.name,x:m,y:f,yaxis:"y"}),i.push({type:"scatter",name:p.name,x:m,y:j,yaxis:"y"})}}return{datasets:a,perDatasets:i}},Qr=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[],n=[],r=[],s=[];for(var c in e){var d=e[c];if(d.display&&t.canEvaluateSingleLevel(d)){for(var l=[],o=[],u=[],p=-5;p<=5;p++){l.push(p);var m=t.evalRoutine(d,a?p:0,a?0:p),f=m.expD,j=m.expP;0===p&&(r.push(Object(ja.jsxs)("div",{children:[d.name,": ",f.toFixed(2)]},d.id)),s.push(Object(ja.jsxs)("div",{children:[d.name,": ",j.toFixed(2)]},d.id))),o.push(f),u.push(j)}i.push({type:"scatter",name:d.name,x:l,y:o,yaxis:"y"}),n.push({type:"scatter",name:d.name,x:l,y:u,yaxis:"y"})}}return{expectedDamages:r,expectedPersistentDamages:s,datasets:i,perDatasets:n}},Zr=function(e,t){var a=[],i=[],n=[],r=[];for(var s in e){var c=e[s];if(c.display&&t.canEvaluateSingleLevel(c)){var d=t.evalRoutine(c,0,0),l=d.expD,o=d.expP,u=d.dataArray,p=d.routineDDist,m=d.cumulative,f=d.PdataArray,j=d.routinePDDist,h=d.Pcumulative;n.push(Object(ja.jsxs)("div",{children:[c.name,": ",l.toFixed(2)]},c.id)),r.push(Object(ja.jsxs)("div",{children:[c.name,": ",o.toFixed(2)]},c.id)),a.push({type:"scatter",name:c.name,x:u,y:m,yaxis:"y"}),a.push({type:"bar",name:l.toFixed(2),x:u,y:p}),i.push({type:"scatter",name:c.name,x:f,y:h}),i.push({type:"bar",name:o.toFixed(2),x:f,y:j})}}return{expectedDamages:n,expectedPersistentDamages:r,datasets:a,perDatasets:i}},es=function(e){var t=de(Hn),a=de(Xn),i=de(pa),n=de(qn),r=de(er),s=de(ve),c=de(tr),d=ce(),l=function(e,t){Gr.a.toImage(t,{format:"png",height:1e3,width:1e3}).then((function(e){d(_r(e))}))},o=function(e,t){Gr.a.toImage(t,{format:"png",height:1e3,width:1e3}).then((function(e){d(Yr(e))}))},u=new Mr(a,i,n,r,s,c),p=i[0],m="@"+p.routineLevel,f=p.name;m+=" Vs",p.flatfooted&&(m+=" flatfooted"),m+=" AC: "+p.overrideAC,m+=" F: "+p.overrideFort,m+=" R: "+p.overrideRef,m+=" W: "+p.overrideWill,m+=" P: "+p.overridePer;var j,h,g=[],b=[];switch(e){case L.DISTRIBUTION:var O=Zr(t,u);j=O.expectedDamages,h=O.expectedPersistentDamages,g=O.datasets,b=O.perDatasets;break;case L.PMDEFENSE:var v=Qr(t,u,!0);j=v.expectedDamages,h=v.expectedPersistentDamages,g=v.datasets,b=v.perDatasets;break;case L.PMRES:var x=Qr(t,u,!1);j=x.expectedDamages,h=x.expectedPersistentDamages,g=x.datasets,b=x.perDatasets}var S,y,A=qr(t,u),T=A.datasets,C=A.perDatasets;return e===L.DISTRIBUTION?(S="damage",y="chance"):e===L.PMDEFENSE?(S="+/- AC/Save Bonus",y="Expected Damage"):e===L.PMRES&&(S="+/- Resistance/Weakness",y="Expected Damage"),{expectedDamages:j,expectedPersistentDamages:h,damageChart:Object(ja.jsx)($r,{className:"plot",data:g,layout:{title:m,autosize:!0,xaxis:{title:S},yaxis:{title:y},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"},onInitialized:l,onUpdate:l}),persistentDamageChart:Object(ja.jsx)($r,{className:"plot",data:b,layout:{title:"Expected Persistent Damage",autosize:!0,xaxis:{title:"persistent damage"},yaxis:{title:"chance"},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}}),byLevelDamageChart:Object(ja.jsx)($r,{className:"plot",data:T,layout:{title:f,autosize:!0,xaxis:{title:"Level"},yaxis:{title:"Expected Damage"},legend:{x:0,y:1,xanchor:"left"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"},onInitialized:o,onUpdate:o}),byLevelPerDamageChart:Object(ja.jsx)($r,{className:"plot",data:C,layout:{title:f,autosize:!0,xaxis:{title:"Level"},yaxis:{title:"Expected Persistent Damage"},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}})}},ts=a(215),as=a(224),is=function(){var e=de((function(e){return ua(e,0)})),t=e.routineLevel,a=e.targetLevel,i=e.overrideAC,n=e.overrideFort,r=e.overrideRef,s=e.overrideWill,c=e.overridePer,d=e.weaknesses,l=Object(u.useState)(i.toString()),o=Object(I.a)(l,2),m=o[0],f=o[1],j=Object(u.useState)(n.toString()),h=Object(I.a)(j,2),b=h[0],O=h[1],v=Object(u.useState)(r.toString()),x=Object(I.a)(v,2),y=x[0],A=x[1],T=Object(u.useState)(s.toString()),C=Object(I.a)(T,2),E=C[0],R=C[1],L=Object(u.useState)(c.toString()),k=Object(I.a)(L,2),P=k[0],w=k[1];Object(u.useEffect)((function(){f(i.toString()),O(n.toString()),A(r.toString()),R(s.toString()),w(c.toString())}),[i,n,r,s,c]);var D=ce();return Object(ja.jsxs)(p.a.Fragment,{children:[Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},sx:{my:1,p:1},alignItems:"center",children:[Object(ja.jsxs)(g.a,{item:!0,xs:6,container:!0,justifyContent:"center",children:[Object(ja.jsxs)(S.a,{id:"routine-level",children:["Level: ",t]}),Object(ja.jsx)(ts.a,{sx:{px:2,width:1},children:Object(ja.jsx)(ne.a,{"aria-labelledby":"routine-level",valueLabelDisplay:"auto",value:t,step:1,min:1,max:20,marks:!0,onChange:function(e,i){var n=Number(i)+(a-t);n=Math.min(24,Math.max(-1,n)),D(da({id:0,changes:{routineLevel:i,targetLevel:n}}))}})})]}),Object(ja.jsxs)(g.a,{item:!0,xs:6,container:!0,justifyContent:"center",children:[Object(ja.jsxs)(S.a,{id:"target-level",children:["Target Level: ",a]}),Object(ja.jsx)(ts.a,{sx:{px:2,width:1},children:Object(ja.jsx)(ne.a,{"aria-labelledby":"target-level",valueLabelDisplay:"auto",value:a,step:1,min:-1,max:24,marks:!0,onChange:function(e,t){D(da({id:0,changes:{targetLevel:t}}))}})})]})]}),Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},justifyContent:"center",children:[Object(ja.jsx)(g.a,{item:!0,xs:4,sm:2,children:Object(ja.jsx)(re.a,{fullWidth:!0,label:"AC",value:m,onChange:function(e){f(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(m);f(e.toString()),D(da({id:0,changes:{overrideAC:e}}))},inputProps:{step:1,min:0,max:100,type:"number"}})}),Object(ja.jsx)(g.a,{item:!0,xs:4,sm:2,children:Object(ja.jsx)(re.a,{fullWidth:!0,label:"Fort",value:b,onChange:function(e){O(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(b);O(e.toString()),D(da({id:0,changes:{overrideFort:e}}))},inputProps:{step:1,min:0,max:100,type:"number"}})}),Object(ja.jsx)(g.a,{item:!0,xs:4,sm:2,children:Object(ja.jsx)(re.a,{fullWidth:!0,label:"Ref",value:y,onChange:function(e){A(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(y);A(e.toString()),D(da({id:0,changes:{overrideRef:e}}))},inputProps:{step:1,min:0,max:100,type:"number"}})}),Object(ja.jsx)(g.a,{item:!0,xs:4,sm:2,children:Object(ja.jsx)(re.a,{fullWidth:!0,label:"Will",value:E,onChange:function(e){R(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(E);R(e.toString()),D(da({id:0,changes:{overrideWill:e}}))},inputProps:{step:1,min:0,max:100,type:"number"}})}),Object(ja.jsx)(g.a,{item:!0,xs:4,sm:2,children:Object(ja.jsx)(re.a,{fullWidth:!0,label:"Perception",value:P,onChange:function(e){w(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(P);w(e.toString()),D(da({id:0,changes:{overridePer:e}}))},inputProps:{step:1,min:0,max:100,type:"number"}})})]}),Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},sx:{my:1,p:1},children:[Object(ja.jsx)(g.a,{item:!0,container:!0,alignItems:"center",xs:"auto",children:Object(ja.jsx)(S.a,{children:"Resistance/Weakness: "})}),d.map((function(e){return Object(ja.jsx)(ns,{parentId:0,id:e},e)})),Object(ja.jsx)(rs,{parentId:0})]})]})},ns=function(e){var t=e.id,a=e.parentId,i=de((function(e){return Oe(e,t)})),n=i.type,r=i.value,s=Object(u.useState)(r.toString()),c=Object(I.a)(s,2),d=c[0],l=c[1],o=ce();return Object(ja.jsxs)(g.a,{item:!0,children:[Object(ja.jsx)(ss,{value:n,onChange:function(e){var i;(null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value)===J.NONE?o(fe({id:t,parentId:a})):o(he({id:t,changes:{type:e.target.value}}))}}),Object(ja.jsx)(as.a,{title:"Positive numbers are resistances. Negative numbers are weaknesses.",children:Object(ja.jsx)(re.a,{size:"small",label:"Value",value:d,sx:{width:"9ch"},onChange:function(e){l(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(d);Number.isNaN(e)&&(e=0),l(e.toString()),o(he({id:t,changes:{value:e}}))},inputProps:{step:1,min:-100,max:100,type:"number"}})})]})},rs=function(e){var t=e.parentId,a=ce(),i=Object(u.useState)("0"),n=Object(I.a)(i,2),r=n[0],s=n[1];return Object(ja.jsxs)(g.a,{item:!0,children:[Object(ja.jsx)(ss,{value:J.NONE,onChange:function(e){if(e.target.value!==J.NONE){var i=Number(r);Number.isNaN(i)&&(i=0),a(je({type:e.target.value,value:i,parentId:t}))}}}),Object(ja.jsx)(as.a,{title:"Positive numbers are resistances. Negative numbers are weaknesses.",children:Object(ja.jsx)(re.a,{size:"small",label:"Value",value:r,sx:{width:"9ch"},onChange:function(e){s(e.target.value)},inputProps:{step:1,min:-100,max:100,type:"number"}})})]})},ss=function(e){var t=e.value,a=e.onChange;return Object(ja.jsxs)(ae.a,{size:"small",children:[Object(ja.jsx)(ie.a,{children:"Type"}),Object(ja.jsx)(x.a,{label:"Type",value:t,onChange:function(e){return a(e)},children:Qa})]})},cs=function(){var e=de((function(e){return ua(e,0)})),t=e.persistentMultiplier,a=e.flatfooted,i=e.percentSelectedRoutine,n=Object(u.useState)(t.toString()),r=Object(I.a)(n,2),s=r[0],c=r[1],d=ce();return Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(ja.jsx)(g.a,{item:!0,xs:6,sm:3,md:6,lg:3,children:Object(ja.jsx)(T.a,{control:Object(ja.jsx)(C.a,{checked:a,onChange:function(e){return d(da({id:0,changes:{flatfooted:e.target.checked}}))}}),label:"Flatfooted"})}),Object(ja.jsx)(g.a,{item:!0,xs:6,sm:3,md:6,lg:3,children:Object(ja.jsx)(re.a,{fullWidth:!0,label:"Persistent Damage Multiplier",value:s,onChange:function(e){c(e.target.value),e.target.focus()},onBlur:function(){var e=parseFloat(s);Number.isNaN(e)&&(e=0),c(e.toString()),d(da({id:0,changes:{persistentMultiplier:e}}))},inputProps:{step:.1,min:0,max:10,type:"number"}})}),Object(ja.jsx)(g.a,{item:!0,xs:12,sm:6,md:12,lg:6,children:Object(ja.jsx)(T.a,{control:Object(ja.jsx)(C.a,{checked:i,onChange:function(e){return d(da({id:0,changes:{percentSelectedRoutine:e.target.checked}}))}}),label:"% of Selected Routine"})})]})},ds=a(126),ls=a.n(ds),os=function(e){var t,a=e.byLevel,i=void 0===a||a,n=de((function(e){return function(e,t){return t?e.sharing.graphUrl:e.sharing.singleLevelGraphUrl}(e,i)})).split(";base64,")[1],r=de(sr),s=ce(),c=Object(E.a)((function(e){return e.breakpoints.up("sm")})),d="",l=Object(Se.a)(r);try{for(l.s();!(t=l.n()).done;){d+=t.value+" \r\n"}}catch(p){l.e(p)}finally{l.f()}d+="\n Graph made with https://bahalbach.github.io/PF2Calculator/ ";var o=new FormData;o.append("image",n),o.append("title","Graph from https://bahalbach.github.io/PF2Calculator/"),o.append("description",d);var u={method:"POST",headers:{Authorization:"Client-ID 9f68ffe6050491a"},body:o};return Object(ja.jsx)(j.a,{onClick:function(){var e=window.open("about:blank");fetch("https://api.imgur.com/3/image",u).then((function(e){return e.json()})).then((function(t){console.log("description is ".concat(t.data.description)),s(Xr(t.data.link)),null!==e&&(e.location=t.data.link,e.focus())})).catch((function(t){console.error(t),alert("Upload failed: "+t),null===e||void 0===e||e.close()}))},variant:"contained",color:"secondary",endIcon:Object(ja.jsx)(ls.a,{}),children:c?"Share with IMGUR":"Share"})},us=function(){var e=Object(u.useState)(!0),t=Object(I.a)(e,2),a=t[0],i=t[1],n=Object(u.useState)(!1),r=Object(I.a)(n,2),s=r[0],c=r[1],d=Object(u.useState)(L.DISTRIBUTION),l=Object(I.a)(d,2),o=l[0],m=l[1],f=es(o),j=f.expectedDamages,h=f.damageChart,b=f.byLevelDamageChart,O=Object(E.a)((function(e){return e.breakpoints.up("sm")}));return Object(ja.jsxs)(p.a.Fragment,{children:[Object(ja.jsxs)(y.a,{sx:{p:1,my:2},children:[Object(ja.jsxs)(g.a,{container:!0,children:[Object(ja.jsx)(g.a,{item:!0,xs:!0,children:Object(ja.jsx)(T.a,{control:Object(ja.jsx)(C.a,{checked:a,onChange:function(){return i(!a)}}),label:O?"Display By Level Graph":"By Level Graph"})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(os,{byLevel:!0})})]}),Object(ja.jsxs)(A.a,{in:a,children:[Object(ja.jsx)(si,{}),Object(ja.jsx)(cs,{}),Object(ja.jsx)(ts.a,{children:b})]})]}),Object(ja.jsxs)(y.a,{sx:{p:1,my:2},children:[Object(ja.jsxs)(g.a,{container:!0,children:[Object(ja.jsx)(g.a,{item:!0,xs:!0,children:Object(ja.jsx)(T.a,{control:Object(ja.jsx)(C.a,{checked:s,onChange:function(){return c(!s)}}),label:O?"Display Single Level Graph":"Single Level Graph"})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(os,{byLevel:!1})})]}),Object(ja.jsxs)(A.a,{in:s,children:[Object(ja.jsx)(is,{}),Object(ja.jsx)(S.a,{children:"Expected damage: "}),j,Object(ja.jsx)(x.a,{value:o,onChange:function(e){return m(e.target.value)},children:ha(L)}),Object(ja.jsx)(ts.a,{children:h})]})]})]})},ps=a(242),ms=a(247),fs=a(230),js=a(217),hs=a(219),gs=a(218),bs=a(246),Os=a(128),vs=a.n(Os),xs=a(127),Ss=a.n(xs),ys=a(45),As=a.n(ys),Ts=function e(t){var a=t.id,i=t.level,n=t.displayChildren,r=void 0===n||n,s=de((function(e){return Yn(e,a)})),c=s.parentId,d=s.routineId,l=s.name,o=s.condition,u=s.type,m=s.MAP,f=s.apIds,j=de(ar),h=de(ir),g=ce(),b=Object(ja.jsx)(Ss.a,{});if(u===M.SAVE)b=Object(ja.jsx)(vs.a,{});var O=u!==M.SAVE&&0!==Ht[m];return Object(ja.jsxs)(p.a.Fragment,{children:[Object(ja.jsx)(fs.a,{disablePadding:!0,secondaryAction:Object(ja.jsx)(bs.a,{edge:"end","aria-label":"delete",onClick:function(){return g(kn({id:a,parentId:c,routineId:d}))},children:Object(ja.jsx)(As.a,{})}),children:Object(ja.jsxs)(js.a,{selected:j===a||h===a,sx:{pl:4*i+2},onClick:function(){return g(xn(a))},children:[Object(ja.jsx)(gs.a,{children:b}),Object(ja.jsx)(hs.a,{primary:l+" "+(O?Ht[m]:""),secondary:i>0?o:""})]})}),r?f.map((function(t){return Object(ja.jsx)(e,{id:t,level:i+1},t)})):""]})},Cs=a(129),Es=a.n(Cs),Is=function(e){var t=e.title,a=e.label,i=e.value,n=e.onChange,r=e.children,s=e.fullWidth,c=void 0!==s&&s,d=Object(u.useState)(!1),l=Object(I.a)(d,2),o=l[0],p=l[1];return Object(ja.jsx)(as.a,{title:t,open:o,onFocus:function(){console.log("focus1"),p(!1)},children:Object(ja.jsxs)(ae.a,{fullWidth:c,size:"small",onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},onFocus:function(){return p(!1)},sx:{minWidth:100},children:[Object(ja.jsx)(ie.a,{children:a}),Object(ja.jsx)(x.a,{label:a,value:i,onChange:n,children:r})]})})},Rs=function(e){for(var t={},a=0,i=0,n=0,r=1;r<=20;r++)e[n]&&e[n][0]===r&&((a=parseInt(e[n][1]))||(a=0),n++,i+=a),t[r]=i;return t},Ls=function(e,t,a){return e[t]=[a,e[t][1]],e.sort((function(e,t){return e[0]-t[0]})),Rs(e)},ks=function(e){var t=e.length>0?e[e.length-1]:[0,"0"];return e.push([t[0]+1,(0).toString()]),Rs(e)},Ps=function(e,t,a,i,n){var r=function(e){for(var t=0,a=[],i=1;i<=20;i++)t!==e[i]&&(a.push([i,(e[i]-t).toString()]),t=e[i]);return a}(n),s=Object(u.useState)(r),c=Object(I.a)(s,2),d=c[0],l=c[1],o=JSON.stringify(r);Object(u.useEffect)((function(){return l(r)}),[o]);for(var p=[],m=function(n){p.push(Object(ja.jsxs)(g.a,{item:!0,children:[Object(ja.jsx)(Is,{title:"The level where this bonus is added, all later levels will have this bonus added. Please only add 1 bonus per level. Bonuses of 0 are removed.",label:"Level",value:d[n][0],onChange:function(r){return t(a({id:i,changes:Object(xe.a)({},e,Ls(d,n,Number(r.target.value)))}))},children:Oa}),Object(ja.jsx)(re.a,{size:"small",label:"Bonus",sx:{width:"9ch"},value:d[n][1],onChange:function(e){var t=d.slice();t[n]=[t[n][0],e.target.value],l(t),e.target.focus()},onBlur:function(){for(var n=d.slice(),r=0;r<d.length;r++)n[r]=[n[r][0],parseInt(n[r][1]).toString()];l(n),t(a({id:i,changes:Object(xe.a)({},e,Rs(d))}))},inputProps:{step:1,min:-100,max:100,type:"number"}})]},n))},f=0;f<d.length;f++)m(f);return p.push(Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(as.a,{title:"Add a bonus at a specified level.",children:Object(ja.jsx)(bs.a,{color:"primary","aria-label":"Add button",onClick:function(){return t(a({id:i,changes:Object(xe.a)({},e,ks(d))}))},children:Object(ja.jsx)(Es.a,{})})})},"addButton")),p},ws=a(228),Ds=a(220),Ws=function(e){var t=e.parentId,a=e.id,i=de((function(e){return $n(e,a)})),n=i.damageCondition,r=i.damageType,s=i.material,c=i.persistent,d=i.multiplier,l=i.damageWhen,o=i.dieTrend,m=i.dieAdjustments,f=i.diceSize,h=i.fatal,b=i.fatalDie,O=i.damageTrend,v=i.damageAdjustments,S=ce(),y=Object(u.useState)(!1),E=Object(I.a)(y,2),R=E[0],L=E[1],k=Ps("dieAdjustments",S,wn,a,m),P=Ps("damageAdjustments",S,wn,a,v),w=O.map((function(e,t){return Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Adds bonus damage that applies the appropriate amount of damage at appropriate levels. For 'Weapon' and 'Precise Strike' the bonus is the number of dice.",label:"Damage Trend",value:e,onChange:function(e){var i=O.slice();e.target.value===X.NONE?i.splice(t,1):i[t]=e.target.value,S(wn({id:a,changes:{damageTrend:i}}))},children:Xa})},t)}));return Object(ja.jsxs)(p.a.Fragment,{children:[Object(ja.jsx)(Ns,{damageInfo:{damageCondition:n,dieTrend:o,dieAdjustments:m,diceSize:f,fatal:h,fatalDie:b,damageTrend:O,damageAdjustments:v,persistent:c,damageType:r,multiplier:d},onClick:function(){return L(!R)},id:a,parentId:t}),Object(ja.jsx)(A.a,{in:R,children:Object(ja.jsxs)(ts.a,{sx:{mt:1,p:1,mb:1,"&:hover":{bgcolor:"rgb(50,50,50,.05)"}},children:[Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},sx:{mb:1},children:[Object(ja.jsx)(g.a,{item:!0,xs:!0,children:Object(ja.jsx)(Is,{fullWidth:!0,title:"When this damage instance applies. For example: for extra damage on a critical hit, like with deadly or fatal weapons, use 'On Crit'. Don't forget to change when using a save instead of an attack.",value:n,label:"Condition",onChange:function(e){return S(wn({id:a,changes:{damageCondition:e.target.value}}))},children:Va})}),Object(ja.jsx)(g.a,{item:!0,xs:!0,children:Object(ja.jsxs)(ae.a,{size:"small",fullWidth:!0,children:[Object(ja.jsx)(ie.a,{id:"damage-when-input",children:"When Target"}),Object(ja.jsx)(x.a,{labelId:"damage-when-input",id:"damage-when",multiple:!0,value:l,label:"When Target",renderValue:function(e){return e.join(" or ")},onChange:function(e){return S(wn({id:a,changes:{damageWhen:e.target.value}}))},children:ha(ee)})]})})]}),Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"How much the damage is multiplied by. For example: if you want to average the damage of two different attacks, add both and set the multiplier to .5",value:d,label:"Multiplier",onChange:function(e){return S(wn({id:a,changes:{multiplier:Number(e.target.value)}}))},children:Za})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsxs)(ae.a,{size:"small",children:[Object(ja.jsx)(ie.a,{id:"damage-type-input",children:"Type"}),Object(ja.jsx)(x.a,{labelId:"damage-type-input",id:"damage-type",value:r,label:"Type",onChange:function(e){return S(wn({id:a,changes:{damageType:e.target.value}}))},children:$a})]})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsxs)(ae.a,{size:"small",children:[Object(ja.jsx)(ie.a,{id:"damage-material-input",children:"Material"}),Object(ja.jsx)(x.a,{labelId:"damage-material-input",id:"damage-material",value:s,label:"Material",onChange:function(e){return S(wn({id:a,changes:{material:e.target.value}}))},children:qa})]})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(as.a,{title:"If this damage is persistent. Persistent damage is multiplied by the 'Persistent Damage Multiplier' above the By Level graph.",children:Object(ja.jsx)(T.a,{control:Object(ja.jsx)(ws.a,{checked:c,onChange:function(e){return S(wn({id:a,changes:{persistent:e.target.checked}}))}}),label:"Persistent"})})})]}),Object(ja.jsx)(Ds.a,{textAlign:"left",sx:{mt:1,mb:1},children:"Dice"}),Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"When dice are added to the damage. At each level in (), 1 die of the selected size is added to the damage",value:o,label:"Damage Dice",onChange:function(e){return S(wn({id:a,changes:{dieTrend:e.target.value}}))},children:Ha})}),k,Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsxs)(ae.a,{size:"small",children:[Object(ja.jsx)(ie.a,{id:"dice-size-input",children:"Die Size"}),Object(ja.jsx)(x.a,{labelId:"dice-size-input",id:"dice-size",value:f,label:"Die Size",onChange:function(e){return S(wn({id:a,changes:{diceSize:Number(e.target.value)}}))},children:_a})]})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(as.a,{title:"For Fatal. If this damage uses a different die size on a crit. For Fatal you still need to add another die with the 'On Crit' Condition.",children:Object(ja.jsx)(T.a,{control:Object(ja.jsx)(C.a,{checked:h,onChange:function(e){return S(wn({id:a,changes:{fatal:e.target.checked}}))}}),label:"On Crit Die"})})}),h?Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsxs)(ae.a,{size:"small",children:[Object(ja.jsx)(ie.a,{id:"fatal-size-input",children:"Die Size"}),Object(ja.jsx)(x.a,{labelId:"fatal-size-input",id:"fatal-size",value:b,label:"Die Size",onChange:function(e){return S(wn({id:a,changes:{fatalDie:Number(e.target.value)}}))},children:_a})]})}):""]}),Object(ja.jsx)(Ds.a,{textAlign:"left",sx:{mt:1,mb:1},children:"Static Damage"}),Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},children:[w,Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(as.a,{title:"Adds bonus damage that applies the appropriate amount of damage at appropriate levels. For 'Weapon' and 'Precise Strike' the bonus is the number of dice.",children:Object(ja.jsx)(j.a,{onClick:function(){var e=O.slice();e.push(X.NONE),S(wn({id:a,changes:{damageTrend:e}}))},children:"Add damage scaling"})})}),P]})]})})]})},Ns=function(e){var t,a=e.damageInfo,i=a.damageCondition,n=a.dieTrend,r=a.dieAdjustments,s=a.diceSize,c=a.fatal,d=a.fatalDie,l=a.damageTrend,o=a.damageAdjustments,p=a.persistent,m=a.damageType,f=a.multiplier,j=e.onClick,h=e.id,b=e.parentId,O=Object(u.useState)(20),v=Object(I.a)(O,2),x=v[0],y=v[1],A=ce(),T=Kt[n][x]+r[x],C=o[x],E=Object(Se.a)(l);try{for(E.s();!(t=E.n()).done;){var R=t.value;C+=_t[R][x]}}catch(w){E.e(w)}finally{E.f()}var L=C+(s+1)/2*T,k=" ("+T.toString()+"d"+d.toString()+" on Crit)",P=i+": "+T.toString()+"d"+s.toString()+(c?k:"")+(C?" + "+C.toString():"")+" (avg: "+L.toString()+") "+(p?"persistent ":"")+m+(1!==f?" x"+f:"");return Object(ja.jsxs)(g.a,{container:!0,alignItems:"center",columnSpacing:{xs:2},children:[Object(ja.jsx)(g.a,{item:!0,xs:"auto",children:Object(ja.jsx)(bs.a,{color:"primary",size:"small",onClick:function(e){A(Wn({id:h,parentId:b}))},children:Object(ja.jsx)(As.a,{})})}),Object(ja.jsx)(g.a,{item:!0,xs:"auto",sx:{ml:-2},children:Object(ja.jsx)(js.a,{onClick:j,children:Object(ja.jsx)(S.a,{variant:"h6",children:"Damage "})})}),Object(ja.jsx)(g.a,{item:!0,sx:{ml:-2,mt:1,width:100},children:Object(ja.jsx)(ne.a,{size:"small",value:x,min:1,max:20,marks:!0,onChange:function(e,t){return y(t)},valueLabelDisplay:"auto"})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(S.a,{component:"span",children:P+" at level "+x.toString()})})]})},Fs=function(e){var t=e.parentId,a=e.id,i=de((function(e){return Zn(e,a)})),n=i.effectCondition,r=i.effectType,s=i.effectValue,c=i.startLevel,d=i.endLevel,l=i.damageWhen,o=ce(),m=Object(u.useState)(s?s.toString():"0"),f=Object(I.a)(m,2),j=f[0],h=f[1],b=Object.values(Q).includes(r),O=Object(u.useState)([c,d]),v=Object(I.a)(O,2),y=v[0],T=v[1];Object(u.useEffect)((function(){return T([c,d])}),[c,d]);var C=Object(u.useState)(!1),E=Object(I.a)(C,2),R=E[0],L=E[1];return Object(ja.jsxs)(p.a.Fragment,{children:[Object(ja.jsxs)(g.a,{container:!0,columnSpacing:{xs:2},alignItems:"center",children:[Object(ja.jsx)(g.a,{item:!0,xs:"auto",children:Object(ja.jsx)(bs.a,{"aria-label":"delete",color:"primary",onClick:function(e){o(Mn({id:a,parentId:t}))},children:Object(ja.jsx)(As.a,{})})}),Object(ja.jsx)(g.a,{item:!0,xs:"auto",sx:{ml:-2},children:Object(ja.jsx)(js.a,{onClick:function(){return L(!R)},children:Object(ja.jsx)(S.a,{variant:"h6",children:"Effect"})})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsxs)(S.a,{children:[n," ",": ",r," ",b?s:""]})})]}),Object(ja.jsx)(A.a,{in:R,children:Object(ja.jsxs)(ts.a,{sx:{p:1,mb:1,"&:hover":{bgcolor:"rgb(50,50,50,.05)"}},children:[Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},sx:{mb:1},children:[Object(ja.jsx)(g.a,{item:!0,xs:!0,children:Object(ja.jsx)(Is,{fullWidth:!0,title:"When this effect applies, depending on the result of this activities roll. For example the spell 'fear' should have 'On Success' 'Frightened' '1', 'On Failure' 'Frightened' '2' etc.",value:n,label:"Condition",onChange:function(e){return o(Fn({id:a,changes:{effectCondition:e.target.value}}))},children:Sa})}),Object(ja.jsx)(g.a,{item:!0,xs:!0,children:Object(ja.jsxs)(ae.a,{size:"small",fullWidth:!0,children:[Object(ja.jsx)(ie.a,{id:"damage-when-input",children:"When Target"}),Object(ja.jsx)(x.a,{labelId:"damage-when-input",id:"damage-when",multiple:!0,value:l,label:"When Target",renderValue:function(e){return e.join(" or ")},onChange:function(e){return o(Fn({id:a,changes:{damageWhen:e.target.value}}))},children:ha(ee)})]})})]}),Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"The effect that is applied to the target when 'Condition' is met.",value:r,label:"Effect",onChange:function(e){return o(Fn({id:a,changes:{effectType:e.target.value}}))},children:ri})}),b?Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(re.a,{size:"small",label:"Value",sx:{width:"9ch"},value:j,onChange:function(e){h(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(j);Number.isNaN(e)&&(e=0),h(e.toString()),o(Fn({id:a,changes:{effectValue:e}}))},inputProps:{step:1,min:0,max:10,type:"number"}})}):"",Object(ja.jsxs)(g.a,{item:!0,sx:{px:2},children:[Object(ja.jsxs)(S.a,{align:"center",children:["Valid Levels: ",c," to ",d]}),Object(ja.jsx)(ne.a,{size:"small",getAriaLabel:function(){return"Valid levels"},value:y,min:1,max:20,marks:!0,onChange:function(e,t){return T(t)},onBlur:function(){return o(Fn({id:a,changes:{startLevel:y[0],endLevel:y[1]}}))},valueLabelDisplay:"auto",getAriaValueText:function(e){return"".concat(e)}})]})]})]})})]})},zs=function e(t){var a=t.id,i=t.level,n=void 0===i?0:i,r=t.open,s=void 0!==r&&r,c=de((function(e){return Yn(e,a)})),d=c.parentId,l=c.routineId,o=c.condition,m=c.name,f=c.type,h=c.MAP,b=c.damages,O=c.effects,v=c.apIds,x=ce(),T=Object(u.useState)(m),C=Object(I.a)(T,2),E=C[0],R=C[1];Object(u.useEffect)((function(){return R(m)}),[m]);var L=Object(u.useState)(s),k=Object(I.a)(L,2),P=k[0],w=k[1],D=f!==M.SAVE&&0!==Ht[h];return Object(ja.jsxs)(p.a.Fragment,{children:[Object(ja.jsxs)(y.a,{sx:{my:2,p:1,ml:2*n},children:[Object(ja.jsxs)(g.a,{container:!0,columnSpacing:{xs:1,sm:2},alignItems:"center",children:[Object(ja.jsx)(g.a,{item:!0,xs:"auto",children:Object(ja.jsx)(bs.a,{color:"primary",size:"small",onClick:function(e){x(kn({id:a,parentId:d,routineId:l}))},children:Object(ja.jsx)(As.a,{})})}),Object(ja.jsx)(g.a,{item:!0,xs:"auto",children:Object(ja.jsx)(js.a,{onClick:function(){return w(!P)},children:Object(ja.jsx)(S.a,{variant:"h6",children:"Activity"})})}),Object(ja.jsx)(g.a,{item:!0,xs:"auto",children:Object(ja.jsxs)(S.a,{children:[void 0!==d?o+": ":"",m,D?" "+Ht[h]:""]})})]}),Object(ja.jsxs)(A.a,{in:P,mountOnEnter:!0,children:[Object(ja.jsxs)(g.a,{container:!0,spacing:2,sx:{mt:1,px:1},children:[Object(ja.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(ja.jsx)(re.a,{fullWidth:!0,size:"small",label:"Activity Name",placeholder:"Fighter - Strike - d6 agile",value:E,onChange:function(e){R(e.target.value)},onBlur:function(){return x(En({id:a,changes:{name:E}}))}})}),void 0!==d?Object(ja.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(ja.jsx)(Is,{title:'Depending on the roll of the parent activity, should this activity happen. For example: to add another strike only when you hit with the previous one, have the second strike be a child of the first with the condition "Success or Better"',value:o,label:"Condition",onChange:function(e){return x(En({id:a,changes:{condition:e.target.value}}))},children:Sa})}):""]}),Object(ja.jsx)(Ms,{id:a}),b.map((function(e){return Object(ja.jsx)(Ws,{parentId:a,id:e},e)})),Object(ja.jsx)(j.a,{variant:"outlined",size:"small",onClick:function(){return x(Dn({parentId:a}))},children:"Add Damage"}),O.map((function(e){return Object(ja.jsx)(Fs,{parentId:a,id:e},e)})),Object(ja.jsx)(j.a,{variant:"outlined",size:"small",onClick:function(){return x(zn({parentId:a}))},children:"Add Effect"}),Object(ja.jsx)(ps.a,{subheader:Object(ja.jsx)(ms.a,{children:"Child Activities"}),children:v.map((function(e){return Object(ja.jsx)(Ts,{id:e,level:0,displayChildren:!1},e)}))}),Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1},sx:{my:2,p:1},children:[Object(ja.jsx)(g.a,{item:!0,container:!0,xs:6,justifyContent:"center",children:Object(ja.jsx)(j.a,{variant:"contained",onClick:function(){window.location.href="#routine-activity-list",x(Ln({parentId:a}))},children:"Continue Attack"})}),Object(ja.jsx)(g.a,{item:!0,container:!0,xs:6,justifyContent:"center",children:Object(ja.jsx)(j.a,{variant:"outlined",onClick:function(){window.location.href="#routine-activity-list",x(Sn({parentId:a}))},children:"New Child Activity"})})]})]})]}),v.map((function(t){return Object(ja.jsx)(e,{id:t,level:n+1},t)}))]})},Ms=function(e){var t=e.id,a=de((function(e){return Yn(e,t)})),i=a.rollType,n=a.type,r=a.profTrend,s=a.statTrend,c=a.itemTrend,d=a.bonusAdjustments,l=a.MAP,o=a.targetType,m=ce(),f=Object(u.useState)(!1),j=Object(I.a)(f,2),h=j[0],b=j[1],O=n===M.SAVE,v=Ps("bonusAdjustments",m,En,t,d);return Object(ja.jsxs)(p.a.Fragment,{children:[Object(ja.jsx)(Bs,{rollInfo:{isSave:O,profTrend:r,statTrend:s,itemTrend:c,MAP:l,bonusAdjustments:d},onClick:function(){return b(!h)}}),Object(ja.jsx)(A.a,{in:h,children:Object(ja.jsx)(ts.a,{sx:{p:1,mb:1,"&:hover":{bgcolor:"rgb(50,50,50,.05)"}},children:Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},sx:{},children:[Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Advantage is rolling twice and taking the higher roll, disadvantage is taking the lower",label:"Roll Type",value:i,onChange:function(e){m(En({id:t,changes:{rollType:e.target.value}}))},children:Aa})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsxs)(ae.a,{size:"small",children:[Object(ja.jsx)(ie.a,{id:"activity-type-input",children:"Activity Type"}),Object(ja.jsx)(x.a,{labelId:"activity-type-input",label:"Activity Type",value:n,onChange:function(e){m(En({id:t,changes:{type:e.target.value}}))},children:Ca})]})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"An increase in proficiency (+2) is applied at each level in ()",label:"Proficiency",value:r,onChange:function(e){m(En({id:t,changes:{profTrend:e.target.value}}))},children:Ia})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Bonuses from the listed ability score are applied at the appropriate levels. An ability score starts at the first value and is increased at levels 5, 10, 15, and 20 or until it reaches the second value listed. 'apex' means a bonus from an apex item is added to that score at the level in ()",label:"Ability Score",value:s,onChange:function(e){m(En({id:t,changes:{statTrend:e.target.value}}))},children:La})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Item bonuses are applied at the levels in ().",label:"Item Bonus",value:c,onChange:function(e){m(En({id:t,changes:{itemTrend:e.target.value}}))},children:Pa})}),v,O?"":Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"The multiple attack penalty that is applied to this attack.",label:"MAP",value:l,onChange:function(e){m(En({id:t,changes:{MAP:e.target.value}}))},children:Da})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"What defense is targeted",label:"Target Defense",value:o,onChange:function(e){m(En({id:t,changes:{targetType:e.target.value}}))},children:Na})})]})})})]})},Bs=function(e){var t=e.rollInfo,a=t.isSave,i=t.MAP,n=t.profTrend,r=t.statTrend,s=t.itemTrend,c=t.bonusAdjustments,d=e.onClick,l=Object(u.useState)(20),o=Object(I.a)(l,2),p=o[0],m=o[1],f=0;return f=a?10:Ht[i],f+=Gt[n][p],f+=Vt[r][p],f+=Ut[s][p],f+=c[p],Object(ja.jsxs)(g.a,{container:!0,columnSpacing:{xs:2},alignItems:"center",children:[Object(ja.jsx)(g.a,{item:!0,xs:"auto",children:Object(ja.jsx)(js.a,{onClick:d,children:Object(ja.jsx)(S.a,{variant:"h6",children:"Roll "})})}),Object(ja.jsx)(g.a,{item:!0,sx:{ml:-2,mt:1,width:100},children:Object(ja.jsx)(ne.a,{size:"small",value:p,min:1,max:20,marks:!0,onChange:function(e,t){return m(t)},valueLabelDisplay:"auto"})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(S.a,{children:(a?"DC ":" +")+f.toString()+" at level "+p.toString()})})]})};var Gs=function(e){var t=e.routineId,a=de((function(e){return Un(e,t)})),i=a.name,n=a.startLevel,r=a.endLevel,s=a.description,c=a.apIds,d=de(ar),l=de(nr),o=ce(),m=Object(u.useState)(i),f=Object(I.a)(m,2),h=f[0],b=f[1],O=Object(u.useState)(s),v=Object(I.a)(O,2),x=v[0],A=v[1],T=Object(u.useState)([n,r]),C=Object(I.a)(T,2),E=C[0],R=C[1];Object(u.useEffect)((function(){return b(i)}),[i]),Object(u.useEffect)((function(){return A(s)}),[s]),Object(u.useEffect)((function(){return R([n,r])}),[n,r]);var L=void 0===d&&!l;return Object(ja.jsxs)(p.a.Fragment,{children:[Object(ja.jsxs)(y.a,{sx:{my:2,p:1},children:[Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},sx:{p:1},children:[Object(ja.jsx)(g.a,{item:!0,xs:12,sm:8,md:12,lg:8,children:Object(ja.jsx)(re.a,{fullWidth:!0,label:"Routine Name",placeholder:"Fighter d8 2 strikes",value:h,onChange:function(e){b(e.target.value)},onBlur:function(){return o(An({id:t,changes:{name:h}}))}})}),Object(ja.jsxs)(g.a,{item:!0,xs:12,sm:4,md:12,lg:4,children:[Object(ja.jsxs)(S.a,{align:"center",children:["Valid Levels: ",n," to ",r]}),Object(ja.jsx)(ts.a,{sx:{px:2},children:Object(ja.jsx)(ne.a,{getAriaLabel:function(){return"Valid levels"},value:E,min:1,max:20,marks:!0,onChange:function(e,t){return R(t)},onBlur:function(){return o(An({id:t,changes:{startLevel:E[0],endLevel:E[1]}}))},valueLabelDisplay:"auto",getAriaValueText:function(e){return"".concat(e)}})})]}),Object(ja.jsx)(g.a,{item:!0,xs:12,children:Object(ja.jsx)(re.a,{fullWidth:!0,multiline:!0,label:"Routine Description",placeholder:"A Fighter making two strikes with a longsword. Critical Specialization at 5. 1d6 runes at 8 and 15.",value:x,onChange:function(e){A(e.target.value)},onBlur:function(){return o(An({id:t,changes:{description:x}}))}})})]}),Object(ja.jsx)(ps.a,{id:"routine-activity-list",subheader:Object(ja.jsx)(ms.a,{children:"Activities"}),children:c.map((function(e){return Object(ja.jsx)(Ts,{id:e,level:0},e)}))}),Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1},sx:{my:2,p:1},children:[Object(ja.jsx)(g.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(ja.jsx)(j.a,{size:"small",fullWidth:!0,variant:"contained",onClick:function(){return o(Sn({routineId:t}))},children:"Create New Activity"})}),Object(ja.jsx)(g.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(ja.jsx)(j.a,{size:"small",fullWidth:!0,variant:"outlined",onClick:function(){return o(In({routineId:t}))},children:"New Empty Activity"})}),Object(ja.jsx)(g.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(ja.jsx)(j.a,{size:"small",fullWidth:!0,variant:"outlined",onClick:function(){return o(In({routineId:t,activityType:M.STRIKE}))},children:"New Martial Strike"})}),Object(ja.jsx)(g.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(ja.jsx)(j.a,{size:"small",fullWidth:!0,variant:"outlined",onClick:function(){return o(In({routineId:t,activityType:M.SAVE}))},children:"New Caster Save"})})]})]}),L?c.map((function(e){return Object(ja.jsx)(zs,{id:e,level:0},e)})):""]})},Vs=a(233),Us=function(){var e=de(Kn),t=de(tr),a=ce(),i=[],n=[];return e.forEach((function(e){i.push(Object(ja.jsx)(fa.a,{value:e.id,children:e.name},e.id)),n.push(Object(ja.jsx)(ts.a,{component:"li",sx:{margin:.5},children:Object(ja.jsx)(Vs.a,{label:e.name,variant:e.display?"filled":"outlined",size:"small",color:"secondary",onClick:function(){a(An({id:e.id,changes:{display:!e.display}})),a(vn(e.id))},onDelete:function(){return a(Cn(e.id))}})},e.id))})),Object(ja.jsxs)(p.a.Fragment,{children:[Object(ja.jsx)(y.a,{variant:"outlined",sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",listStyle:"none",p:.5,my:2},component:"ul",children:n}),Object(ja.jsx)(y.a,{sx:{my:2,p:1},children:Object(ja.jsxs)(g.a,{container:!0,spacing:1,children:[void 0!==t?Object(ja.jsx)(g.a,{item:!0,xs:12,sm:6,md:12,lg:6,children:Object(ja.jsxs)(ae.a,{fullWidth:!0,children:[Object(ja.jsx)(ie.a,{id:"select-routine-label",children:"Select Routine"}),Object(ja.jsx)(x.a,{labelId:"select-routine-label",id:"select-routine",value:t,label:"Select Routine",onChange:function(e){return a(vn(e.target.value))},children:i})]})}):"",Object(ja.jsx)(g.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(ja.jsx)(j.a,{variant:"contained",onClick:function(){a(Tn({copy:!1}))},children:"Create New Routine"})}),Object(ja.jsx)(g.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(ja.jsx)(j.a,{variant:"outlined",onClick:function(){return a(Tn({copy:!0}))},children:"Copy Selected Routine"})})]})})]})},Hs=function(){var e=de(rr),t=de(cr),a=Object(u.useState)(""),i=Object(I.a)(a,2),n=i[0],r=i[1],s=ce();Object(u.useEffect)((function(){t===w?r("Import failed"):t===P&&r("Import successful")}),[t]);return Object(ja.jsx)(y.a,{sx:{p:1},children:Object(ja.jsxs)(g.a,{container:!0,children:[Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(j.a,{onClick:function(){s(Bn(n))},children:"Import"})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(j.a,{onClick:function(){r(JSON.stringify(e))},children:"Export"})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(j.a,{onClick:function(){void 0!==navigator.clipboard&&(navigator.clipboard.writeText(n),r("Copied"))},children:"Copy"})}),Object(ja.jsx)(g.a,{item:!0,xs:12,children:Object(ja.jsx)(re.a,{fullWidth:!0,multiline:!0,maxRows:5,label:"Routine code",placeholder:"Enter routine code here to import.",value:n,onChange:function(e){return r(e.target.value)}})})]})})},Ks=(a(168),a(221)),_s=a(234),Ys=a(226),Xs=a(212);function Js(e){e.routineId,e.parentId;var t=Object(u.useState)(di.Strike),a=Object(I.a)(t,2),i=a[0],n=a[1];return Object(ja.jsxs)(y.a,{sx:{my:2,p:1},children:[Object(ja.jsxs)(ae.a,{fullWidth:!0,sx:{my:2,p:1},children:[Object(ja.jsx)(ie.a,{children:"Activity Type"}),Object(ja.jsx)(x.a,{value:i,label:"Activity Type",onChange:function(e){n(e.target.value)},children:ha(di)})]}),di.Strike===i?Object(ja.jsx)($s,{}):di.Skill===i?Object(ja.jsx)(Qs,{}):di.Cantrip===i?Object(ja.jsx)(Zs,{}):di.Spell===i?Object(ja.jsx)(ec,{}):""]})}function $s(){var e=Object(u.useState)({cClass:oi[6],classOption:"",activity:"Strike",spell:xi[0],attackScore:G.AS18a,damageScore:G.AS18a,cantripScore:G.AS16pp,numPrevStrikes:0,numStrikes:1,twf:!1,isStrikeSecondaryWeapon:[!1],previousHits:0,weapon1:{dieSize:8,traits:Object.fromEntries(fi.map((function(e){return[e,!1]}))),deadlySize:8,fatalSize:10,critSpec:!1,critSpecLevel:5,critSpecType:ji[0],runes:Y.RUNE2,numPrevStrikes:0},weapon2:{dieSize:8,traits:Object.fromEntries(fi.map((function(e){return[e,!1]}))),deadlySize:8,fatalSize:10,critSpec:!1,critSpecLevel:5,critSpecType:ji[0],runes:Y.RUNE2,numPrevStrikes:0}}),t=Object(I.a)(e,2),a=t[0],i=t[1],n=ce();return Object(ja.jsxs)(p.a.Fragment,{children:[Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},sx:{py:2},id:"create-new-activity",children:[Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Which class's proficiency and weapon specialization to use.",value:a.cClass,label:"Class",onChange:function(e){!function(e){var t=Object(R.a)({},a);t.cClass=e,mi[e].length>0?t.classOption=mi[e][0]:t.classOption="",i(t)}(e.target.value)},children:ha(oi)})}),mi[a.cClass].length>0?Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Which abilities are applied",value:a.classOption,label:"Class Option",onChange:function(e){i(Object(R.a)(Object(R.a)({},a),{},{classOption:e.target.value}))},children:ha(mi[a.cClass])})}):"",Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Which activity to use",value:a.activity,label:"Activity",onChange:function(e){var t=Object(R.a)({},a);t.activity=e.target.value,"Double Slice"===e.target.value&&(t.numStrikes=2,t.isStrikeSecondaryWeapon=[!1,!0]),i(t)},children:ha(pi)})}),"Spell Strike"===a.activity?Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Which spell to add to the strike",value:a.spell,label:"Spell",onChange:function(e){i(Object(R.a)(Object(R.a)({},a),{},{spell:e.target.value}))},children:ha(xi)})}):"",Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"What ability score bonus progression to add to the attack roll.",value:a.attackScore,label:"Attack Abilitiy Score",onChange:function(e){i(Object(R.a)(Object(R.a)({},a),{},{attackScore:e.target.value}))},children:ha(G)})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"What ability score bonus progression to add to the damage roll.\r Not applied to ranged attacks.",value:a.damageScore,label:"Damage Abilitiy Score",onChange:function(e){i(Object(R.a)(Object(R.a)({},a),{},{damageScore:e.target.value}))},children:ha(G)})}),"Inventor"===a.cClass&&("Overdrive Success"===a.classOption||"Overdrive Critical"===a.classOption)||"Spell Strike"===a.activity?Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"What ability score bonus progression to add to the damage roll.",value:a.cantripScore,label:"Mental Abilitiy Score",onChange:function(e){i(Object(R.a)(Object(R.a)({},a),{},{cantripScore:e.target.value}))},children:ha(G)})}):""]}),Object(ja.jsx)(qs,{weapon:a.weapon1,setWeapon:function(e){return i(Object(R.a)(Object(R.a)({},a),{},{weapon1:e}))}}),Object(ja.jsx)(T.a,{control:Object(ja.jsx)(C.a,{checked:a.twf,onChange:function(e){return i(Object(R.a)(Object(R.a)({},a),{},{twf:e.target.checked}))}}),label:"Use Two Weapons",sx:{py:2}}),a.twf?Object(ja.jsx)(qs,{weapon:a.weapon2,setWeapon:function(e){return i(Object(R.a)(Object(R.a)({},a),{},{weapon2:e}))}}):"",Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},sx:{py:2},children:[Object(ja.jsx)(g.a,{item:!0,xs:"auto",children:Object(ja.jsx)(Is,{title:"Select the number of previous attacks.",value:a.numPrevStrikes,label:"Previous Attacks",onChange:function(e){i(Object(R.a)(Object(R.a)({},a),{},{numPrevStrikes:Number(e.target.value)}))},children:ha([0,1,2])})}),"Double Slice"!==a.activity?Object(ja.jsx)(g.a,{item:!0,xs:"auto",children:Object(ja.jsx)(Is,{title:"Select the number of attacks to make with the selected options.",value:a.numStrikes,label:"Number of Strikes",onChange:function(e){for(var t=Number(e.target.value),n=Object(R.a)({},a),r=[],s=0;s<t;s++)s<a.numStrikes?r.push(a.isStrikeSecondaryWeapon[s]):r.push(!1);n.numStrikes=t,n.isStrikeSecondaryWeapon=r,i(n)},children:ha([1,2,3,4,5,6])})}):"","Ranger"===a.cClass&&"Precision Edge"===a.classOption?Object(ja.jsx)(g.a,{item:!0,xs:"auto",children:Object(ja.jsx)(Is,{title:"Select the number of previous hits.",value:a.previousHits,label:"Previous Hits",onChange:function(e){i(Object(R.a)(Object(R.a)({},a),{},{previousHits:Number(e.target.value)}))},children:ha([0,1,2,3])})}):"",Object(ja.jsx)(g.a,{item:!0,xs:"auto",children:Object(ja.jsx)(j.a,{variant:"contained",onClick:function(){return n(Rn({strikeInfo:a}))},children:"Create New Activity"})})]}),a.twf&&"Double Slice"!==a.activity?Object(ja.jsx)(Ks.a,{spacing:{xs:1,sm:2},children:a.isStrikeSecondaryWeapon.map((function(e,t){return Object(ja.jsxs)(ae.a,{component:"fieldset",children:[Object(ja.jsxs)(Xs.a,{component:"legend",children:["Strike ",t+1]}),Object(ja.jsxs)(_s.a,{row:!0,"aria-label":"strike-"+(t+1),value:e?2:1,onClick:function(e){var n=Object(R.a)({},a),r=a.isStrikeSecondaryWeapon.slice();r[t]="2"===e.target.value,n.isStrikeSecondaryWeapon=r,i(n)},children:[Object(ja.jsx)(T.a,{value:1,control:Object(ja.jsx)(Ys.a,{}),label:"Weapon 1"}),Object(ja.jsx)(T.a,{value:2,control:Object(ja.jsx)(Ys.a,{}),label:"Weapon 2"})]})]},t)}))}):""]})}function qs(e){var t=e.weapon,a=e.setWeapon;return Object(ja.jsxs)(g.a,{container:!0,columnSpacing:{xs:1,sm:2},sx:{py:2},alignItems:"center",children:[Object(ja.jsx)(g.a,{item:!0,xs:"auto",children:Object(ja.jsx)(S.a,{variant:"h6",children:"Weapon"})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Weapon damage die",value:t.dieSize,label:"Damage Die",onChange:function(e){a(Object(R.a)(Object(R.a)({},t),{},{dieSize:Number(e.target.value)}))},children:_a})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(T.a,{control:Object(ja.jsx)(C.a,{checked:t.critSpec,onChange:function(e){return a(Object(R.a)(Object(R.a)({},t),{},{critSpec:e.target.checked}))}}),label:"Critical Specialization"})}),t.critSpec?Object(ja.jsxs)(g.a,{item:!0,children:[Object(ja.jsxs)(S.a,{align:"center",id:"crit-spec-level",children:["At Level ",t.critSpecLevel]}),Object(ja.jsx)(ne.a,{"aria-labelledby":"crit-spec-level",value:t.critSpecLevel,min:1,max:20,marks:!0,onChange:function(e,i){return a(Object(R.a)(Object(R.a)({},t),{},{critSpecLevel:Number(i)}))}})]}):"",t.critSpec?Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"What weapon group's effect to apply on a critical hit.",value:t.critSpecType,label:"Weapon Group",onChange:function(e){return a(Object(R.a)(Object(R.a)({},t),{},{critSpecType:e.target.value}))},children:ha(ji)})}):"",Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(y.a,{variant:"outlined",sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",listStyle:"none",p:.5,my:1},component:"ul",children:fi.map((function(e,i){return Object(ja.jsx)(b.a,{component:"li",sx:{margin:.5},children:Object(ja.jsx)(Vs.a,{label:e,size:"small",color:"secondary",variant:t.traits[e]?"filled":"outlined",onClick:function(){var i=Object(R.a)(Object(R.a)({},t.traits),{},Object(xe.a)({},e,!t.traits[e]));a(Object(R.a)(Object(R.a)({},t),{},{traits:i}))}})},e)}))})}),t.traits.deadly?Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Deadly damage die.",value:t.deadlySize,label:"Deadly Die",onChange:function(e){a(Object(R.a)(Object(R.a)({},t),{},{deadlySize:Number(e.target.value)}))},children:_a})}):"",t.traits.fatal?Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Fatal damage die.",value:t.fatalSize,label:"Fatal Die",onChange:function(e){a(Object(R.a)(Object(R.a)({},t),{},{fatalSize:Number(e.target.value)}))},children:_a})}):"",Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"What levels the damages from property runes such as 'flaming' are applied.",value:t.runes,label:"Damage Rune Levels",onChange:function(e){a(Object(R.a)(Object(R.a)({},t),{},{runes:e.target.value}))},children:ha(li)})})]})}function Qs(){var e=Object(u.useState)(B.MAXSKILL),t=Object(I.a)(e,2),a=t[0],i=t[1],n=Object(u.useState)(G.AS18a),r=Object(I.a)(n,2),s=r[0],c=r[1],d=Object(u.useState)(V.SKILL),l=Object(I.a)(d,2),o=l[0],p=l[1],m=Object(u.useState)(bi[0]),f=Object(I.a)(m,2),h=f[0],b=f[1],O={proficiency:a,abilityScore:s,itemBonus:o,skillActivity:h},v=ce();return Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Select which proficiency progression to apply.",label:"Proficiency",value:a,onChange:function(e){i(e.target.value)},children:ha(hi)})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Select which ability score progression to apply.",label:"Ability Score",value:s,onChange:function(e){c(e.target.value)},children:ha(G)})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Select which item bonus progression to apply.",label:"Item Bonus",value:o,onChange:function(e){p(e.target.value)},children:ha(V)})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Select which skill activity to use.",label:"Activity",value:h,onChange:function(e){b(e.target.value)},children:ha(bi)})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(j.a,{variant:"contained",onClick:function(){return v(Rn({skillInfo:O}))},children:"Create New Activity"})})]})}function Zs(){var e=Object(u.useState)(B.CASTERSPELL),t=Object(I.a)(e,2),a=t[0],i=t[1],n=Object(u.useState)(G.AS18a),r=Object(I.a)(n,2),s=r[0],c=r[1],d=Object(u.useState)(Oi[0]),l=Object(I.a)(d,2),o=l[0],p=l[1],m={proficiency:a,abilityScore:s,cantrip:o},f=ce();return Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Select which proficiency progression to apply.",label:"Proficiency",value:a,onChange:function(e){i(e.target.value)},children:ha(gi)})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Select which ability score progression to apply.",label:"Ability Score",value:s,onChange:function(e){c(e.target.value)},children:ha(G)})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Select which cantrip to use.",label:"Cantrip",value:o,onChange:function(e){p(e.target.value)},children:ha(Oi)})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(j.a,{variant:"contained",onClick:function(){return f(Rn({cantripInfo:m}))},children:"Create New Activity"})})]})}function ec(){var e=Object(u.useState)(B.CASTERSPELL),t=Object(I.a)(e,2),a=t[0],i=t[1],n=Object(u.useState)(G.AS18a),r=Object(I.a)(n,2),s=r[0],c=r[1],d=Object(u.useState)(vi[0]),l=Object(I.a)(d,2),o=l[0],p=l[1],m={proficiency:a,abilityScore:s,spell:o},f=ce();return Object(ja.jsxs)(g.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Select which proficiency progression to apply.",label:"Proficiency",value:a,onChange:function(e){i(e.target.value)},children:ha(gi)})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Select which ability score progression to apply.",label:"Ability Score",value:s,onChange:function(e){c(e.target.value)},children:ha(G)})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(Is,{title:"Select which spell to use.",label:"Spell",value:o,onChange:function(e){p(e.target.value)},children:ha(vi)})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(j.a,{variant:"contained",onClick:function(){return f(Rn({spellInfo:m}))},children:"Create New Activity"})})]})}v.a.initialize("G-JR2YK097BG");for(var tc=function(){var e=de(tr),t=de(ar),a=de(nr);return Object(u.useEffect)((function(){a&&(window.location.href="#create-new-activity",v.a.send("create new activity"))}),[a]),Object(ja.jsxs)(p.a.Fragment,{children:[Object(ja.jsx)(Us,{}),void 0!==e?Object(ja.jsx)(Gs,{routineId:e}):"",void 0!==t?Object(ja.jsx)(zs,{id:t,open:!0}):a?Object(ja.jsx)(Js,{}):"",Object(ja.jsx)(Hs,{}),Object(ja.jsxs)(g.a,{container:!0,sx:{mb:2,mt:0},justifyContent:"space-evenly",alignItems:"center",spacing:2,children:[Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(ac,{})}),Object(ja.jsx)(g.a,{item:!0,children:Object(ja.jsx)(ic,{})})]})]})},ac=function(){return Object(ja.jsx)(b.a,{sx:{height:60,width:217},onClick:function(){return v.a.send("click buy me a coffee")},children:Object(ja.jsx)("a",{href:"https://www.buymeacoffee.com/bahalbach",target:"_blank",rel:"noreferrer",children:Object(ja.jsx)("img",{src:"https://cdn.buymeacoffee.com/buttons/v2/default-red.png",alt:"Buy Me A Coffee",width:"217px",height:"60px"})})})},ic=function(){return Object(ja.jsx)(j.a,{sx:{height:60,width:217},variant:"contained",color:"primary",href:"mailto:bahalbach@gmail.com",children:"Contact Me"})},nc=function(){var e=Object(E.a)((function(e){return e.breakpoints.up("md")}));return v.a.send("pageview"),Object(ja.jsx)(p.a.Fragment,{children:Object(ja.jsx)(h.a,{maxWidth:"xl",children:e?Object(ja.jsxs)(g.a,{container:!0,columnSpacing:{xs:2,md:2,lg:3,xl:4},sx:{height:"100vh"},children:[Object(ja.jsx)(g.a,{id:"container",item:!0,xs:12,md:6,sx:{height:"100%",overflow:"auto"},children:Object(ja.jsx)(b.a,{sx:{},children:Object(ja.jsx)(tc,{})})}),Object(ja.jsx)(g.a,{item:!0,xs:12,md:6,sx:{mt:0,height:1,overflow:"hidden auto"},children:Object(ja.jsx)(us,{})})]}):Object(ja.jsxs)(p.a.Fragment,{children:[Object(ja.jsx)(us,{}),Object(ja.jsx)(tc,{})]})})})},rc=['{"id":104,"name":"Barbarian (giant rage) - 2 Strike - d12 Sword","display":false,"apIds":[{"name":"Barbarian (giant rage) - Strike - d12 Sword","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Martial Weapon (5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":12,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton","Giant Rage"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1023},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1024}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1005}],"apIds":[{"name":"Barbarian (giant rage) - Strike - d12 Sword","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Martial Weapon (5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"-5 (1x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":12,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton","Giant Rage"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1021},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1022}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1004}],"apIds":[],"id":1009,"parentId":1008}],"id":1008,"routineId":104}],"levelDiff":0,"description":"2 Strike with class Barbarian (giant rage) after 0 previous strikes. Weapon is d12 Sword","startLevel":1,"endLevel":20}','{"id":101,"name":"Fighter - 2 Strike - d12 Sword","display":false,"apIds":[{"name":"Fighter - Strike - d12 Sword","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":12,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1003},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1004}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1002}],"apIds":[{"name":"Fighter - Strike - d12 Sword","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"-5 (1x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":12,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1001},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1002}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1001}],"apIds":[],"id":1002,"parentId":1001}],"id":1001,"routineId":101}],"levelDiff":0,"description":"2 Strike with class Fighter () after 0 previous strikes. Weapon is d12 Sword","startLevel":1,"endLevel":20}','{"id":102,"name":"Fighter - 1 Power Attack - d12 Sword","display":false,"apIds":[{"name":"Fighter - Power Attack - d12 Sword","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":2,"11":2,"12":2,"13":2,"14":2,"15":2,"16":2,"17":2,"18":3,"19":3,"20":3},"diceSize":12,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1005},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1006}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1003}],"apIds":[],"id":1003,"routineId":102}],"levelDiff":0,"description":"1 Power Attack with class Fighter () after 0 previous strikes. Weapon is d12 Sword","startLevel":1,"endLevel":20}','{"id":103,"name":"Fighter - Double Slice - d6 fatal d10 Pick | d4 agile fatal d8 Pick","display":false,"apIds":[{"name":"Fighter - Double Slice - d6 fatal d10 Pick","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[],"effects":[],"apIds":[{"name":"Fighter - Double Slice - d4 agile fatal d8 Pick","type":"Strike","condition":"On Crit","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":2,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":10,"fatal":true,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1007},{"damageCondition":"Always","damageType":"fire","material":"none","persistent":false,"multiplier":2,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1008},{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"None","dieAdjustments":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"diceSize":10,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":4,"6":4,"7":4,"8":4,"9":4,"10":4,"11":4,"12":6,"13":6,"14":6,"15":6,"16":6,"17":6,"18":6,"19":8,"20":8},"id":1009},{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":4,"fatal":true,"fatalDie":8,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1010},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1011},{"damageCondition":"On Crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"None","dieAdjustments":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"diceSize":8,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":4,"6":4,"7":4,"8":4,"9":4,"10":4,"11":4,"12":6,"13":6,"14":6,"15":6,"16":6,"17":6,"18":6,"19":8,"20":8},"id":1012}],"effects":[],"apIds":[],"id":1005,"parentId":1004},{"name":"Fighter - Double Slice - d4 agile fatal d8 Pick","type":"Strike","condition":"On Success","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1013},{"damageCondition":"Always","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1014},{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":4,"fatal":true,"fatalDie":8,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1015},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1016},{"damageCondition":"On Crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"None","dieAdjustments":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"diceSize":8,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":4,"6":4,"7":4,"8":4,"9":4,"10":4,"11":4,"12":6,"13":6,"14":6,"15":6,"16":6,"17":6,"18":6,"19":8,"20":8},"id":1017}],"effects":[],"apIds":[],"id":1006,"parentId":1004},{"name":"Fighter - Double Slice - d4 agile fatal d8 Pick","type":"Strike","condition":"Failure or worse","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":4,"fatal":true,"fatalDie":8,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1018},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1019},{"damageCondition":"On Crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"None","dieAdjustments":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"diceSize":8,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":4,"6":4,"7":4,"8":4,"9":4,"10":4,"11":4,"12":6,"13":6,"14":6,"15":6,"16":6,"17":6,"18":6,"19":8,"20":8},"id":1020}],"effects":[],"apIds":[],"id":1007,"parentId":1004}],"id":1004,"routineId":103}],"levelDiff":0,"description":"2 Double Slice with class Fighter () after 0 previous strikes. Weapon is d6 fatal d10 Pick. Weapon two is d4 agile fatal d8 Pick","startLevel":1,"endLevel":20}','{"id":105,"name":"Rogue (Sneak Attack) - Double Slice - d6 deadly d8 Sword | d6 agile Sword","display":true,"apIds":[{"name":"Rogue (Sneak Attack) - Double Slice - d6 deadly d8 Sword","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Martial Weapon (5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1009}],"apIds":[{"name":"Rogue (Sneak Attack) - Double Slice - d6 agile Sword","type":"Strike","condition":"On Crit","rollType":"Normal","profTrend":"Martial Weapon (5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":2,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1025},{"damageCondition":"Always","damageType":"fire","material":"none","persistent":false,"multiplier":2,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1026},{"damageCondition":"Always","damageType":"precision","material":"none","persistent":false,"multiplier":2,"damageWhen":["Flatfooted"],"dieTrend":"Sneak Attack (1, 5, 11, 17)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1027},{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Deadly (1, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":8,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1028},{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1029},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1030}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1006}],"apIds":[],"id":1011,"parentId":1010},{"name":"Rogue (Sneak Attack) - Double Slice - d6 agile Sword","type":"Strike","condition":"On Success","rollType":"Normal","profTrend":"Martial Weapon (5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1031},{"damageCondition":"Always","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1032},{"damageCondition":"Failure or worse","damageType":"precision","material":"none","persistent":false,"multiplier":1,"damageWhen":["Flatfooted"],"dieTrend":"Sneak Attack (1, 5, 11, 17)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1033},{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1034},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1035},{"damageCondition":"x1 hit, x2 crit","damageType":"precision","material":"none","persistent":false,"multiplier":1,"damageWhen":["Flatfooted"],"dieTrend":"Sneak Attack (1, 5, 11, 17)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1036}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1007}],"apIds":[],"id":1012,"parentId":1010},{"name":"Rogue (Sneak Attack) - Double Slice - d6 agile Sword","type":"Strike","condition":"Failure or worse","rollType":"Normal","profTrend":"Martial Weapon (5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1037},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1038},{"damageCondition":"x1 hit, x2 crit","damageType":"precision","material":"none","persistent":false,"multiplier":1,"damageWhen":["Flatfooted"],"dieTrend":"Sneak Attack (1, 5, 11, 17)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1039}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1008}],"apIds":[],"id":1013,"parentId":1010}],"id":1010,"routineId":105}],"levelDiff":0,"description":"2 Double Slice with class Rogue (Sneak Attack) after 0 previous strikes. Weapon is d6 deadly d8 Sword. Weapon two is d6 agile Sword","startLevel":1,"endLevel":20}','{"id":2,"name":"Fireball","display":false,"apIds":[{"id":2,"condition":"Always","rollType":"Normal","type":"Save","profTrend":"Caster Spell (7, 15, 19)","statTrend":"18 to 24 apex(17)","itemTrend":"None","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"Ref","targetInfoId":0,"damages":[{"id":7,"damageCondition":"Basic save","dieTrend":"2 x Spell Level","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"damageType":"fire","material":"none","persistent":false,"multiplier":1}],"effects":[],"apIds":[]}],"levelDiff":0,"description":"A 2d6 / spell level basic reflex save.","startLevel":1,"endLevel":20}'],sc={},cc={},dc={},lc=1;lc<=20;lc++)sc[lc]=0,dc[lc]=1,cc[lc]=0,lc>=5&&(cc[lc]=4),lc>=12&&(cc[lc]=6),lc>=19&&(cc[lc]=8);var oc=Object(le.a)({reducer:{routines:Gn,weaknesses:ge,targets:la,sharing:Jr}});oc.dispatch(Pn({id:0,damageCondition:_.STRIKE,dieTrend:Y.WEAPON,dieAdjustments:Object(R.a)({},sc),diceSize:8,fatal:!1,fatalDie:10,damageTrend:[X.AS18a,X.MARTIALWEAPONSPEC],damageAdjustments:Object(R.a)({},sc),damageType:J.S,material:$.NONE,persistent:!1,multiplier:1,damageWhen:[ee.Always]})),oc.dispatch(Pn({id:1,damageCondition:_.STRIKE,dieTrend:Y.RUNE2,dieAdjustments:Object(R.a)({},sc),diceSize:6,fatal:!1,fatalDie:10,damageTrend:[],damageAdjustments:Object(R.a)({},sc),damageType:J.FIRE,material:$.NONE,persistent:!1,multiplier:1,damageWhen:[ee.Always]})),oc.dispatch(Pn({id:2,damageCondition:_.BASIC,dieTrend:Y.SPELLLEVEL2,dieAdjustments:Object(R.a)({},sc),diceSize:6,fatal:!1,fatalDie:10,damageTrend:[],damageAdjustments:Object(R.a)({},sc),damageType:J.FIRE,material:$.NONE,persistent:!1,multiplier:1,damageWhen:[ee.Always]})),oc.dispatch(Nn({id:0,effectCondition:F.CRIT,effectType:Z.FLATFOOT,effectValue:1,startLevel:5,endLevel:20,damageWhen:[ee.Always]})),oc.dispatch(ca({id:0,name:"AC: High, Saves: Moderate",levelDiff:0,persistentMultiplier:2,ACTrend:W.HIGH,FortTrend:N.MODERATE,RefTrend:N.MODERATE,WillTrend:N.MODERATE,PerTrend:N.MODERATE,flatfooted:!1,percentSelectedRoutine:!1,weaknesses:[],graphType:L.DISTRIBUTION,routineLevel:1,targetLevel:1,overrideAC:16,overrideFort:7,overrideRef:7,overrideWill:7,overridePer:7})),oc.dispatch(yn({id:0,name:"Baseline",display:!0,apIds:[],levelDiff:0,description:"No damage. Just so graphs display 0 with autoscalling.",startLevel:1,endLevel:20}));var uc,pc=Object(Se.a)(rc);try{for(pc.s();!(uc=pc.n()).done;){var mc=uc.value;oc.dispatch(Bn(mc))}}catch(Oc){pc.e(Oc)}finally{pc.f()}oc.dispatch(Tn({}));var fc=oc;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var jc=a(117),hc=a(54),gc=Object(jc.a)({palette:{primary:{main:hc.a[900]},background:{default:"#222222"}}}),bc=a(235);f.a.render(Object(ja.jsx)(p.a.StrictMode,{children:Object(ja.jsx)(se.a,{store:fc,children:Object(ja.jsxs)(bc.a,{theme:gc,children:[Object(ja.jsx)(o.a,{}),Object(ja.jsx)(nc,{})]})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[169,1,2]]]);
//# sourceMappingURL=main.751c1928.chunk.js.map