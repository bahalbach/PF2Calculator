(this.webpackJsonppf2=this.webpackJsonppf2||[]).push([[0],{157:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);for(var i,n,r,c,s,l,d,o,u=a(223),p=a(1),f=a.n(p),j=a(35),m=a.n(j),h=(a(157),a(232)),b=a(215),g=a(237),O=a(231),v=a(20),x=a.n(v),S=a(225),y=a(97),A=a(241),C=a(245),T=a(243),E=a(244),I=a(217),R=a(9),P=a(4),w={DISTRIBUTION:"Damage Distribution",PMDEFENSE:"+/- AC/Save Bonus",PMRES:"+/- Resistance/Weakness"},L="Importing",k="Successful",W="Failure",D="Message Seen",N={LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},F={TERRIBLE:"Terrible",LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},z={LOW:"Low",MODERATE:"Moderate",HIGH:"High"},M={ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},B={NORMAL:"Normal",ADVANTAGE:"Advantage",DISADVANTAGE:"Disadvantage"},G={STRIKE:"Strike",SAVE:"Save",SKILL:"Skill Check",SPELLATTACK:"Spell Attack"},V={UNTRAINED:"Untrained",TRAINED:"Trained Proficiency",FIGHTERWEAPON:"Fighter Weapon (1, 5, 13)",MARTIALWEAPON:"Martial Weapon (5, 13)",CASTERWEAPON:"Caster Weapon (11)",ALCHWEAPON:"Alchemist Weapon (7)",CASTERSPELL:"Caster Spell (7, 15, 19)",CLASSDC1:"Class/Spell (9, 17)",CLASSDC2:"Class/Spell (11, 19)",MCSPELL:"MC Spell (12, 18)",MAXSKILL:"Max skill (3, 7, 15)",ANIMALCOMPANION:"Animal/Construct Companion (14)",SAVAGEACATHLETICS:"Construct/Savage AC Atheletics (8, 14)"},H={AS10:"10",AS18a:"18 to 24 apex(17)",AS18:"18 to 22",AS16a:"16 to 22 apex(17)",AS16pp:"16 to 20",AS16p:"16 to 18",AS14pp:"14 to 20",AS14p:"14 to 18",AS12p:"12 to 18",AS10p:"10 to 18",NIMBLEAC:"Dex 16 Nimble AC",SAVAGEAC:"Str 16 Construct/Savage AC"},U={NONE:"None",WEAPON:"Weapon (2, 10, 16)",SKILL:"Skill (3, 9, 17)",BOMB:"Bomb (3, 11, 17)",MUTAGEN:"Mutagen (1, 3, 11, 17)"},_={N1:"0 (0x-5)",N2:"-5 (1x-5)",N3:"-10 (2x-5)",A1:"0 (0x-4)",A2:"-4 (1x-4)",A3:"-8 (2x-4)",R1:"0 (0x-3)",R2:"-3 (1x-3)",R3:"-6 (2x-3)",RA1:"0 (0x-2)",RA2:"-2 (1x-2)",RA3:"-4 (2x-2)",RAA1:"0 (0x-1)",RAA2:"-1 (1x-1)",RAA3:"-2 (2x-1)"},K={"0 (0x-5)":"-5 (1x-5)","-5 (1x-5)":"-10 (2x-5)","-10 (2x-5)":"-10 (2x-5)","0 (0x-4)":"-4 (1x-4)","-4 (1x-4)":"-8 (2x-4)","-8 (2x-4)":"-8 (2x-4)","0 (0x-3)":"-3 (1x-3)","-3 (1x-3)":"-6 (2x-3)","-6 (2x-3)":"-6 (2x-3)","0 (0x-2)":"-2 (1x-2)","-2 (1x-2)":"-4 (2x-2)","-4 (2x-2)":"-4 (2x-2)","0 (0x-1)":"-1 (1x-1)","-1 (1x-1)":"-2 (2x-1)","-2 (2x-1)":"-2 (2x-1)"},Y={AC:"AC",FORT:"Fort",REF:"Ref",WILL:"Will",PER:"Perception",selfDC:"Self Standard DC",targetDC:"Target Standard DC"},J={STRIKE:"x1 hit, x2 crit",BASIC:"Basic save",ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},X={NONE:"None",WEAPON:"Weapon (1, 4, 12, 19)",SPELLLEVEL1:"1 x Spell Level",SPELLLEVEL2:"2 x Spell Level",LEVEL:"Level",HALFLEVEL:"1/2 Level",RUNE:"Runes (8, 15)",RUNE2:"Runes (8, 10, 16)",DEADLY:"Deadly (1, 12, 19)",BOMB:"Bomb (1, 3, 11, 17)",SNEAK:"Sneak Attack (1, 5, 11, 17)",STRATEGIC:"Strategic Strike (1, 5, 9, 13, 17)",PRECISE:"Precise Strike (1, 1, 5, 9, 13, 17)",PRECISIONEDGE:"Precision Edge 1(1, 11, 19)",PRECISIONEDGE2:"Precision Edge 2(17, 19)",PRECISIONEDGE3:"Precision Edge 3(19)",KISTRIKE:"Ki Strike (1, 9, 17)",ANIMALCOMPANION:"Animal/Construct Companion (1, 4, 14)"},$=Object(P.a)(Object(P.a)({NONE:"None",FIGHTERWEAPONSPEC:"Fighter Weapon Specialization",MARTIALWEAPONSPEC:"Martial Weapon Specializaton",CASTERWEAPONSPEC:"Caster Weapon Specializaton"},H),{},{WEAPON:"Weapon (1, 4, 12, 19)",SPELLLEVEL1:"1 x Spell Level",LEVEL:"Level",HALFLEVEL:"1/2 Level",BOMB:"Bomb Splash (1, 3, 11, 17)",BOMBPLUS:"Max Int Calculated/Expanded Splash",RAGE:"Rage",ANIMALRAGE:"Animal Rage",DRAGONRAGE:"Dragon Rage",GIANTRAGE:"Giant Rage",SPIRITRAGE:"Spirit Rage",PRECISE:"Precise Strike (1, 1, 5, 9, 13, 17)",ARCANECASCADE:"Arcane Cascade",OVERDRIVES:"Overdrive Success",OVERDRIVEC:"Overdrive Critical",IMPLEMENT:"Implement's Empowerment",CONSTRUCT:"Construct Companion Damage",NIMBLE:"Str 14 Nimble AC Damage",SAVAGE:"Str 16 Savage AC Damage"}),q={NONE:"None",B:"bludgeoning",P:"piercing",S:"slashing",BLEED:"bleed",FIRE:"fire",COLD:"cold",MENTAL:"mental",FORCE:"force",PRECISION:"precision"},Q={NONE:"none",COLD_IRON:"cold iron",SILVER:"silver",ADAMANTINE:"adamantine"},Z={FLATFOOT:"Flatfooted",PRONE:"Prone",GRAPPLED:"Grappled",RESTRAINED:"Restrained"},ee={FRIGHTENED:"Frightened",CLUMSY:"Clumsy",BONUSC1:"Cicumstance Bonus to next attack",BONUSSA:"Status Bonus to all attacks"},te=Object(P.a)(Object(P.a)({},Z),ee),ae=Object(P.a)(Object(P.a)({Always:"Always"},Z),ee),ie={4:4,6:6,8:8,10:10,12:12},ne=a(239),re=a(240),ce=a(227),se=a(229),le=a(77),de=function(){return Object(le.b)()},oe=le.c,ue=a(25),pe=Object(ue.b)(),fe=0,je=Object(ue.c)({name:"weaknesses",initialState:pe.getInitialState(),reducers:{weaknessAdded:pe.addOne,weaknessUpdated:pe.updateOne,weaknessCreated:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.type,r=a.value;pe.addOne(e,{id:i,type:n,value:r})},prepare:function(e){var t=e.parentId,a=e.type,i=e.value;return{payload:{id:++fe,parentId:t,type:a,value:i}}}},weaknessRemoved:function(e,t){pe.removeOne(e,t.payload.id)}}}),me=je.actions,he=me.weaknessRemoved,be=me.weaknessCreated,ge=(me.weaknessAdded,me.weaknessUpdated),Oe=je.reducer,ve=pe.getSelectors((function(e){return e.weaknesses})),xe=ve.selectById,Se=(ve.selectIds,ve.selectEntities),ye=(ve.selectAll,ve.selectTotal,a(3)),Ae=a(15),Ce=function(e){return Te(e.concat(e),!0)},Te=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=0,i={},n=1;n<=20;n++){var r,c=Object(Ae.a)(e);try{for(c.s();!(r=c.n()).done;){var s=r.value;s===n&&(a+=1)}}catch(l){c.e(l)}finally{c.f()}i[n]=t?a+n:a}return i},Ee=function(e){for(var t=0,a={},i=1;i<=20;i++){var n,r=Object(Ae.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;c[0]===i&&(t+=c[1])}}catch(s){r.e(s)}finally{r.f()}a[i]=t}return a},Ie={},Re={},Pe={},we={},Le={},ke={},We={},De={},Ne={},Fe={},ze={},Me={},Be={},Ge={},Ve={},He={},Ue={},_e={},Ke={},Ye={},Je={},Xe={},$e={},qe={},Qe={},Ze={},et=1;et<=20;et++)Qe[et]=Math.floor((et+1)/2),Ze[et]=2*Math.floor((et+1)/2);for(var tt={},at={},it={},nt={},rt={},ct={},st={},lt={},dt={},ot={},ut={},pt={},ft={},jt={},mt={},ht={},bt={},gt={},Ot={},vt={},xt={},St={},yt={},At={},Ct={},Tt={},Et={},It={},Rt={},Pt={},wt={},Lt={},kt={},Wt={},Dt={},Nt={},Ft={},zt={},Mt={},Bt={},Gt={},Vt={},Ht={},Ut=1;Ut<=20;Ut++)Ie[Ut]=0,Re[Ut]=Ut,Pe[Ut]=Math.floor(Ut/2),we[Ut]=Ut+2,Le[Ut]=Ut+2,ke[Ut]=4,We[Ut]=3,De[Ut]=3,Ne[Ut]=3,Fe[Ut]=2,ze[Ut]=2,Me[Ut]=1,Be[Ut]=0,Ge[Ut]=3,Ve[Ut]=3,He[Ut]=2,Ue[Ut]=2,_e[Ut]=2,Ke[Ut]=2,kt[Ut]=Ut+2,Wt[Ut]=Ut+2,Dt[Ut]=Ut+2,Nt[Ut]=Ut+2,Ft[Ut]=Ut+2,Ye[Ut]=0,Je[Ut]=0,Xe[Ut]=0,$e[Ut]=1,qe[Ut]=1,tt[Ut]=0,at[Ut]=0,it[Ut]=1,nt[Ut]=1,rt[Ut]=1,ct[Ut]=2,st[Ut]=1,ut[Ut]=1,lt[Ut]=1,dt[Ut]=0,ot[Ut]=0,pt[Ut]=0,ft[Ut]=0,jt[Ut]=3,mt[Ut]=2,ht[Ut]=3,bt[Ut]=1,gt[Ut]=2,Ot[Ut]=2,vt[Ut]=4,xt[Ut]=6,St[Ut]=3,yt[Ut]=1,At[Ut]=2,Ct[Ut]=4,Tt[Ut]=2,Ut>=2&&(Ye[Ut]=1),Ut>=3&&(Le[Ut]=Ut+4,Je[Ut]=1,Xe[Ut]=1,$e[Ut]=2,bt[Ut]=2,At[Ut]=3,Ct[Ut]=5,Tt[Ut]=4),Ut>=4&&(qe[Ut]=2,ut[Ut]=2,jt[Ut]=4,mt[Ut]=3,ht[Ut]=4,bt[Ut]=4,Ge[Ut]=4,Ve[Ut]=4),Ut>=5&&(He[Ut]=4,We[Ut]=4,De[Ut]=4,Ne[Ut]=4,Fe[Ut]=3,ze[Ut]=3,Me[Ut]=2,Be[Ut]=1,nt[Ut]=2,rt[Ut]=2,ct[Ut]=3),Ut>=7&&(Ue[Ut]=4,pt[Ut]=1,Ke[Ut]=4,Le[Ut]=Ut+6,gt[Ut]=6,Ot[Ut]=5,vt[Ut]=8,xt[Ut]=10,St[Ut]=7,yt[Ut]=2,At[Ut]=4,Ct[Ut]=6),Ut>=8&&(Ft[Ut]=Ut+4,tt[Ut]=1,at[Ut]=1,jt[Ut]=8,mt[Ut]=6,ht[Ut]=9,Ge[Ut]=6,Ve[Ut]=6),Ut>=9&&(Je[Ut]=2,kt[Ut]=Ut+4,rt[Ut]=3,ct[Ut]=4,st[Ut]=2),Ut>=10&&(Ye[Ut]=2,ke[Ut]=5,Fe[Ut]=4,ze[Ut]=4,Me[Ut]=3,Be[Ut]=2,at[Ut]=2,bt[Ut]=7,Ct[Ut]=7),Ut>=11&&(_e[Ut]=4,Wt[Ut]=Ut+4,Xe[Ut]=2,$e[Ut]=3,bt[Ut]=8,nt[Ut]=3,Tt[Ut]=6,lt[Ut]=2),Ut>=12&&(qe[Ut]=3,Dt[Ut]=Ut+4,it[Ut]=2),Ut>=13&&(He[Ut]=6,ft[Ut]=1,rt[Ut]=4,ct[Ut]=5),Ut>=14&&(Nt[Ut]=Ut+4,Ft[Ut]=Ut+6,ut[Ut]=3,jt[Ut]=11,mt[Ut]=8,ht[Ut]=13,Ge[Ut]=8,Ve[Ut]=7),Ut>=15&&(pt[Ut]=2,We[Ut]=5,De[Ut]=5,Me[Ut]=4,Be[Ut]=3,Ke[Ut]=6,Le[Ut]=Ut+8,tt[Ut]=2,gt[Ut]=12,Ot[Ut]=12,vt[Ut]=16,xt[Ut]=18,St[Ut]=13,yt[Ut]=1,At[Ut]=5,Ct[Ut]=8),Ut>=16&&(Ye[Ut]=3,at[Ut]=3),Ut>=17&&(We[Ut]=6,ke[Ut]=6,Je[Ut]=3,kt[Ut]=Ut+6,Xe[Ut]=3,$e[Ut]=4,bt[Ut]=10,nt[Ut]=4,rt[Ut]=5,ct[Ut]=6,st[Ut]=3,dt[Ut]=1,At[Ut]=6,Ct[Ut]=9),Ut>=18&&(Dt[Ut]=Ut+6),Ut>=19&&(qe[Ut]=4,Ke[Ut]=8,Wt[Ut]=Ut+6,it[Ut]=3,Tt[Ut]=8,lt[Ut]=3,dt[Ut]=2,ot[Ut]=1),Ut>=20&&(ke[Ut]=7,Be[Ut]=4,bt[Ut]=11,Ct[Ut]=10),Et[Ut]=Ut+He[Ut]+2,It[Ut]=Ut+He[Ut],Rt[Ut]=Ut+_e[Ut],Pt[Ut]=Ut+Ue[Ut],wt[Ut]=Ut+Ke[Ut],Lt[Ut]=10+Ut+Ke[Ut]+ke[Ut],zt[Ut]=ke[Ut]+pt[Ut]*(He[Ut]+2)/2,Mt[Ut]=pt[Ut]*(He[Ut]+2)/2,Bt[Ut]=ke[Ut]+pt[Ut]*He[Ut]/2,Gt[Ut]=pt[Ut]*He[Ut]/2,Vt[Ut]=Ne[Ut]+ft[Ut]*_e[Ut]/2,Ht[Ut]=ft[Ut]*_e[Ut]/2;var _t=(i={},Object(ye.a)(i,V.UNTRAINED,Te([])),Object(ye.a)(i,V.TRAINED,Ce([1])),Object(ye.a)(i,V.FIGHTERWEAPON,Ce([1,1,5,13])),Object(ye.a)(i,V.MARTIALWEAPON,Ce([1,5,13])),Object(ye.a)(i,V.CASTERWEAPON,Ce([1,11])),Object(ye.a)(i,V.ALCHWEAPON,Ce([1,7])),Object(ye.a)(i,V.CASTERSPELL,Ce([1,7,15,19])),Object(ye.a)(i,V.CLASSDC1,Ce([1,9,17])),Object(ye.a)(i,V.CLASSDC2,Ce([1,11,19])),Object(ye.a)(i,V.MCSPELL,Ce([1,12,18])),Object(ye.a)(i,V.MAXSKILL,Ce([1,3,7,15])),Object(ye.a)(i,V.ANIMALCOMPANION,Ce([1,14])),Object(ye.a)(i,V.SAVAGEACATHLETICS,Ce([1,4,14])),i),Kt=(n={},Object(ye.a)(n,H.AS10,Te([])),Object(ye.a)(n,H.AS18,Te([1,1,1,1,10,20])),Object(ye.a)(n,H.AS18a,Te([1,1,1,1,10,17,20])),Object(ye.a)(n,H.AS16a,Te([1,1,1,5,15,17])),Object(ye.a)(n,H.AS16pp,Te([1,1,1,5,15])),Object(ye.a)(n,H.AS16p,Te([1,1,1,5])),Object(ye.a)(n,H.AS14pp,Te([1,1,5,10,20])),Object(ye.a)(n,H.AS14p,Te([1,1,5,10])),Object(ye.a)(n,H.AS12p,Te([1,5,10,15])),Object(ye.a)(n,H.AS10p,Te([5,10,15,20])),Object(ye.a)(n,H.NIMBLEAC,Ge),Object(ye.a)(n,H.SAVAGEAC,Ve),n),Yt=(r={},Object(ye.a)(r,U.NONE,Te([])),Object(ye.a)(r,U.WEAPON,Ye),Object(ye.a)(r,U.SKILL,Je),Object(ye.a)(r,U.BOMB,Xe),Object(ye.a)(r,U.MUTAGEN,$e),r),Jt={"0 (0x-5)":0,"-5 (1x-5)":-5,"-10 (2x-5)":-10,"0 (0x-4)":0,"-4 (1x-4)":-4,"-8 (2x-4)":-8,"0 (0x-3)":0,"-3 (1x-3)":-3,"-6 (2x-3)":-6,"0 (0x-2)":0,"-2 (1x-2)":-2,"-4 (2x-2)":-4,"0 (0x-1)":0,"-1 (1x-1)":-1,"-2 (2x-1)":-2},Xt=(c={},Object(ye.a)(c,X.NONE,Ie),Object(ye.a)(c,X.WEAPON,qe),Object(ye.a)(c,X.SPELLLEVEL1,Qe),Object(ye.a)(c,X.SPELLLEVEL2,Ze),Object(ye.a)(c,X.LEVEL,Re),Object(ye.a)(c,X.HALFLEVEL,Pe),Object(ye.a)(c,X.RUNE,tt),Object(ye.a)(c,X.RUNE2,at),Object(ye.a)(c,X.DEADLY,it),Object(ye.a)(c,X.BOMB,$e),Object(ye.a)(c,X.SNEAK,nt),Object(ye.a)(c,X.STRATEGIC,rt),Object(ye.a)(c,X.PRECISE,ct),Object(ye.a)(c,X.PRECISIONEDGE,lt),Object(ye.a)(c,X.PRECISIONEDGE2,dt),Object(ye.a)(c,X.PRECISIONEDGE3,ot),Object(ye.a)(c,X.KISTRIKE,st),Object(ye.a)(c,X.ANIMALCOMPANION,ut),c),$t=Object(P.a)(Object(P.a)({},Kt),{},(s={},Object(ye.a)(s,$.NONE,Ie),Object(ye.a)(s,$.FIGHTERWEAPONSPEC,Mt),Object(ye.a)(s,$.MARTIALWEAPONSPEC,Gt),Object(ye.a)(s,$.CASTERWEAPONSPEC,Ht),Object(ye.a)(s,$.WEAPON,qe),Object(ye.a)(s,$.SPELLLEVEL1,Qe),Object(ye.a)(s,$.LEVEL,Re),Object(ye.a)(s,$.HALFLEVEL,Pe),Object(ye.a)(s,$.BOMB,$e),Object(ye.a)(s,$.BOMBPLUS,bt),Object(ye.a)(s,$.RAGE,gt),Object(ye.a)(s,$.ANIMALRAGE,Ot),Object(ye.a)(s,$.DRAGONRAGE,vt),Object(ye.a)(s,$.GIANTRAGE,xt),Object(ye.a)(s,$.SPIRITRAGE,St),Object(ye.a)(s,$.PRECISE,ct),Object(ye.a)(s,$.ARCANECASCADE,yt),Object(ye.a)(s,$.OVERDRIVES,At),Object(ye.a)(s,$.OVERDRIVEC,Ct),Object(ye.a)(s,$.IMPLEMENT,Tt),Object(ye.a)(s,$.CONSTRUCT,jt),Object(ye.a)(s,$.NIMBLE,mt),Object(ye.a)(s,$.SAVAGE,ht),s)),qt={"-1":18,0:19,1:19,2:21,3:22,4:24,5:25,6:27,7:28,8:30,9:31,10:33,11:34,12:36,13:37,14:39,15:40,16:42,17:43,18:45,19:46,20:48,21:49,22:51,23:52,24:54},Qt=Object(P.a)({},qt);for(var Zt in Qt)Qt[Zt]-=3;var ea=Object(P.a)({},qt);for(var ta in ea)ea[ta]-=4;var aa=Object(P.a)({},qt);for(var ia in aa)aa[ia]-=6;var na,ra=(l={},Object(ye.a)(l,N.EXTREME,qt),Object(ye.a)(l,N.HIGH,Qt),Object(ye.a)(l,N.MODERATE,ea),Object(ye.a)(l,N.LOW,aa),l),ca=(d={},Object(ye.a)(d,F.EXTREME,{"-1":9,0:10,1:11,2:12,3:14,4:15,5:17,6:18,7:20,8:21,9:23,10:24,11:26,12:27,13:29,14:30,15:32,16:33,17:35,18:36,19:38,20:39,21:41,22:43,23:44,24:46}),Object(ye.a)(d,F.HIGH,{"-1":8,0:9,1:10,2:11,3:12,4:14,5:15,6:17,7:18,8:19,9:21,10:22,11:24,12:25,13:26,14:28,15:29,16:30,17:32,18:33,19:35,20:36,21:38,22:39,23:40,24:42}),Object(ye.a)(d,F.MODERATE,{"-1":5,0:6,1:7,2:8,3:9,4:11,5:12,6:14,7:15,8:16,9:18,10:19,11:21,12:22,13:23,14:25,15:26,16:28,17:29,18:30,19:32,20:33,21:35,22:36,23:37,24:38}),Object(ye.a)(d,F.LOW,{"-1":2,0:3,1:4,2:5,3:6,4:8,5:9,6:11,7:12,8:13,9:15,10:16,11:18,12:19,13:20,14:22,15:23,16:25,17:26,18:27,19:29,20:30,21:32,22:33,23:34,24:36}),Object(ye.a)(d,F.TERRIBLE,{"-1":0,0:1,1:2,2:3,3:4,4:6,5:7,6:8,7:10,8:11,9:12,10:14,11:15,12:16,13:18,14:19,15:20,16:22,17:23,18:24,19:26,20:27,21:28,22:30,23:31,24:32}),d),sa={"-1":12,0:14,1:15,2:16,3:18,4:19,5:20,6:22,7:23,8:24,9:26,10:27,11:28,12:30,13:31,14:32,15:34,16:35,17:36,18:38,19:39,20:40,21:42,22:44,23:46,24:48,25:50},la=(o={},Object(ye.a)(o,z.HIGH,{"-1":9,0:18,1:25,2:38,3:56,4:75,5:94,6:119,7:144,8:169,9:194,10:219,11:244,12:269,13:294,14:319,15:344,16:369,17:394,18:419,19:444,20:469,21:499,22:538,23:575,24:625}),Object(ye.a)(o,z.MODERATE,{"-1":7,0:15,1:20,2:30,3:45,4:60,5:75,6:95,7:115,8:135,9:155,10:175,11:195,12:215,13:235,14:255,15:275,16:295,17:315,18:335,19:355,20:375,21:400,22:430,23:460,24:500}),Object(ye.a)(o,z.LOW,{"-1":5,0:12,1:15,2:23,3:34,4:45,5:56,6:71,7:86,8:101,9:116,10:131,11:146,12:161,13:176,14:191,15:206,16:221,17:236,18:251,19:266,20:281,21:300,22:323,23:345,24:375}),o),da=Object(ue.b)(),oa=Object(ue.c)({name:"targets",initialState:da.getInitialState(),reducers:{targetAdded:da.addOne,targetUpdated:function(e,t){da.updateOne(e,t.payload),"targetLevel"in t.payload.changes&&ga(e,t.payload.changes.targetLevel)}},extraReducers:function(e){e.addCase(be,(function(e,t){var a=t.payload,i=a.parentId,n=a.id;e.entities[i].weaknesses.push(n)})).addCase(he,(function(e,t){var a=t.payload,i=a.parentId,n=a.id;e.entities[i].weaknesses=e.entities[i].weaknesses.filter((function(e){return e!==n}))}))}}),ua=oa.actions,pa=ua.targetAdded,fa=ua.targetUpdated,ja=oa.reducer,ma=da.getSelectors((function(e){return e.targets})),ha=ma.selectById,ba=(ma.selectIds,ma.selectEntities),ga=(ma.selectAll,ma.selectTotal,function(e,t){e.entities[0].overrideAC=ra[e.entities[0].ACTrend][t],e.entities[0].overrideFort=ca[e.entities[0].FortTrend][t],e.entities[0].overrideRef=ca[e.entities[0].RefTrend][t],e.entities[0].overrideWill=ca[e.entities[0].WillTrend][t],e.entities[0].overridePer=ca[e.entities[0].PerTrend][t],e.entities[0].currentHP=Math.round(e.entities[0].currentHP*la[e.entities[0].HPTrend][t]/e.entities[0].overrideHP),e.entities[0].overrideHP=la[e.entities[0].HPTrend][t]}),Oa=a(238),va=a(0),xa=function(e){var t,a=[];for(t in e)a.push(Object(va.jsx)(Oa.a,{value:e[t],children:e[t]},t));return a},Sa=[];for(na in w)Sa.push(Object(va.jsx)("option",{children:w[na]},na));for(var ya,Aa=[],Ca=1;Ca<=20;Ca++)Aa.push(Object(va.jsx)(Oa.a,{value:Ca,children:Ca},Ca));var Ta,Ea=[];for(ya in M)Ea.push(Object(va.jsx)(Oa.a,{value:M[ya],children:M[ya]},ya));var Ia,Ra=[];for(Ta in B)Ra.push(Object(va.jsx)(Oa.a,{value:B[Ta],children:B[Ta]},Ta));var Pa,wa=[];for(Ia in G)wa.push(Object(va.jsx)(Oa.a,{value:G[Ia],children:G[Ia]},Ia));var La,ka=[];for(Pa in V)ka.push(Object(va.jsx)(Oa.a,{value:V[Pa],children:V[Pa]},Pa));var Wa,Da=[];for(La in H)Da.push(Object(va.jsx)(Oa.a,{value:H[La],children:H[La]},La));var Na,Fa=[];for(Wa in U)Fa.push(Object(va.jsx)(Oa.a,{value:U[Wa],children:U[Wa]},Wa));var za,Ma=[];for(Na in _)Ma.push(Object(va.jsx)(Oa.a,{value:_[Na],children:_[Na]},Na));var Ba,Ga=[];for(za in Y)Ga.push(Object(va.jsx)(Oa.a,{value:Y[za],children:Y[za]},za));var Va,Ha=[];for(Ba in N)Ha.push(Object(va.jsx)(Oa.a,{value:N[Ba],children:N[Ba]},Ba));var Ua,_a=[];for(Va in F)_a.push(Object(va.jsx)(Oa.a,{value:F[Va],children:F[Va]},Va));var Ka,Ya=[];for(Ua in J)Ya.push(Object(va.jsx)(Oa.a,{value:J[Ua],children:J[Ua]},Ua));var Ja,Xa=[];for(Ka in X)Xa.push(Object(va.jsx)(Oa.a,{value:X[Ka],children:X[Ka]},Ka));var $a,qa=[];for(Ja in ie)qa.push(Object(va.jsx)(Oa.a,{value:Ja,children:"d"+Ja},Ja));var Qa,Za=[];for($a in $)Za.push(Object(va.jsx)(Oa.a,{value:$[$a],children:$[$a]},$a));var ei,ti=[];for(Qa in q)ti.push(Object(va.jsx)(Oa.a,{value:q[Qa],children:q[Qa]},Qa));var ai=[];for(ei in Q)ai.push(Object(va.jsx)(Oa.a,{value:Q[ei],children:Q[ei]},ei));var ii=[];for(Qa in q)ii.push(Object(va.jsx)(Oa.a,{value:q[Qa],children:q[Qa]},Qa));for(ei in Q)Q[ei]!==Q.NONE&&ii.push(Object(va.jsx)(Oa.a,{value:Q[ei],children:Q[ei]},ei));for(var ni=[],ri=0,ci=[.5,1,2];ri<ci.length;ri++){var si=ci[ri];ni.push(Object(va.jsx)(Oa.a,{value:si,children:si},si))}var li,di,oi=[];for(li in Z)oi.push(Object(va.jsx)(Oa.a,{value:Z[li],children:Z[li]},li));for(di in ee)oi.push(Object(va.jsx)(Oa.a,{value:ee[di],children:ee[di]},di));function ui(){var e=oe((function(e){return ha(e,0)})),t=e.name,a=e.levelDiff,i=e.ACTrend,n=e.FortTrend,r=e.RefTrend,c=e.WillTrend,s=e.PerTrend,l=e.HPTrend,d=e.percentHP,o=Object(p.useState)(t),u=Object(R.a)(o,2),f=u[0],j=u[1],m=de();return Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},sx:{my:0,py:1},children:[Object(va.jsx)(O.a,{item:!0,xs:12,sm:6,md:12,lg:6,children:Object(va.jsx)(se.a,{fullWidth:!0,label:"Graph Name",placeholder:"Enter the name that will display on the graph",value:f,onChange:function(e){j(e.target.value)},onBlur:function(){return m(fa({id:0,changes:{name:f}}))}})}),Object(va.jsxs)(O.a,{item:!0,xs:6,sm:3,md:6,lg:3,children:[Object(va.jsxs)(y.a,{children:["Level Diff: ",a]}),Object(va.jsx)(ce.a,{value:a,step:1,min:-5,max:5,marks:!0,onChange:function(e,t){m(fa({id:0,changes:{levelDiff:t}}))}})]}),Object(va.jsx)(O.a,{item:!0,xs:6,sm:3,md:6,lg:3,children:Object(va.jsxs)(ne.a,{fullWidth:!0,children:[Object(va.jsx)(re.a,{id:"AC-input",children:"AC"}),Object(va.jsx)(S.a,{labelId:"AC-input",id:"AC",value:i,label:"AC",onChange:function(e){return m(fa({id:0,changes:{ACTrend:e.target.value}}))},children:Ha})]})}),Object(va.jsx)(O.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(va.jsxs)(ne.a,{fullWidth:!0,children:[Object(va.jsx)(re.a,{id:"Fort-input",children:"Fort"}),Object(va.jsx)(S.a,{labelId:"Fort-input",id:"Fort",value:n,label:"Fort",onChange:function(e){return m(fa({id:0,changes:{FortTrend:e.target.value}}))},children:_a})]})}),Object(va.jsx)(O.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(va.jsxs)(ne.a,{fullWidth:!0,children:[Object(va.jsx)(re.a,{id:"Ref-input",children:"Reflex"}),Object(va.jsx)(S.a,{labelId:"Ref-input",id:"Ref",value:r,label:"Reflex",onChange:function(e){return m(fa({id:0,changes:{RefTrend:e.target.value}}))},children:_a})]})}),Object(va.jsx)(O.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(va.jsxs)(ne.a,{fullWidth:!0,children:[Object(va.jsx)(re.a,{id:"Will-input",children:"Will"}),Object(va.jsx)(S.a,{labelId:"Will-input",id:"Will",value:c,label:"Will",onChange:function(e){return m(fa({id:0,changes:{WillTrend:e.target.value}}))},children:_a})]})}),Object(va.jsx)(O.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(va.jsxs)(ne.a,{fullWidth:!0,children:[Object(va.jsx)(re.a,{id:"Per-input",children:"Perception"}),Object(va.jsx)(S.a,{labelId:"Per-input",id:"Per",value:s,label:"Perception",onChange:function(e){return m(fa({id:0,changes:{PerTrend:e.target.value}}))},children:_a})]})}),Object(va.jsx)(O.a,{item:!0,xs:6,children:Object(va.jsxs)(ne.a,{fullWidth:!0,children:[Object(va.jsx)(re.a,{id:"HP-input",children:"Hit Points"}),Object(va.jsx)(S.a,{labelId:"HP-input",id:"HP",value:l,label:"Hit Points",onChange:function(e){return m(fa({id:0,changes:{HPTrend:e.target.value}}))},children:xa(z)})]})}),Object(va.jsxs)(O.a,{item:!0,xs:6,container:!0,justifyContent:"center",children:[Object(va.jsxs)(y.a,{id:"percent-HP",children:["Remaining HP: ",d,"%"]}),Object(va.jsx)(b.a,{sx:{px:2,width:1},children:Object(va.jsx)(ce.a,{"aria-labelledby":"percent-HP",valueLabelDisplay:"auto",value:d,min:0,max:100,step:1,onChange:function(e,t){var a=Number(t);m(fa({id:0,changes:{percentHP:a}}))}})})]})]})}var pi=a(16),fi={Strike:"Strike",Skill:"Skill Action",Cantrip:"Cantrip",Spell:"Spell"},ji=[X.NONE,X.RUNE,X.RUNE2],mi=["Alchemist","Barbarian","Bard","Champion","Cleric","Druid","Fighter","Gunslinger","Inventor","Investigator","Magus","Monk","Oracle","Ranger","Rogue","Sorcerer","Summoner","Swashbuckler","Witch","Wizard"],hi=[],bi=["Strike","Double Slice","Power Attack","Spell Strike","Ki Strike"],gi={Alchemist:["Normal","Bomb Strike","Bomb w/ feats","Perpetual Bomb","Perpetual Bomb w/ feats"],Barbarian:["Normal","animal rage","dragon rage","rage","giant rage","spirit rage"],Bard:hi,Champion:hi,Cleric:["Cloistered","Warpriest"],Druid:hi,Fighter:hi,Gunslinger:hi,Inventor:["Normal","Overdrive Success","Overdrive Critical"],Investigator:["Normal","Strategic Strike"],Magus:["Normal","Arcane Cascade"],Monk:hi,Oracle:hi,Ranger:["Normal","Flurry Edge","Precision Edge"],Rogue:["Normal","Sneak Attack"],Sorcerer:hi,Summoner:hi,Swashbuckler:["Normal","Precise Strike","Precise Finisher"],Witch:hi,Wizard:hi},Oi=["agile","backswing","deadly","fatal","forceful","ranged","propulsive"],vi=["Sword","Hammer","Spear","Other","Pick","Knife"],xi=[V.TRAINED,V.MAXSKILL],Si=[V.TRAINED,V.CASTERSPELL,V.MCSPELL,V.CLASSDC1,V.CLASSDC2],yi=["Trip","Grapple","Demoralize"],Ai=["Electric Arc","Daze","Gouging Claw","Produce Flame","Ray of Frost","Telekinetic Projectile"],Ci=["Fear","Fireball","Heroism"],Ti=["Gouging Claw","Produce Flame","Ray of Frost","Telekinetic Projectile"],Ei=function(e){var t="d"+e.dieSize;for(var a in e.traits)e.traits[a]&&(t+=" "+a,"fatal"===a&&(t+=" d"+e.fatalSize),"deadly"===a&&(t+=" d"+e.deadlySize));return e.critSpec&&(t+=" "+e.critSpecType),t},Ii=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1,i=e.cClass;for(var n in""!==e.classOption&&(i+=" ("+e.classOption+")"),i+=" - ",i+=e.activity+" - d"+a.dieSize,a.traits)a.traits[n]&&(i+=" "+n,"fatal"===n&&(i+=" d"+a.fatalSize),"deadly"===n&&(i+=" d"+a.deadlySize));return a.critSpec&&(i+=" "+a.critSpecType),i},Ri=function(e,t){return["Fighter","Gunslinger"].includes(e)?V.FIGHTERWEAPON:["Bard","Druid","Oracle","Sorcerer","Summoner","Witch","Wizard"].includes(e)?V.CASTERWEAPON:["Alchemist"].includes(e)?V.ALCHWEAPON:"Cleric"===e?"Warpriest"===t?V.ALCHWEAPON:V.CASTERWEAPON:V.MARTIALWEAPON},Pi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return"Ranger"===e.cClass&&"Flurry Edge"===e.classOption?a.traits.agile?_.RA1:_.R1:a.traits.agile?_.A1:_.N1},wi=function(e,t){for(var a={},i=0,n=1;n<=20;n++)i=0,"Perpetual Bomb"!==e.classOption&&"Perpetual Bomb w/ feats"!==e.classOption||(i-=1),"Ranger"===e.cClass&&"Flurry Edge"===e.classOption&&n>=17&&(i+=Math.min(t+e.numPrevStrikes,2)),"Ki Strike"===e.activity&&(i+=1),"Double Slice"!==e.activity||1!==t||(e.twf?e.weapon2.traits.agile:e.weapon1.traits.agile)||(i-=2),a[n]=i;return a},Li=function(e){for(var t={},a=0,i=1;i<=20;i++)a=0,"Power Attack"===e.activity&&i>=1&&(a+=1),"Power Attack"===e.activity&&i>=10&&(a+=1),"Power Attack"===e.activity&&i>=18&&(a+=1),"Perpetual Bomb"!==e.classOption&&"Perpetual Bomb w/ feats"!==e.classOption||(a-=1),t[i]=a;return t},ki=function(e,t){return"Ranger"===e.cClass&&"Precision Edge"===e.classOption&&t<3||("Rogue"===e.cClass&&"Sneak Attack"===e.classOption||("Investigator"===e.cClass&&"Strategic Strike"===e.classOption||"Swashbuckler"===e.cClass&&("Precise Finisher"===e.classOption||"Precise Strike"===e.classOption)))},Wi=function(e,t){if("Ranger"===e.cClass&&"Precision Edge"===e.classOption&&t<3){var a=X.PRECISIONEDGE;return 1===t&&(a=X.PRECISIONEDGE2),2===t&&(a=X.PRECISIONEDGE3),{dieTrend:a,diceSize:ie[8],damageWhen:[ae.Always],damageTrend:[]}}return"Rogue"===e.cClass&&"Sneak Attack"===e.classOption?{dieTrend:X.SNEAK,diceSize:ie[6],damageWhen:[ae.FLATFOOT],damageTrend:[]}:"Investigator"===e.cClass&&"Strategic Strike"===e.classOption?{dieTrend:X.STRATEGIC,diceSize:ie[6],damageWhen:[ae.Always],damageTrend:[]}:"Swashbuckler"===e.cClass&&"Precise Finisher"===e.classOption?{dieTrend:X.PRECISE,diceSize:ie[6],damageWhen:[ae.Always],damageTrend:[]}:"Swashbuckler"===e.cClass&&"Precise Strike"===e.classOption?{dieTrend:X.NONE,diceSize:ie[6],damageWhen:[ae.Always],damageTrend:[$.PRECISE]}:{dieTrend:X.NONE,diceSize:ie[6],damageWhen:[ae.Always],damageTrend:[]}},Di=function(e){return"Ki Strike"===e.activity||"Spell Strike"===e.activity},Ni=function(e){return"Ki Strike"===e.activity?{dieTrend:X.KISTRIKE,diceSize:ie[6],damageType:q.FORCE}:"Spell Strike"===e.activity?Mi(e.spell,e.cantripScore):{dieTrend:X.NONE,diceSize:ie[6],damageType:q.NONE}},Fi=function(e){return"Bomb Strike"===e.classOption||"Bomb w/ feats"===e.classOption||("Perpetual Bomb"===e.classOption||"Perpetual Bomb w/ feats"===e.classOption)},zi=function(e){return"Bomb Strike"===e.classOption?{damageTrend:[$.BOMB]}:"Bomb w/ feats"===e.classOption?{damageTrend:[$.BOMBPLUS]}:"Perpetual Bomb"===e.classOption?{damageTrend:[$.BOMB],damageAdjustments:Ee([[1,-1]])}:"Perpetual Bomb w/ feats"===e.classOption?{damageTrend:[$.BOMBPLUS],damageAdjustments:Ee([[1,-1],[4,1],[10,-1]])}:{}},Mi=function(e,t){var a=q.B,i=ie[4];return"Telekinetic Projectile"!==e&&"Gouging Claw"!==e||(i=ie[6]),"Produce Flame"===e&&(a=q.FIRE),"Gouging Claw"===e&&(a=q.S),"Ray of Frost"===e&&(a=q.COLD),{damageType:a,dieTrend:X.SPELLLEVEL1,diceSize:i,damageTrend:[t]}},Bi=function(e){return"Spell Strike"===e.activity&&("Produce Flame"===e.spell||"Gouging Claw"===e.spell)},Gi=function(e){var t=q.B,a=ie[4];return"Produce Flame"===e.spell&&(t=q.FIRE),"Gouging Claw"===e.spell&&(t=q.BLEED),{damageType:t,diceSize:a,dieTrend:X.SPELLLEVEL1,persistent:!0}},Vi=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=a?e.weapon2:e.weapon1,n=[];i.traits.propulsive||i.traits.ranged||n.push(e.damageScore),["Fighter","Gunslinger"].includes(e.cClass)?n.push($.FIGHTERWEAPONSPEC):["Bard","Cleric","Druid","Oracle","Sorcerer","Summoner","Witch","Wizard"].includes(e.cClass)||["Alchemist"].includes(e.cClass)?n.push($.CASTERWEAPONSPEC):n.push($.MARTIALWEAPONSPEC);var r=0;if(e.twf){r=i.numPrevStrikes;var c,s=Object(Ae.a)(e.isStrikeSecondaryWeapon);try{for(s.s();!(c=s.n()).done;){var l=c.value;(l&&a||!l&&!a)&&(r+=1)}}catch(d){s.e(d)}finally{s.f()}}else r=t+e.numPrevStrikes;if(i.traits.forceful&&(1===r?n.push($.WEAPON):r>=2&&(n.push($.WEAPON),n.push($.WEAPON))),"Barbarian"===e.cClass)switch(e.classOption){case"animal rage":n.push($.ANIMALRAGE);break;case"dragon rage":n.push($.DRAGONRAGE);break;case"rage":n.push($.RAGE);break;case"giant rage":n.push($.GIANTRAGE);break;case"spirit rage":n.push($.SPIRITRAGE)}if("Magus"===e.cClass&&"Arcane Cascade"===e.classOption)n.push($.ARCANECASCADE);return n},Hi=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1,i={},n=0,r=1;r<=20;r++){if(n=0,a.traits.propulsive&&(n+=Math.floor(Kt[e.damageScore][r]/2)),"Gunslinger"===e.cClass&&(n+=1),"Inventor"===e.cClass){var c=0;switch(r>=3&&(c=1),r>=7&&(c=2),r>=15&&(c=3),e.classOption){case"Overdrive Success":n+=Math.floor(Kt[e.cantripScore][r]/2)+c;break;case"Overdrive Critical":n+=Kt[e.cantripScore][r]+c}}i[r]=n}return i},Ui=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.traits.backswing},_i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.traits.deadly},Ki=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.traits.fatal},Yi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.critSpec&&"Pick"===a.critSpecType},Ji=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.critSpec&&"Knife"===a.critSpecType},Xi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return $i(e,t)||qi(e,t)||Qi(e,t)},$i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.critSpec&&"Sword"===a.critSpecType},qi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.critSpec&&"Hammer"===a.critSpecType},Qi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.critSpec&&"Spear"===a.critSpecType},Zi=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1,i={},n=0,r=1;r<=20;r++)r>=a.critSpecLevel&&a.critSpec&&"Knife"===a.critSpecType&&r>=1&&(n=1),i[r]=n;return i},en=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1,i={},n=0,r=1;r<=20;r++)r>=a.critSpecLevel&&(a.critSpec&&"Pick"===a.critSpecType&&(r>=1&&(n=2),r>=4&&(n=4),r>=12&&(n=6),r>=19&&(n=8)),a.critSpec&&"Knife"===a.critSpecType&&(r>=2&&(n=1),r>=10&&(n=2),r>=16&&(n=3))),i[r]=n;return i},tn=function(e){switch(e.skillActivity){case"Trip":return Y.REF;case"Grapple":return Y.FORT;case"Demoralize":return Y.WILL;default:return Y.selfDC}};function an(e){return"object"===typeof e&&"string"===typeof e.name&&"boolean"===typeof e.display&&"number"===typeof e.levelDiff&&"string"===typeof e.description&&nn(e.apIds)&&"number"===typeof e.startLevel&&"number"===typeof e.endLevel}function nn(e){if(Array.isArray(e)){var t,a=Object(Ae.a)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(!(Object.values(M).includes(i.condition)&&Object.values(B).includes(i.rollType)&&Object.values(G).includes(i.type)&&Object.values(V).includes(i.profTrend)&&Object.values(H).includes(i.statTrend)&&Object.values(U).includes(i.itemTrend)&&rn(i.bonusAdjustments)&&Object.values(_).includes(i.MAP)&&Object.values(Y).includes(i.targetType)&&nn(i.apIds)&&cn(i.damages)&&sn(i.effects)))return!1}}catch(n){a.e(n)}finally{a.f()}return!0}return!1}function rn(e){if("object"!==typeof e)return!1;for(var t=1;t<=20;t++)if("number"!==typeof e[t])return!1;return!0}function cn(e){if(Array.isArray(e)){var t,a=Object(Ae.a)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(Array.isArray(i.damageTrend)){var n,r=Object(Ae.a)(i.damageTrend);try{for(r.s();!(n=r.n()).done;){var c=n.value;if(!Object.values($).includes(c))return!1}}catch(o){r.e(o)}finally{r.f()}}if(Array.isArray(i.damageWhen)){var s,l=Object(Ae.a)(i.damageWhen);try{for(l.s();!(s=l.n()).done;){var d=s.value;if(!Object.values(ae).includes(d))return!1}}catch(o){l.e(o)}finally{l.f()}}if(!(Object.values(J).includes(i.damageCondition)&&Object.values(X).includes(i.dieTrend)&&rn(i.dieAdjustments)&&"number"===typeof i.diceSize&&"boolean"===typeof i.fatal&&"number"===typeof i.fatalDie&&rn(i.damageAdjustments)&&Object.values(q).includes(i.damageType)&&Object.values(Q).includes(i.material)&&"boolean"===typeof i.persistent&&[.5,1,2].includes(i.multiplier)))return!1}}catch(o){a.e(o)}finally{a.f()}return!0}return!1}function sn(e){if(Array.isArray(e)){var t,a=Object(Ae.a)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(Array.isArray(i.damageWhen)){var n,r=Object(Ae.a)(i.damageWhen);try{for(r.s();!(n=r.n()).done;){var c=n.value;if(!Object.values(ae).includes(c))return!1}}catch(s){r.e(s)}finally{r.f()}}if(!Object.values(M).includes(i.effectCondition)||!Object.values(te).includes(i.effectType)||"number"!==typeof i.startLevel||"number"!==typeof i.endLevel)return!1}}catch(s){a.e(s)}finally{a.f()}return!0}return!1}for(var ln=Object(ue.b)(),dn=Object(ue.b)(),on=Object(ue.b)(),un=Object(ue.b)(),pn=1,fn=1,jn=1,mn=1,hn={},bn={},gn=1;gn<=20;gn++)hn[gn]=0,bn[gn]=1;var On=function(){try{var e=localStorage.getItem("routineState");if(null!==e){var t=JSON.parse(e);return pn=Math.max.apply(Math,Object(pi.a)(t.routines.ids)),fn=Math.max.apply(Math,Object(pi.a)(t.activityPaths.ids)),jn=Math.max.apply(Math,Object(pi.a)(t.damages.ids)),mn=Math.max.apply(Math,Object(pi.a)(t.effects.ids)),t}return}catch(a){return void console.log(a)}}(),vn=On||{selectedRoutine:0,selectedActivityPath:void 0,parentRoutine:0,parentActivity:void 0,routines:ln.getInitialState(),activityPaths:dn.getInitialState(),damages:on.getInitialState(),effects:un.getInitialState(),importRoutine:D},xn={name:"",type:G.STRIKE,condition:M.ALWAYS,rollType:B.NORMAL,profTrend:V.TRAINED,statTrend:H.AS10,itemTrend:U.NONE,bonusAdjustments:hn,MAP:_.N1,targetType:Y.AC,damages:[],effects:[],apIds:[]},Sn={profTrend:V.MARTIALWEAPON,statTrend:H.AS18a,itemTrend:U.WEAPON,damages:[0,1],effects:[0]},yn={type:G.SAVE,profTrend:V.CASTERSPELL,statTrend:H.AS18a,targetType:Y.REF,damages:[2],effects:[]},An={damageCondition:J.STRIKE,damageType:q.B,material:Q.NONE,persistent:!1,multiplier:1,damageWhen:[ae.Always],dieTrend:X.NONE,dieAdjustments:hn,diceSize:6,fatal:!1,fatalDie:10,damageTrend:[],damageAdjustments:hn},Cn={effectCondition:M.ALWAYS,effectType:te.FLATFOOT,effectValue:1,startLevel:1,endLevel:20,damageWhen:[ae.Always]},Tn=Object(ue.c)({name:"routines",initialState:vn,reducers:{setRoutine:function(e,t){e.selectedRoutine=t.payload,e.selectedActivityPath=void 0,e.parentActivity=void 0,e.parentRoutine=void 0,function(e){try{var t=JSON.stringify(e);localStorage.setItem("routineState",t)}catch(a){}}(e)},setActivityPath:function(e,t){e.selectedActivityPath===t.payload?e.selectedActivityPath=void 0:e.selectedActivityPath=t.payload,e.parentActivity=void 0,e.parentRoutine=void 0},routineAdded:function(e,t){ln.addOne(e.routines,t)},routineUpdated:function(e,t){ln.updateOne(e.routines,t)},activityPathAdded:function(e,t){dn.addOne(e.activityPaths,t)},activityPathUpdated:function(e,t){dn.updateOne(e.activityPaths,t)},damageAdded:function(e,t){on.addOne(e.damages,t)},damageUpdated:function(e,t){on.updateOne(e.damages,t)},effectAdded:function(e,t){un.addOne(e.effects,t)},effectUpdated:function(e,t){un.updateOne(e.effects,t)},routineCreated:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.copy;if(e.parentRoutine=void 0,n&&void 0!==e.selectedRoutine){var r=e.routines.entities[e.selectedRoutine],c=r.name+" Copy",s=Tr(e,r.apIds,void 0,i);ln.addOne(e.routines,Object(P.a)(Object(P.a)({},r),{},{id:i,name:c,apIds:s}))}else ln.addOne(e.routines,{id:i,name:"",display:!0,apIds:[],levelDiff:0,description:"",startLevel:1,endLevel:20}),e.parentRoutine=i;e.selectedRoutine=i,e.selectedActivityPath=void 0,e.parentActivity=void 0},prepare:function(e){var t=e.copy;return{payload:{id:++pn,copy:void 0!==t&&t}}}},routineRemoved:function(e,t){var a=t.payload,i=e.routines.entities[a].apIds;jr(e,i),ln.removeOne(e.routines,a),a===e.selectedRoutine&&(0===e.routines.ids.length?e.selectedRoutine=void 0:e.selectedRoutine=e.routines.entities[e.routines.ids[0]].id,e.selectedActivityPath=void 0,e.parentActivity=void 0,e.parentRoutine=void 0)},setNewActivityParent:function(e,t){e.parentRoutine=t.payload.routineId,e.parentActivity=t.payload.parentId,e.selectedActivityPath=void 0},emptyActivityPathCreated:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.routineId,r=a.activityType,c=Object(P.a)(Object(P.a)({},xn),{},{profTrend:V.UNTRAINED,id:i,routineId:n}),s="";if(void 0!==r){if(r===G.STRIKE){var l=Er(e,Sn.damages),d=Ir(e,Sn.effects);s="Martial - Strike - d8 Sword",c=Object(P.a)(Object(P.a)(Object(P.a)({},xn),Sn),{},{id:i,routineId:n,name:s,damages:l,effects:d}),s="Martial - 1 Strike - d8 Sword"}if(r===G.SAVE){var o=Er(e,yn.damages),u=Ir(e,yn.effects);s="Caster - Fireball",c=Object(P.a)(Object(P.a)(Object(P.a)({},xn),yn),{},{id:i,routineId:n,name:s,damages:o,effects:u})}}e.routines.entities[n].apIds.push(i),""===e.routines.entities[n].name&&(e.routines.entities[n].name=s),""===e.routines.entities[n].description&&(e.routines.entities[n].description=""),dn.addOne(e.activityPaths,c),e.selectedActivityPath=i,e.parentActivity=void 0,e.parentRoutine=void 0},prepare:function(e){var t=e.routineId,a=e.activityType;return{payload:{id:++fn,routineId:t,activityType:a}}}},activityPathCreated:function(e,t){var a=e.parentActivity,i=e.parentRoutine,n=t.payload,r=n.strikeInfo,c=n.skillInfo,s=n.cantripInfo,l=n.spellInfo,d=0,o="",u="";if(void 0!==r){d=mr(e,a,i,r,0);var p=function(e){var t=e.weapon1,a=e.weapon2,i=e.cClass,n="".concat(e.numStrikes," ").concat(e.activity," with class ").concat(e.cClass," (").concat(e.classOption,") after ").concat(e.numPrevStrikes," previous strikes. Weapon is ").concat(Ei(t));return""!==e.classOption&&(i+=" ("+e.classOption+")"),i+=" - ","Double Slice"!==e.activity&&(i+=e.numStrikes+" "),i+=e.activity+" - "+Ei(t),e.twf&&(i+=" | "+Ei(a),n+=". Weapon two is "+Ei(a)),[i,n]}(r),f=Object(R.a)(p,2);o=f[0],u=f[1]}if(void 0!==c){var j=function(e){return[e.skillActivity,"Use action ".concat(e.skillActivity," with proficiency (").concat(e.proficiency,"), ability score (").concat(e.abilityScore,"), and item bonus (").concat(e.itemBonus,").")]}(c),m=Object(R.a)(j,2);o=m[0],u=m[1],d=gr(e,a,i,c)}if(void 0!==s){var h=function(e){return[e.cantrip,"Cast spell ".concat(e.cantrip," with proficiency (").concat(e.proficiency,") and ability score (").concat(e.abilityScore,").")]}(s),b=Object(R.a)(h,2);o=b[0],u=b[1],d=xr(e,a,i,s)}if(void 0!==l){var g=function(e){return[e.spell,"Cast spell ".concat(e.spell," with proficiency (").concat(e.proficiency,") and ability score (").concat(e.abilityScore,").")]}(l),O=Object(R.a)(g,2);o=O[0],u=O[1],d=yr(e,a,i,l)}void 0!==i&&(e.routines.entities[i].apIds.push(d),""===e.routines.entities[i].name&&(e.routines.entities[i].name=o),""===e.routines.entities[i].description&&(e.routines.entities[i].description=u)),void 0!==a&&e.activityPaths.entities[a].apIds.push(d),e.selectedActivityPath=d,e.parentActivity=void 0,e.parentRoutine=void 0},activityPathContinued:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.parentId;e.activityPaths.entities[n].apIds.push(i);var r=e.activityPaths.entities[n],c=Er(e,r.damages),s=Ir(e,r.effects);dn.addOne(e.activityPaths,Object(P.a)(Object(P.a)({},r),{},{id:i,parentId:n,routineId:void 0,MAP:K[r.MAP],damages:c,effects:s,apIds:[]})),e.selectedActivityPath=i},prepare:function(e){var t=e.parentId;return{payload:{id:++fn,parentId:t}}}},activityPathRemoved:function(e,t){var a=t.payload,i=a.id,n=a.parentId,r=a.routineId;jr(e,[i]),void 0!==n&&(e.activityPaths.entities[n].apIds=e.activityPaths.entities[n].apIds.filter((function(e){return e!==i}))),void 0!==r&&(e.routines.entities[r].apIds=e.routines.entities[r].apIds.filter((function(e){return e!==i}))),e.selectedActivityPath=void 0},damageCreated:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.parentId;e.activityPaths.entities[n].damages.push(i),on.addOne(e.damages,Object(P.a)({id:i},An))},prepare:function(e){var t=e.parentId;return{payload:{id:++jn,parentId:t}}}},damageRemoved:function(e,t){var a=t.payload,i=a.id,n=a.parentId;e.activityPaths.entities[n].damages=e.activityPaths.entities[n].damages.filter((function(e){return e!==i})),on.removeOne(e.damages,i)},effectCreated:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.parentId;e.activityPaths.entities[n].effects.push(i),un.addOne(e.effects,Object(P.a)(Object(P.a)({},Cn),{},{id:i}))},prepare:function(e){var t=e.parentId;return{payload:{id:++mn,parentId:t}}}},effectRemoved:function(e,t){var a=t.payload,i=a.id,n=a.parentId;e.activityPaths.entities[n].effects=e.activityPaths.entities[n].effects.filter((function(e){return e!==i})),un.removeOne(e.effects,i)},importRoutine:function(e,t){try{e.importRoutine=L;var a=JSON.parse(t.payload);an(a)?(e.selectedRoutine=Lr(e,a),e.selectedActivityPath=void 0,e.parentActivity=void 0,e.parentRoutine=void 0,e.importRoutine=k):e.importRoutine=W}catch(i){console.log(i),console.log("Parsing failed"),e.importRoutine=W}}}}),En=Tn.actions,In=En.setRoutine,Rn=En.setActivityPath,Pn=En.setNewActivityParent,wn=En.routineAdded,Ln=En.routineUpdated,kn=En.routineCreated,Wn=En.routineRemoved,Dn=(En.activityPathAdded,En.activityPathUpdated),Nn=En.emptyActivityPathCreated,Fn=En.activityPathCreated,zn=En.activityPathContinued,Mn=En.activityPathRemoved,Bn=(En.damageAdded,En.damageUpdated),Gn=En.damageCreated,Vn=En.damageRemoved,Hn=(En.effectAdded,En.effectUpdated),Un=En.effectCreated,_n=En.effectRemoved,Kn=En.importRoutine,Yn=Tn.reducer,Jn=ln.getSelectors((function(e){return e.routines.routines})),Xn=Jn.selectById,$n=(Jn.selectIds,Jn.selectEntities),qn=Jn.selectAll,Qn=(Jn.selectTotal,dn.getSelectors((function(e){return e.routines.activityPaths}))),Zn=Qn.selectById,er=(Qn.selectIds,Qn.selectEntities),tr=(Qn.selectAll,Qn.selectTotal,on.getSelectors((function(e){return e.routines.damages}))),ar=tr.selectById,ir=(tr.selectIds,tr.selectEntities),nr=(tr.selectAll,tr.selectTotal,un.getSelectors((function(e){return e.routines.effects}))),rr=nr.selectById,cr=(nr.selectIds,nr.selectEntities),sr=(nr.selectAll,nr.selectTotal,function(e){return e.routines.selectedRoutine}),lr=function(e){return e.routines.selectedActivityPath},dr=function(e){return e.routines.parentActivity},or=function(e){return void 0===e.routines.selectedActivityPath&&(void 0!==e.routines.parentRoutine||void 0!==e.routines.parentActivity)},ur=function(e){if(void 0!==e.routines.selectedRoutine){var t=e.routines.routines.entities[e.routines.selectedRoutine];return Object(P.a)(Object(P.a)({},t),{},{apIds:Rr(e.routines,t.apIds)})}},pr=function(e){return Object.values(e.routines.routines.entities).filter((function(e){return null===e||void 0===e?void 0:e.display})).map((function(e){return(null===e||void 0===e?void 0:e.name)+": "+(null===e||void 0===e?void 0:e.description)}))},fr=function(e){return e.routines.importRoutine},jr=function(e,t){for(var a=0;a<t.length;){var i=e.activityPaths.entities[t[a]];t.push.apply(t,Object(pi.a)(i.apIds)),on.removeMany(e.damages,i.damages),un.removeMany(e.effects,i.effects),dn.removeOne(e.activityPaths,i.id),a+=1}},mr=function e(t,a,i,n,r){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:M.ALWAYS,l=n.twf&&n.isStrikeSecondaryWeapon[r];n.twf&&"Double Slice"===n.activity&&(l=0!==r);var d=++fn,o=[];if(r<n.numStrikes-1)if("Double Slice"===n.activity){var u=e(t,d,void 0,n,r+1,c+1,M.CRIT),p=e(t,d,void 0,n,r+1,c+1,M.SUCC),f=e(t,d,void 0,n,r+1,c,M.FAIL_WORSE);o.push(u,p,f)}else if("Ranger"===n.cClass&&"Precision Edge"===n.classOption){var j=e(t,d,void 0,n,r+1,c+1,M.AT_LEAST_SUCC),m=e(t,d,void 0,n,r+1,c,M.FAIL_WORSE);o.push(j,m)}else o.push(e(t,d,void 0,n,r+1));var h=Ii(n,l),b=[];b="Double Slice"===n.activity?r<n.numStrikes-1?[]:hr(t,n,r,l,c,!0,s):hr(t,n,r,l,c);var g=br(t,n,r,l),O=Pi(n,l),v=n.numPrevStrikes+("Double Slice"===n.activity?0:r);1===v?O=K[O]:v>=2&&(O=K[K[O]]);var x=U.WEAPON;return"Bomb Strike"!==n.classOption&&"Bomb w/ feats"!==n.classOption||(x=U.BOMB),"Perpetual Bomb"!==n.classOption&&"Perpetual Bomb w/ feats"!==n.classOption||(x=U.BOMB),dn.addOne(t.activityPaths,Object(P.a)(Object(P.a)({},xn),{},{id:d,parentId:a,routineId:i,condition:s,name:h,type:G.STRIKE,profTrend:Ri(n.cClass,n.classOption),statTrend:n.attackScore,itemTrend:x,bonusAdjustments:wi(n,r),MAP:O,damages:b,effects:g,apIds:o})),d},hr=function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:M.FAIL_WORSE,s=i?t.weapon2:t.weapon1,l=[];if(r){var d=t.weapon1;if(c===M.CRIT){var o=++jn,u=X.WEAPON;"Bomb Strike"!==t.classOption&&"Bomb w/ feats"!==t.classOption||(u=X.BOMB),"Perpetual Bomb"!==t.classOption&&"Perpetual Bomb w/ feats"!==t.classOption||(u=X.BOMB);var p=Object(P.a)(Object(P.a)({},An),{},{damageCondition:J.ALWAYS,multiplier:2,id:o,dieTrend:u,dieAdjustments:Li(t),diceSize:Ki(t)?d.fatalSize:d.dieSize,fatal:Ki(t),fatalDie:d.fatalSize,damageTrend:Vi(t,a-1),damageAdjustments:Hi(t)});if(on.addOne(e.damages,p),l.push(o),"Alchemist"!==t.cClass||"Normal"===t.classOption){o=++jn;var f=Object(P.a)(Object(P.a)({},An),{},{damageCondition:J.ALWAYS,multiplier:2,id:o,dieTrend:d.runes,diceSize:ie[6],damageType:q.FIRE});on.addOne(e.damages,f),l.push(o)}if(ki(t,n)){var j=Wi(t,n),m=j.dieTrend,h=j.diceSize,b=j.damageWhen,g=j.damageTrend;o=++jn;var O=Object(P.a)(Object(P.a)({},An),{},{damageCondition:J.ALWAYS,multiplier:2,id:o,dieTrend:m,diceSize:h,damageType:q.PRECISION,damageWhen:b,damageTrend:g});on.addOne(e.damages,O),l.push(o)}if(_i(t)){var v=hn;!Ki(t)&&Yi(t)&&(v=en(t)),o=++jn;var x=Object(P.a)(Object(P.a)({},An),{},{damageCondition:J.ALWAYS,id:o,dieTrend:X.DEADLY,diceSize:d.deadlySize,damageAdjustments:v});on.addOne(e.damages,x),l.push(o)}if(Ki(t)){var S=hn;Yi(t)&&(S=en(t)),o=++jn;var y=Object(P.a)(Object(P.a)({},An),{},{damageCondition:J.ALWAYS,id:o,dieAdjustments:bn,diceSize:d.fatalSize,damageAdjustments:S});on.addOne(e.damages,y),l.push(o)}if(!_i(t)&&!Ki(t)&&Yi(t)){var A=en(t);o=++jn;var C=Object(P.a)(Object(P.a)({},An),{},{damageCondition:J.ALWAYS,id:o,diceSize:d.fatalSize,damageAdjustments:A});on.addOne(e.damages,C),l.push(o)}if(Ji(t)){var T=en(t);o=++jn;var E=Object(P.a)(Object(P.a)({},An),{},{damageCondition:J.ALWAYS,id:o,dieAdjustments:Zi(t),diceSize:ie[6],damageAdjustments:T,persistent:!0});on.addOne(e.damages,E),l.push(o)}}else if(c===M.SUCC){var I=++jn,R=X.WEAPON;"Bomb Strike"!==t.classOption&&"Bomb w/ feats"!==t.classOption||(R=X.BOMB),"Perpetual Bomb"!==t.classOption&&"Perpetual Bomb w/ feats"!==t.classOption||(R=X.BOMB);var w=Object(P.a)(Object(P.a)({},An),{},{damageCondition:J.ALWAYS,id:I,dieTrend:R,dieAdjustments:Li(t),diceSize:d.dieSize,fatal:!1,fatalDie:d.fatalSize,damageTrend:Vi(t,a-1),damageAdjustments:Hi(t)});if(on.addOne(e.damages,w),l.push(I),"Alchemist"!==t.cClass||"Normal"===t.classOption){I=++jn;var L=Object(P.a)(Object(P.a)({},An),{},{damageCondition:J.ALWAYS,id:I,dieTrend:d.runes,diceSize:ie[6],damageType:q.FIRE});on.addOne(e.damages,L),l.push(I)}if(ki(t,n)){var k=Wi(t,n),W=k.dieTrend,D=k.diceSize,N=k.damageWhen,F=k.damageTrend;I=++jn;var z=Object(P.a)(Object(P.a)({},An),{},{damageCondition:J.FAIL_WORSE,id:I,dieTrend:W,diceSize:D,damageType:q.PRECISION,damageWhen:N,damageTrend:F});on.addOne(e.damages,z),l.push(I)}}}var B=++jn,G=X.WEAPON;"Bomb Strike"!==t.classOption&&"Bomb w/ feats"!==t.classOption||(G=X.BOMB),"Perpetual Bomb"!==t.classOption&&"Perpetual Bomb w/ feats"!==t.classOption||(G=X.BOMB);var V=Object(P.a)(Object(P.a)({},An),{},{id:B,dieTrend:G,dieAdjustments:Li(t),diceSize:s.dieSize,fatal:Ki(t,i),fatalDie:s.fatalSize,damageTrend:Vi(t,a,i),damageAdjustments:Hi(t,i)});if(on.addOne(e.damages,V),l.push(B),"Alchemist"!==t.cClass||"Normal"===t.classOption){B=++jn;var H=Object(P.a)(Object(P.a)({},An),{},{id:B,dieTrend:s.runes,diceSize:ie[6],damageType:q.FIRE});on.addOne(e.damages,H),l.push(B)}if((!r||c!==M.CRIT)&&ki(t,n)){var U=Wi(t,n),_=U.dieTrend,K=U.diceSize,Y=U.damageWhen,$=U.damageTrend;B=++jn;var Q=Object(P.a)(Object(P.a)({},An),{},{id:B,dieTrend:_,diceSize:K,damageTrend:$,damageType:q.PRECISION,damageWhen:Y});on.addOne(e.damages,Q),l.push(B)}if(Di(t)){B=++jn;var Z=Object(P.a)(Object(P.a)({},An),{},{id:B},Ni(t));on.addOne(e.damages,Z),l.push(B)}if(Bi(t)){B=++jn;var ee=Object(P.a)(Object(P.a)({},An),{},{id:B,damageCondition:J.CRIT},Gi(t));on.addOne(e.damages,ee),l.push(B)}if(Fi(t)){B=++jn;var te=Object(P.a)(Object(P.a)({},An),{},{id:B,damageCondition:J.AT_LEAST_FAIL},zi(t));on.addOne(e.damages,te),l.push(B)}if(_i(t,i)){var ae=hn;!Ki(t,i)&&Yi(t,i)&&(ae=en(t,i)),B=++jn;var ne=Object(P.a)(Object(P.a)({},An),{},{id:B,damageCondition:J.CRIT,dieTrend:X.DEADLY,diceSize:s.deadlySize,damageAdjustments:ae});on.addOne(e.damages,ne),l.push(B)}if(Ki(t,i)){var re=hn;Yi(t,i)&&(re=en(t,i)),B=++jn;var ce=Object(P.a)(Object(P.a)({},An),{},{id:B,damageCondition:J.CRIT,dieAdjustments:bn,diceSize:s.fatalSize,damageAdjustments:re});on.addOne(e.damages,ce),l.push(B)}if(!_i(t,i)&&!Ki(t,i)&&Yi(t,i)){var se=en(t,i);B=++jn;var le=Object(P.a)(Object(P.a)({},An),{},{id:B,damageCondition:J.CRIT,diceSize:s.fatalSize,damageAdjustments:se});on.addOne(e.damages,le),l.push(B)}if(Ji(t,i)){var de=en(t,i);B=++jn;var oe=Object(P.a)(Object(P.a)({},An),{},{id:B,damageCondition:J.CRIT,dieAdjustments:Zi(t,i),diceSize:ie[6],damageType:q.BLEED,damageAdjustments:de,persistent:!0});on.addOne(e.damages,oe),l.push(B)}return l},br=function(e,t,a){var i,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=n?t.weapon2:t.weapon1,c=[];if(Xi(t,n)){var s=Z.FLATFOOT;$i(t,n)&&(s=Z.FLATFOOT),qi(t,n)&&(s=Z.PRONE),Qi(t,n)&&(s=ee.CLUMSY),i=++mn;var l=Object(P.a)(Object(P.a)({},Cn),{},{id:i,effectCondition:M.CRIT,effectType:s,effectValue:1,startLevel:r.critSpecLevel});c.push(i),un.addOne(e.effects,l)}if(Ui(t,n)){i=++mn;var d=Object(P.a)(Object(P.a)({},Cn),{},{id:i,effectCondition:M.FAIL_WORSE,effectType:ee.BONUSC1});c.push(i),un.addOne(e.effects,d)}return c},gr=function(e,t,a,i){var n=++fn,r=Or(e,i),c=vr(e,i);return dn.addOne(e.activityPaths,Object(P.a)(Object(P.a)({},xn),{},{id:n,parentId:t,routineId:a,name:i.skillActivity,type:G.SKILL,profTrend:i.proficiency,statTrend:i.abilityScore,itemTrend:i.itemBonus,targetType:tn(i),damages:r,effects:c})),n},Or=function(e,t){var a=[];if(function(e){return"Trip"===e.skillActivity}(t)){var i=++jn,n=Object(P.a)(Object(P.a)({},An),{},{id:i,damageCondition:J.CRIT,dieAdjustments:bn,diceSize:ie[6]});a.push(i),on.addOne(e.damages,n)}return a},vr=function(e,t){var a,i=[],n=Object(Ae.a)(function(e){switch(e.skillActivity){case"Trip":return[{effectCondition:M.AT_LEAST_SUCC,effectType:te.PRONE,effectValue:1}];case"Grapple":return[{effectCondition:M.SUCC,effectType:te.GRAPPLED,effectValue:1},{effectCondition:M.CRIT,effectType:te.RESTRAINED,effectValue:1}];case"Demoralize":return[{effectCondition:M.SUCC,effectType:te.FRIGHTENED,effectValue:1},{effectCondition:M.CRIT,effectType:te.FRIGHTENED,effectValue:2}];default:return[]}}(t));try{for(n.s();!(a=n.n()).done;){var r=a.value,c=r.effectCondition,s=r.effectType,l=r.effectValue,d=++mn,o=Object(P.a)(Object(P.a)({},Cn),{},{id:d,effectCondition:c,effectType:s,effectValue:l});i.push(d),un.addOne(e.effects,o)}}catch(u){n.e(u)}finally{n.f()}return i},xr=function(e,t,a,i){var n=++fn,r=Sr(e,i);return dn.addOne(e.activityPaths,Object(P.a)(Object(P.a)(Object(P.a)({},xn),{},{id:n,parentId:t,routineId:a,name:i.cantrip,profTrend:i.proficiency,statTrend:i.abilityScore},function(e){switch(e.cantrip){case"Electric Arc":return{type:"Save",targetType:Y.REF};case"Daze":return{type:"Save",targetType:Y.WILL};default:return{targetType:Y.AC}}}(i)),{},{damages:r})),n},Sr=function(e,t){var a=[],i=++jn,n=Object(P.a)(Object(P.a)({},An),{},{id:i,dieTrend:X.SPELLLEVEL1,damageTrend:[t.abilityScore]},function(e){switch(e.cantrip){case"Electric Arc":return{damageCondition:J.BASIC,diceSize:ie[4]};case"Daze":return{damageCondition:J.BASIC,dieTrend:X.NONE,dieAdjustments:Te([5,9,13,17])};case"Telekinetic Projectile":return{};default:return{diceSize:ie[4]}}}(t));if(a.push(i),on.addOne(e.damages,n),"Produce Flame"===t.cantrip||"Gouging Claw"===t.cantrip){var r=++jn,c=Object(P.a)(Object(P.a)({},An),{},{id:r,damageCondition:J.CRIT,diceSize:ie[4],dieTrend:X.SPELLLEVEL1,persistent:!0});a.push(r),on.addOne(e.damages,c)}return a},yr=function(e,t,a,i){var n=++fn,r=Ar(e,i),c=Cr(e,i);return dn.addOne(e.activityPaths,Object(P.a)(Object(P.a)(Object(P.a)({},xn),{},{id:n,parentId:t,routineId:a,name:i.spell,type:G.SAVE,profTrend:i.proficiency,statTrend:i.abilityScore},function(e){switch(e.spell){case"Fireball":default:return{targetType:Y.REF};case"Fear":return{targetType:Y.WILL}}}(i)),{},{damages:r,effects:c})),n},Ar=function(e,t){var a=[];if("Fireball"===t.spell){var i=++jn,n=Object(P.a)(Object(P.a)({},An),{},{id:i,damageCondition:J.BASIC,dieTrend:X.SPELLLEVEL2});a.push(i),on.addOne(e.damages,n)}return a},Cr=function(e,t){var a=[];if("Fear"===t.spell){var i=++mn,n=Object(P.a)(Object(P.a)({},Cn),{},{id:i,effectCondition:M.CRIF,effectType:te.FRIGHTENED,effectValue:3});a.push(i),un.addOne(e.effects,n),i=++mn;var r=Object(P.a)(Object(P.a)({},Cn),{},{id:i,effectCondition:M.FAIL,effectType:te.FRIGHTENED,effectValue:2});a.push(i),un.addOne(e.effects,r),i=++mn;var c=Object(P.a)(Object(P.a)({},Cn),{},{id:i,effectCondition:M.SUCC,effectType:te.FRIGHTENED,effectValue:1});a.push(i),un.addOne(e.effects,c)}else if("Heroism"===t.spell){var s=++mn,l=Object(P.a)(Object(P.a)({},Cn),{},{id:s,effectCondition:M.ALWAYS,effectType:te.BONUSSA,effectValue:1,startLevel:5,endLevel:10});a.push(s),un.addOne(e.effects,l),s=++mn;var d=Object(P.a)(Object(P.a)({},Cn),{},{id:s,effectCondition:M.ALWAYS,effectType:te.BONUSSA,effectValue:1,startLevel:11,endLevel:16});a.push(s),un.addOne(e.effects,d),s=++mn;var o=Object(P.a)(Object(P.a)({},Cn),{},{id:s,effectCondition:M.ALWAYS,effectType:te.BONUSSA,effectValue:1,startLevel:17,endLevel:20});a.push(s),un.addOne(e.effects,o)}return a},Tr=function e(t,a,i,n){var r,c=[],s=Object(Ae.a)(a);try{for(s.s();!(r=s.n()).done;){var l=r.value,d=++fn,o=t.activityPaths.entities[l],u=e(t,o.apIds,d),p=Er(t,o.damages),f=Ir(t,o.effects);dn.addOne(t.activityPaths,Object(P.a)(Object(P.a)({},o),{},{id:d,parentId:i,routineId:n,damages:p,effects:f,apIds:u})),c.push(d)}}catch(j){s.e(j)}finally{s.f()}return c},Er=function(e,t){var a,i=[],n=Object(Ae.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,c=e.damages.entities[r],s=++jn;on.addOne(e.damages,Object(P.a)(Object(P.a)({},c),{},{id:s})),i.push(s)}}catch(l){n.e(l)}finally{n.f()}return i},Ir=function(e,t){var a,i=[],n=Object(Ae.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,c=e.effects.entities[r],s=++mn;un.addOne(e.effects,Object(P.a)(Object(P.a)({},c),{},{id:s})),i.push(s)}}catch(l){n.e(l)}finally{n.f()}return i},Rr=function e(t,a){var i,n=[],r=Object(Ae.a)(a);try{for(r.s();!(i=r.n()).done;){var c=i.value,s=t.activityPaths.entities[c],l=e(t,s.apIds),d=Pr(t,s.damages),o=wr(t,s.effects);n.push(Object(P.a)(Object(P.a)({},s),{},{apIds:l,damages:d,effects:o}))}}catch(u){r.e(u)}finally{r.f()}return n},Pr=function(e,t){var a,i=[],n=Object(Ae.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,c=e.damages.entities[r];i.push(Object(P.a)({},c))}}catch(s){n.e(s)}finally{n.f()}return i},wr=function(e,t){var a,i=[],n=Object(Ae.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,c=e.effects.entities[r];i.push(Object(P.a)({},c))}}catch(s){n.e(s)}finally{n.f()}return i},Lr=function(e,t){var a=++pn,i=kr(e,t.apIds,void 0,a);return ln.addOne(e.routines,Object(P.a)(Object(P.a)({},t),{},{id:a,apIds:i})),a},kr=function e(t,a,i,n){var r,c=[],s=Object(Ae.a)(a);try{for(s.s();!(r=s.n()).done;){var l=r.value,d=++fn,o=e(t,l.apIds,d),u=Wr(t,l.damages),p=Dr(t,l.effects);void 0===l.name&&(l.name=""),dn.addOne(t.activityPaths,Object(P.a)(Object(P.a)({},l),{},{id:d,parentId:i,routineId:n,damages:u,effects:p,apIds:o})),c.push(d)}}catch(f){s.e(f)}finally{s.f()}return c},Wr=function(e,t){var a,i=[],n=Object(Ae.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,c=++jn;on.addOne(e.damages,Object(P.a)(Object(P.a)(Object(P.a)({},An),r),{},{id:c})),i.push(c)}}catch(s){n.e(s)}finally{n.f()}return i},Dr=function(e,t){var a,i=[],n=Object(Ae.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,c=++mn;un.addOne(e.effects,Object(P.a)(Object(P.a)(Object(P.a)({},Cn),r),{},{id:c})),i.push(c)}}catch(s){n.e(s)}finally{n.f()}return i},Nr=a(89),Fr=a(90),zr=function(e,t){if(0===e.length||0===t.length)throw new Error("Vectors can not be empty!");for(var a=e,i=t,n=0,r=[],c=0;c<a.length;c++){for(var s=0;s<i.length;s++)n+s!==r.length?r[n+s]=r[n+s]+a[c]*i[s]:r.push(a[c]*i[s]);n++}return r},Mr=function(e,t,a){if(0===a)return{staticDamage:0,damageDist:[1]};if(1===a)return{staticDamage:e,damageDist:Object(pi.a)(t)};var i,n=[0],r=0,c=Math.floor(e*a),s=0,l=c,d=Object(Ae.a)(t);try{for(d.s();!(i=d.n()).done;){var o=i.value,u=Math.floor((e+s)*a);if(u===l)n[r]+=o;else{if(u>l+1)for(var p=0;p<u-(l+1);p++)n[++r]=0;n[++r]=o}l=u,s++}}catch(f){d.e(f)}finally{d.f()}return{staticDamage:c,damageDist:n}},Br=function(e,t,a){for(;e<a;)t.length>=2&&(t[1]+=t[0],t.shift()),e++;return{staticDamage:e,damageDist:t}};var Gr=function(e,t,a,i,n,r,c){var s;s=i?e.persistent:e.normal;var l=Mr(n,r,c);if(n=l.staticDamage,r=l.damageDist,t in s)if(i){for(var d=s[t].staticDamage,o=0;o<s[t].damageDist.length;o++)d+=o*s[t].damageDist[o];for(var u=n,p=0;p<r.length;p++)u+=p*r[p];u>d&&(s[t]={material:a,staticDamage:n,damageDist:r})}else s[t].staticDamage+=n,s[t].damageDist=zr(s[t].damageDist,r),a!==Q.NONE&&(s[t].material=a);else s[t]={material:a,staticDamage:n,damageDist:r}};function Vr(e,t){var a=[];switch(e){case M.ALWAYS:a=[0,1,2,3];break;case M.AT_LEAST_FAIL:a=[0,1,2];break;case M.AT_LEAST_SUCC:a=[0,1];break;case M.CRIF:a=[3];break;case M.CRIT:a=[0];break;case M.FAIL:a=[2];break;case M.FAIL_WORSE:a=[2,3];break;case M.SUCC:a=[1];break;case M.SUCC_WORSE:a=[1,2,3]}return a.includes(t)}var Hr=function(){function e(t,a,i,n,r,c){Object(Nr.a)(this,e),this.activityPaths=void 0,this.target=void 0,this.damages=void 0,this.effects=void 0,this.weaknesses=void 0,this.selectedRoutine=void 0,this.activityPaths=t,this.target=a[0],this.damages=i,this.effects=n,this.weaknesses=r,this.selectedRoutine=c}return Object(Fr.a)(e,[{key:"canEvaluate",value:function(e,t){var a=this.target.levelDiff;return!(e<t.startLevel||e>t.endLevel)&&!(e+a<-1||e+a>24)}},{key:"canEvaluateSingleLevel",value:function(e){var t=this.target.routineLevel;return!(t<e.startLevel||t>e.endLevel)}},{key:"evalRoutine",value:function(e,t,a,i){var n;n=void 0===i?this.target.currentHP:Math.round(la[this.target.HPTrend][i]*(this.target.percentHP/100));for(var r={persistentDamages:{}},c=0,s=Object.values(Z);c<s.length;c++){r[s[c]]=!1}for(var l=0,d=Object.values(ee);l<d.length;l++){r[d[l]]=0}r.Flatfooted=this.target.flatfooted;for(var o=[],u=[],p=0,f=[1],j=0;j<e.apIds.length;j++){var m=this.activityPaths[e.apIds[j]],h=this.evalPath(m,r,t,a,i);f=zr(f,h)}var b=function(e,t,a){var i;if(e>=a)e=a,i=[1];else if(e+t.length-1>a){var n=1-(i=t.slice(0,a-e+1)).reduce((function(e,t){return e+t}));i[a-e]+=n}else i=t;return{staticDamage:e,damageDist:i}}(0,f,n);f=b.damageDist;for(var g=1,O=0;O<f.length;O++)o.push(O),u.push(g),g-=f[O],p+=f[O]*O;return{expD:p,dataArray:o,routineDDist:f,cumulative:u}}},{key:"evalPath",value:function(e,t,a,i,n){for(var r=this,c=this.target,s=e.damages.map((function(e){return r.damages[e]})),l=e.effects.map((function(e){return r.effects[e]})),d=c.weaknesses.map((function(e){return r.weaknesses[e]})),o=function(e,t,a,i,n,r,c,s,l){var d,o,u=0,p=10;if(void 0===l)switch(l=a.routineLevel,o=a.targetLevel,e.targetType){case Y.AC:d=a.overrideAC;break;case Y.FORT:d=a.overrideFort;break;case Y.REF:d=a.overrideRef;break;case Y.WILL:d=a.overrideWill;break;case Y.PER:d=a.overridePer;break;default:d=a.overrideAC}else{var f;switch(o=l+a.levelDiff,e.targetType){case Y.AC:f=ra[a.ACTrend];break;case Y.FORT:f=ca[a.FortTrend];break;case Y.REF:f=ca[a.RefTrend];break;case Y.WILL:f=ca[a.WillTrend];break;case Y.PER:f=ca[a.PerTrend];break;default:f=ra[a.ACTrend]}d=f[o]}var j=i.Frightened;switch(e.targetType!==Y.AC&&e.targetType!==Y.REF||(j=Math.max(j,i.Clumsy)),e.type){case G.STRIKE:case G.SPELLATTACK:case G.SKILL:u=_t[e.profTrend][l],u+=Kt[e.statTrend][l],u+=Yt[e.itemTrend][l],u+=e.bonusAdjustments[l],u+=Jt[e.MAP],u+=i["Cicumstance Bonus to next attack"]+i["Status Bonus to all attacks"],i["Cicumstance Bonus to next attack"]=0,p=d+r-j,e.targetType===Y.AC?i.Flatfooted&&(p-=2):e.targetType===Y.selfDC?p=sa[l]:e.targetType===Y.targetDC?p=sa[o]:p+=10;break;case G.SAVE:u=d+r-j,p=10+_t[e.profTrend][l],p+=Kt[e.statTrend][l],p+=Yt[e.itemTrend][l],p+=e.bonusAdjustments[l],e.targetType===Y.AC?u-=10:e.targetType===Y.selfDC?u=sa[l]-10:e.targetType===Y.targetDC&&(u=sa[o]-10);break;default:console.log("Activity type ".concat(e.type," not implemented"))}var m=function(e,t){var a=e-t;return a<-20?0:-20===a?5:a<-9?arguments.length>2&&void 0!==arguments[2]&&arguments[2]?10:5:a<8?5*(11+a):95}(u,p),h=function(e,t){var a=e-t;return a<-29?0:a<-20?5:-20===a?0:a<-9?5*(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?19:20+a):a<-1?50:a<9?5*(8-a):5}(u,p),b=function(e,t){var a=e-t;return a<-29?5:a<-20?5*(29+a):a<-10?45:a<-1?5*(-2-a):a<9?5:0}(u,p),g=function(e,t){var a=e-t;return a<-29?95:a<-10?5*(-10-a):a<-1?5:0}(u,p);if(e.rollType===B.ADVANTAGE){var O=100-m,v=O-h,x=v-b;b=100-x*x/100-(h=100-v*v/100-(m=100-O*O/100))-m,g=g*g/100}else if(e.rollType===B.DISADVANTAGE){var S=100-g,y=S-b,A=y-h;h=100-A*A/100-(b=100-y*y/100-(g=100-S*S/100))-g,m=m*m/100}var C=[m/100,h/100,b/100,g/100],T={normal:{},persistent:Object(P.a)({},i.persistentDamages)},E={normal:{},persistent:Object(P.a)({},i.persistentDamages)},I={normal:{},persistent:Object(P.a)({},i.persistentDamages)},R={normal:{},persistent:Object(P.a)({},i.persistentDamages)},w=[T,E,I,R],L=[{normal:{staticDamage:0,damageDist:[1]},persistent:T.persistent},{normal:{staticDamage:0,damageDist:[1]},persistent:E.persistent},{normal:{staticDamage:0,damageDist:[1]},persistent:I.persistent},{normal:{staticDamage:0,damageDist:[1]},persistent:R.persistent}];t.forEach((function(e){var t,a=e.damageCondition,n=e.diceSize,r=e.fatal,c=e.fatalDie,s=e.damageTrend,d=e.damageType,o=e.material,u=e.persistent,p=e.multiplier,f=e.damageWhen,j=!1,m=Object(Ae.a)(f);try{for(m.s();!(t=m.n()).done;){var h=t.value;if(h===ae.Always){j=!0;break}var b=i[h];if(b&&b>0){j=!0;break}}}catch(k){m.e(k)}finally{m.f()}if(j){var g=Xt[e.dieTrend][l];(g+=e.dieAdjustments[l])<0&&(g=0);for(var O=0,v=0;v<s.length;v++)O+=$t[s[v]][l];O+=e.damageAdjustments[l];for(var x=[1],S=[1],y=[],A=0;A<n;A++)y.push(1/n);for(var C=0;C<g;C++)x=zr(x,y);if(r){for(var P=[],w=0;w<c;w++)P.push(1/c);for(var L=0;L<g;L++)S=zr(S,P)}switch(O+=g,a){case J.STRIKE:Gr(E,d,o,u,O,x,1*p),Gr(T,d,o,u,O,r?S:x,2*p);break;case J.BASIC:Gr(E,d,o,u,O,x,.5*p),Gr(I,d,o,u,O,x,1*p),Gr(R,d,o,u,O,x,2*p);break;case J.CRIF:Gr(R,d,o,u,O,x,1*p);break;case J.FAIL:Gr(I,d,o,u,O,x,1*p);break;case J.SUCC:Gr(E,d,o,u,O,x,1*p);break;case J.CRIT:Gr(T,d,o,u,O,x,1*p);break;case J.AT_LEAST_SUCC:Gr(E,d,o,u,O,x,1*p),Gr(T,d,o,u,O,x,1*p);break;case J.AT_LEAST_FAIL:Gr(I,d,o,u,O,x,1*p),Gr(E,d,o,u,O,x,1*p),Gr(T,d,o,u,O,x,1*p);break;case J.FAIL_WORSE:Gr(R,d,o,u,O,x,1*p),Gr(I,d,o,u,O,x,1*p);break;case J.SUCC_WORSE:Gr(R,d,o,u,O,x,1*p),Gr(I,d,o,u,O,x,1*p),Gr(E,d,o,u,O,x,1*p);break;case J.ALWAYS:Gr(R,d,o,u,O,x,1*p),Gr(I,d,o,u,O,x,1*p),Gr(E,d,o,u,O,x,1*p),Gr(T,d,o,u,O,x,1*p);break;default:console.log("Damage condition ".concat(a," not implemented yet."))}}}));for(var k=0;k<4;k++){var W=w[k],D=L[k],N=0,F=[1],z=void 0;for(z in W.normal){var M=W.normal[z],V=M.material,H=M.staticDamage,U=M.damageDist;if(!(1===U.length&&H<=0)){var _=Br(H,U,1);H=_.staticDamage,U=_.damageDist;var K,X=0,$=0,q=Object(Ae.a)(n);try{for(q.s();!(K=q.n()).done;){var Q=K.value;Q.type!==z&&Q.type!==V||(Q.value+c<0?X=Math.min(X,Q.value+c):Q.value+c>0&&($=Math.max($,Q.value+c)))}}catch(ge){q.e(ge)}finally{q.f()}var Z=Br(H-=$+X,U,0);H=Z.staticDamage,U=Z.damageDist,N+=H,F=zr(F,U)}}if(D.normal.staticDamage=N,D.normal.damageDist=F,s){var ee=0,te=[1],ie=void 0;for(ie in W.persistent){var ne=W.persistent[ie],re=ne.material,ce=ne.staticDamage,se=ne.damageDist;if(!(1===se.length&&ce<=0)){var le=Br(ce,se,1);ce=le.staticDamage,se=le.damageDist;var de,oe=0,ue=0,pe=Object(Ae.a)(n);try{for(pe.s();!(de=pe.n()).done;){var fe=de.value;fe.type!==ie&&fe.type!==re||(fe.value+c<0?oe=Math.min(oe,fe.value+c):fe.value+c>0&&(ue=Math.max(ue,fe.value+c)))}}catch(ge){pe.e(ge)}finally{pe.f()}var je=Br(ce-=ue+oe,se,0);ce=je.staticDamage,se=je.damageDist,ee+=ce,te=zr(te,se)}}var me=Mr(ee,te,a.persistentMultiplier),he=me.staticDamage,be=me.damageDist;D.normal.staticDamage+=he,D.normal.damageDist=zr(D.normal.damageDist,be)}}return{damageTrees:L,chances:C}}(e,s,c,t,d,a,i,0===e.apIds.length,n),u=o.damageTrees,p=o.chances,f=[t,t,t,t],j=function(e){l.forEach((function(t){var a=t.effectCondition,i=t.effectType,c=t.effectValue,s=t.startLevel,l=t.endLevel,d=t.damageWhen;if(void 0!==n){if(n<s||n>l)return}else if(r.target.routineLevel<s||r.target.routineLevel>l)return;var o,u=!1,p=Object(Ae.a)(d);try{for(p.s();!(o=p.n()).done;){var j=o.value;if(j===ae.Always){u=!0;break}var m=f[e][j];if(m&&m>0){u=!0;break}}}catch(h){p.e(h)}finally{p.f()}if(u&&Vr(a,e))switch(i){case te.RESTRAINED:!0!==f[e].Restrained&&(f[e]=Object(P.a)(Object(P.a)({},f[e]),{},{Flatfooted:!0,Grappled:!0,Restrained:!0}));break;case te.GRAPPLED:!0!==f[e].Grappled&&(f[e]=Object(P.a)(Object(P.a)({},f[e]),{},{Flatfooted:!0,Grappled:!0}));break;case te.PRONE:!0!==f[e].Prone&&(f[e]=Object(P.a)(Object(P.a)({},f[e]),{},{Flatfooted:!0,Prone:!0}));break;case te.FLATFOOT:!0!==f[e].Flatfooted&&(f[e]=Object(P.a)(Object(P.a)({},f[e]),{},{Flatfooted:!0}));break;case te.FRIGHTENED:c&&f[e].Frightened<c&&(f[e]=Object(P.a)(Object(P.a)({},f[e]),{},{Frightened:c}));break;case te.CLUMSY:c&&f[e].Clumsy<c&&(f[e]=Object(P.a)(Object(P.a)({},f[e]),{},{Clumsy:c}));break;case te.BONUSC1:c&&f[e]["Cicumstance Bonus to next attack"]<c&&(f[e]=Object(P.a)(Object(P.a)({},f[e]),{},{"Cicumstance Bonus to next attack":c}));break;case te.BONUSSA:c&&f[e]["Status Bonus to all attacks"]<c&&(f[e]=Object(P.a)(Object(P.a)({},f[e]),{},{"Status Bonus to all attacks":c}));break;default:console.log("Effect type ".concat(i," not implemented"))}})),u[e].persistent&&JSON.stringify(u[e].persistent)!==JSON.stringify(f[e].persistentDamages)&&(f[e]=Object(P.a)(Object(P.a)({},f[e]),{},{persistentDamages:u[e].persistent}))},m=0;m<4;m++)j(m);e.apIds.forEach((function(e){for(var t=r.activityPaths[e],c=new Map,s=0;s<4;s++)if(Vr(t.condition,s)){if(c.has(f[s]));else{var l=r.evalPath(t,f[s],a,i,n);c.set(f[s],l)}u[s].normal.damageDist=zr(u[s].normal.damageDist,c.get(f[s]))}}));var h=function(){for(var e=0,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];for(var n=0,r=a;n<r.length;n++){var c=r[n];e=Math.max(e,c.distribution.staticDamage+c.distribution.damageDist.length)}for(var s=[],l=0;l<e;l++){s.push(0);var d,o=Object(Ae.a)(a);try{for(o.s();!(d=o.n()).done;){var u=d.value;if(u.distribution.staticDamage<=l){var p=l-u.distribution.staticDamage;p<u.distribution.damageDist.length&&(s[l]+=u.distribution.damageDist[p]*u.chance)}}}catch(f){o.e(f)}finally{o.f()}}return s}({distribution:u[0].normal,chance:p[0]},{distribution:u[1].normal,chance:p[1]},{distribution:u[2].normal,chance:p[2]},{distribution:u[3].normal,chance:p[3]});return h}}]),e}(),Ur=a(95),_r=a.n(Ur),Kr=a(126),Yr=a.n(Kr),Jr=Object(ue.c)({name:"sharing",initialState:{graphUrl:"",singleLevelGraphUrl:"",imgLink:""},reducers:{graphSaved:function(e,t){e.graphUrl=t.payload},singleLevelGraphSaved:function(e,t){e.singleLevelGraphUrl=t.payload},saveImgLink:function(e,t){e.imgLink=t.payload}}}),Xr=Jr.actions,$r=Xr.graphSaved,qr=Xr.singleLevelGraphSaved,Qr=Xr.saveImgLink,Zr=Jr.reducer,ec=Yr()(_r.a),tc=function(e,t){var a=[],i={};if(t.target.percentSelectedRoutine&&void 0!==t.selectedRoutine)for(var n=e[t.selectedRoutine],r=1;r<=20;r++)if(t.canEvaluate(r,n)){var c=t.evalRoutine(n,0,0,r).expD;i[r]=c}for(var s in e){var l=e[s];if(l.display){for(var d=[],o=[],u=1;u<=20;u++)if(t.canEvaluate(u,l)){var p=t.evalRoutine(l,0,0,u).expD;t.target.percentSelectedRoutine?u in i&&(d.push(u),o.push(p/i[u])):(d.push(u),o.push(p))}a.push({type:"scatter",name:l.name,x:d,y:o,yaxis:"y"})}}return{datasets:a}},ac=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[],n=[];for(var r in e){var c=e[r];if(c.display&&t.canEvaluateSingleLevel(c)){for(var s=[],l=[],d=-5;d<=5;d++){s.push(d);var o=t.evalRoutine(c,a?d:0,a?0:d),u=o.expD;0===d&&n.push(Object(va.jsxs)("div",{children:[c.name,": ",u.toFixed(2)]},c.id)),l.push(u)}i.push({type:"scatter",name:c.name,x:s,y:l,yaxis:"y"})}}return{expectedDamages:n,datasets:i}},ic=function(e,t){var a=[],i=[];for(var n in e){var r=e[n];if(r.display&&t.canEvaluateSingleLevel(r)){var c=t.evalRoutine(r,0,0),s=c.expD,l=c.dataArray,d=c.routineDDist,o=c.cumulative;i.push(Object(va.jsxs)("div",{children:[r.name,": ",s.toFixed(2)]},r.id)),a.push({type:"scatter",name:r.name,x:l,y:o,yaxis:"y"}),a.push({type:"bar",name:s.toFixed(2),x:l,y:d})}}return{expectedDamages:i,datasets:a}},nc=function(e){var t=oe($n),a=oe(er),i=oe(ba),n=oe(ir),r=oe(cr),c=oe(Se),s=oe(sr),l=de(),d=function(e,t){_r.a.toImage(t,{format:"png",height:1e3,width:1e3}).then((function(e){l($r(e))}))},o=function(e,t){_r.a.toImage(t,{format:"png",height:1e3,width:1e3}).then((function(e){l(qr(e))}))},u=new Hr(a,i,n,r,c,s),p=i[0],f="@"+p.routineLevel,j=p.name;f+=" Vs",p.flatfooted&&(f+=" flatfooted"),f+=" AC: "+p.overrideAC,f+=" F: "+p.overrideFort,f+=" R: "+p.overrideRef,f+=" W: "+p.overrideWill,f+=" P: "+p.overridePer;var m,h=[];switch(e){case w.DISTRIBUTION:var b=ic(t,u);m=b.expectedDamages,h=b.datasets;break;case w.PMDEFENSE:var g=ac(t,u,!0);m=g.expectedDamages,h=g.datasets;break;default:var O=ac(t,u,!1);m=O.expectedDamages,h=O.datasets}var v,x,S=tc(t,u).datasets;return e===w.DISTRIBUTION?(v="damage",x="chance"):e===w.PMDEFENSE?(v="+/- AC/Save Bonus",x="Expected Damage"):e===w.PMRES&&(v="+/- Resistance/Weakness",x="Expected Damage"),{expectedDamages:m,damageChart:Object(va.jsx)(ec,{className:"plot",data:h,layout:{title:f,autosize:!0,xaxis:{title:v},yaxis:{title:x},legend:{x:0,y:-.2,xanchor:"left",yanchor:"top"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"},onInitialized:o,onUpdate:o}),byLevelDamageChart:Object(va.jsx)(ec,{className:"plot",data:S,layout:{title:j,autosize:!0,xaxis:{title:"Level"},yaxis:{title:"Expected Damage"},legend:{x:0,y:-.2,xanchor:"left",yanchor:"top"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"},onInitialized:d,onUpdate:d})}},rc=a(216),cc=a(224),sc=function(){var e=oe((function(e){return ha(e,0)})),t=e.routineLevel,a=e.targetLevel,i=e.overrideAC,n=e.overrideFort,r=e.overrideRef,c=e.overrideWill,s=e.overridePer,l=e.overrideHP,d=e.currentHP,o=e.weaknesses,u=Object(p.useState)(i.toString()),j=Object(R.a)(u,2),m=j[0],h=j[1],b=Object(p.useState)(n.toString()),g=Object(R.a)(b,2),v=g[0],x=g[1],S=Object(p.useState)(r.toString()),A=Object(R.a)(S,2),C=A[0],T=A[1],E=Object(p.useState)(c.toString()),I=Object(R.a)(E,2),P=I[0],w=I[1],L=Object(p.useState)(s.toString()),k=Object(R.a)(L,2),W=k[0],D=k[1],N=Object(p.useState)(l.toString()),F=Object(R.a)(N,2),z=F[0],M=F[1];Object(p.useEffect)((function(){h(i.toString()),x(n.toString()),T(r.toString()),w(c.toString()),D(s.toString()),M(l.toString())}),[i,n,r,c,s,l]);var B=de();return Object(va.jsxs)(f.a.Fragment,{children:[Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},sx:{my:1,p:1},alignItems:"center",children:[Object(va.jsxs)(O.a,{item:!0,xs:6,container:!0,justifyContent:"center",children:[Object(va.jsxs)(y.a,{id:"routine-level",children:["Level: ",t]}),Object(va.jsx)(rc.a,{sx:{px:2,width:1},children:Object(va.jsx)(ce.a,{"aria-labelledby":"routine-level",valueLabelDisplay:"auto",value:t,step:1,min:1,max:20,marks:!0,onChange:function(e,i){var n=Number(i)+(a-t);n=Math.min(24,Math.max(-1,n)),B(fa({id:0,changes:{routineLevel:i,targetLevel:n}}))}})})]}),Object(va.jsxs)(O.a,{item:!0,xs:6,container:!0,justifyContent:"center",children:[Object(va.jsxs)(y.a,{id:"target-level",children:["Target Level: ",a]}),Object(va.jsx)(rc.a,{sx:{px:2,width:1},children:Object(va.jsx)(ce.a,{"aria-labelledby":"target-level",valueLabelDisplay:"auto",value:a,step:1,min:-1,max:24,marks:!0,onChange:function(e,t){B(fa({id:0,changes:{targetLevel:t}}))}})})]})]}),Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},justifyContent:"center",children:[Object(va.jsx)(O.a,{item:!0,xs:4,sm:2,children:Object(va.jsx)(se.a,{fullWidth:!0,label:"AC",value:m,onChange:function(e){h(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(m);h(e.toString()),B(fa({id:0,changes:{overrideAC:e}}))},inputProps:{step:1,min:0,max:100,type:"number"}})}),Object(va.jsx)(O.a,{item:!0,xs:4,sm:2,children:Object(va.jsx)(se.a,{fullWidth:!0,label:"Fort",value:v,onChange:function(e){x(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(v);x(e.toString()),B(fa({id:0,changes:{overrideFort:e}}))},inputProps:{step:1,min:0,max:100,type:"number"}})}),Object(va.jsx)(O.a,{item:!0,xs:4,sm:2,children:Object(va.jsx)(se.a,{fullWidth:!0,label:"Ref",value:C,onChange:function(e){T(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(C);T(e.toString()),B(fa({id:0,changes:{overrideRef:e}}))},inputProps:{step:1,min:0,max:100,type:"number"}})}),Object(va.jsx)(O.a,{item:!0,xs:4,sm:2,children:Object(va.jsx)(se.a,{fullWidth:!0,label:"Will",value:P,onChange:function(e){w(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(P);w(e.toString()),B(fa({id:0,changes:{overrideWill:e}}))},inputProps:{step:1,min:0,max:100,type:"number"}})}),Object(va.jsx)(O.a,{item:!0,xs:4,sm:2,children:Object(va.jsx)(se.a,{fullWidth:!0,label:"Perception",value:W,onChange:function(e){D(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(W);D(e.toString()),B(fa({id:0,changes:{overridePer:e}}))},inputProps:{step:1,min:0,max:100,type:"number"}})})]}),Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},sx:{my:1,p:1},children:[Object(va.jsx)(O.a,{item:!0,xs:6,children:Object(va.jsx)(se.a,{fullWidth:!0,label:"Max Hit Points",value:z,onChange:function(e){M(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(z);M(e.toString()),B(fa({id:0,changes:{overrideHP:e}}))},inputProps:{step:1,min:1,max:1e3,type:"number"}})}),Object(va.jsxs)(O.a,{item:!0,xs:6,container:!0,justifyContent:"center",children:[Object(va.jsxs)(y.a,{id:"current-HP",children:["HP: ",d,"/",l]}),Object(va.jsx)(rc.a,{sx:{px:2,width:1},children:Object(va.jsx)(ce.a,{"aria-labelledby":"current-HP",valueLabelDisplay:"auto",value:d,min:0,max:l,step:1,onChange:function(e,t){var a=Number(t);B(fa({id:0,changes:{currentHP:a}}))}})})]})]}),Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},sx:{my:1,p:1},children:[Object(va.jsx)(O.a,{item:!0,container:!0,alignItems:"center",xs:"auto",children:Object(va.jsx)(y.a,{children:"Resistance/Weakness: "})}),o.map((function(e){return Object(va.jsx)(lc,{parentId:0,id:e},e)})),Object(va.jsx)(dc,{parentId:0})]})]})},lc=function(e){var t=e.id,a=e.parentId,i=oe((function(e){return xe(e,t)})),n=i.type,r=i.value,c=Object(p.useState)(r.toString()),s=Object(R.a)(c,2),l=s[0],d=s[1],o=de();return Object(va.jsxs)(O.a,{item:!0,children:[Object(va.jsx)(oc,{value:n,onChange:function(e){var i;(null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value)===q.NONE?o(he({id:t,parentId:a})):o(ge({id:t,changes:{type:e.target.value}}))}}),Object(va.jsx)(cc.a,{title:"Positive numbers are resistances. Negative numbers are weaknesses.",children:Object(va.jsx)(se.a,{size:"small",label:"Value",value:l,sx:{width:"9ch"},onChange:function(e){d(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(l);Number.isNaN(e)&&(e=0),d(e.toString()),o(ge({id:t,changes:{value:e}}))},inputProps:{step:1,min:-100,max:100,type:"number"}})})]})},dc=function(e){var t=e.parentId,a=de(),i=Object(p.useState)("0"),n=Object(R.a)(i,2),r=n[0],c=n[1];return Object(va.jsxs)(O.a,{item:!0,children:[Object(va.jsx)(oc,{value:q.NONE,onChange:function(e){if(e.target.value!==q.NONE){var i=Number(r);Number.isNaN(i)&&(i=0),a(be({type:e.target.value,value:i,parentId:t}))}}}),Object(va.jsx)(cc.a,{title:"Positive numbers are resistances. Negative numbers are weaknesses.",children:Object(va.jsx)(se.a,{size:"small",label:"Value",value:r,sx:{width:"9ch"},onChange:function(e){c(e.target.value)},inputProps:{step:1,min:-100,max:100,type:"number"}})})]})},oc=function(e){var t=e.value,a=e.onChange;return Object(va.jsxs)(ne.a,{size:"small",children:[Object(va.jsx)(re.a,{children:"Type"}),Object(va.jsx)(S.a,{label:"Type",value:t,onChange:function(e){return a(e)},children:ii})]})},uc=function(){var e=oe((function(e){return ha(e,0)})),t=e.persistentMultiplier,a=e.flatfooted,i=e.percentSelectedRoutine,n=Object(p.useState)(t.toString()),r=Object(R.a)(n,2),c=r[0],s=r[1],l=de();return Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(va.jsx)(O.a,{item:!0,xs:6,sm:3,md:6,lg:3,children:Object(va.jsx)(T.a,{control:Object(va.jsx)(E.a,{checked:a,onChange:function(e){return l(fa({id:0,changes:{flatfooted:e.target.checked}}))}}),label:"Flatfooted"})}),Object(va.jsx)(O.a,{item:!0,xs:6,sm:3,md:6,lg:3,children:Object(va.jsx)(se.a,{fullWidth:!0,label:"Persistent Damage Multiplier",value:c,onChange:function(e){s(e.target.value),e.target.focus()},onBlur:function(){var e=parseFloat(c);Number.isNaN(e)&&(e=0),s(e.toString()),l(fa({id:0,changes:{persistentMultiplier:e}}))},inputProps:{step:.1,min:0,max:10,type:"number"}})}),Object(va.jsx)(O.a,{item:!0,xs:12,sm:6,md:12,lg:6,children:Object(va.jsx)(T.a,{control:Object(va.jsx)(E.a,{checked:i,onChange:function(e){return l(fa({id:0,changes:{percentSelectedRoutine:e.target.checked}}))}}),label:"% of Selected Routine"})})]})},pc=a(127),fc=a.n(pc);x.a.initialize("G-JR2YK097BG");var jc=function(e){var t,a=e.byLevel,i=void 0===a||a,n=oe((function(e){return function(e,t){return t?e.sharing.graphUrl:e.sharing.singleLevelGraphUrl}(e,i)})).split(";base64,")[1],r=oe(pr),c=de(),s=Object(I.a)((function(e){return e.breakpoints.up("sm")})),l="",d=Object(Ae.a)(r);try{for(d.s();!(t=d.n()).done;){l+=t.value+" \r\n"}}catch(p){d.e(p)}finally{d.f()}l+="\n Graph made with https://bahalbach.github.io/PF2Calculator/ ";var o=new FormData;o.append("image",n),o.append("title","Graph from https://bahalbach.github.io/PF2Calculator/"),o.append("description",l);var u={method:"POST",headers:{Authorization:"Client-ID 9f68ffe6050491a"},body:o};return Object(va.jsx)(h.a,{onClick:function(){x.a.event("share");var e=window.open("about:blank");fetch("https://api.imgur.com/3/image",u).then((function(e){return e.json()})).then((function(t){console.log("description is ".concat(t.data.description)),c(Qr(t.data.link)),null!==e&&(e.location=t.data.link,e.focus())})).catch((function(t){console.error(t),alert("Upload failed: "+t),null===e||void 0===e||e.close()}))},variant:"contained",color:"secondary",endIcon:Object(va.jsx)(fc.a,{}),children:s?"Share with IMGUR":"Share"})},mc=function(){var e=Object(p.useState)(!0),t=Object(R.a)(e,2),a=t[0],i=t[1],n=Object(p.useState)(!1),r=Object(R.a)(n,2),c=r[0],s=r[1],l=Object(p.useState)(w.DISTRIBUTION),d=Object(R.a)(l,2),o=d[0],u=d[1],j=nc(o),m=j.expectedDamages,h=j.damageChart,b=j.byLevelDamageChart,g=Object(I.a)((function(e){return e.breakpoints.up("sm")})),v=500+19*m.length,x=v;return o===w.DISTRIBUTION&&(x+=19*m.length),Object(va.jsxs)(f.a.Fragment,{children:[Object(va.jsxs)(A.a,{sx:{p:1,my:2},children:[Object(va.jsxs)(O.a,{container:!0,children:[Object(va.jsx)(O.a,{item:!0,xs:!0,children:Object(va.jsx)(T.a,{control:Object(va.jsx)(E.a,{checked:a,onChange:function(){return i(!a)}}),label:g?"Display By Level Graph":"By Level Graph"})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(jc,{byLevel:!0})})]}),Object(va.jsxs)(C.a,{in:a,children:[Object(va.jsx)(ui,{}),Object(va.jsx)(uc,{}),Object(va.jsx)(rc.a,{sx:{height:v},children:b})]})]}),Object(va.jsxs)(A.a,{sx:{p:1,my:2},children:[Object(va.jsxs)(O.a,{container:!0,children:[Object(va.jsx)(O.a,{item:!0,xs:!0,children:Object(va.jsx)(T.a,{control:Object(va.jsx)(E.a,{checked:c,onChange:function(){return s(!c)}}),label:g?"Display Single Level Graph":"Single Level Graph"})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(jc,{byLevel:!1})})]}),Object(va.jsxs)(C.a,{in:c,children:[Object(va.jsx)(sc,{}),Object(va.jsx)(y.a,{children:"Expected damage: "}),m,Object(va.jsx)(S.a,{value:o,onChange:function(e){return u(e.target.value)},children:xa(w)}),Object(va.jsx)(rc.a,{sx:{height:x},children:h})]})]})]})},hc=a(242),bc=a(247),gc=a(230),Oc=a(218),vc=a(220),xc=a(219),Sc=a(246),yc=a(129),Ac=a.n(yc),Cc=a(128),Tc=a.n(Cc),Ec=a(46),Ic=a.n(Ec),Rc=function e(t){var a=t.id,i=t.level,n=t.displayChildren,r=void 0===n||n,c=oe((function(e){return Zn(e,a)})),s=c.parentId,l=c.routineId,d=c.name,o=c.condition,u=c.type,p=c.MAP,j=c.apIds,m=oe(lr),h=oe(dr),b=de(),g=Object(va.jsx)(Tc.a,{});if(u===G.SAVE)g=Object(va.jsx)(Ac.a,{});var O=u!==G.SAVE&&0!==Jt[p];return Object(va.jsxs)(f.a.Fragment,{children:[Object(va.jsx)(gc.a,{disablePadding:!0,secondaryAction:Object(va.jsx)(Sc.a,{edge:"end","aria-label":"delete",onClick:function(){return b(Mn({id:a,parentId:s,routineId:l}))},children:Object(va.jsx)(Ic.a,{})}),children:Object(va.jsxs)(Oc.a,{selected:m===a||h===a,sx:{pl:4*i+2},onClick:function(){return b(Rn(a))},children:[Object(va.jsx)(xc.a,{children:g}),Object(va.jsx)(vc.a,{primary:d+" "+(O?Jt[p]:""),secondary:i>0?o:""})]})}),r?j.map((function(t){return Object(va.jsx)(e,{id:t,level:i+1},t)})):""]})},Pc=a(130),wc=a.n(Pc),Lc=function(e){var t=e.title,a=e.label,i=e.value,n=e.onChange,r=e.children,c=e.fullWidth,s=void 0!==c&&c,l=Object(p.useState)(!1),d=Object(R.a)(l,2),o=d[0],u=d[1];return Object(va.jsx)(cc.a,{title:t,open:o,onFocus:function(){console.log("focus1"),u(!1)},children:Object(va.jsxs)(ne.a,{fullWidth:s,size:"small",onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},onFocus:function(){return u(!1)},sx:{minWidth:100},children:[Object(va.jsx)(re.a,{children:a}),Object(va.jsx)(S.a,{label:a,value:i,onChange:n,children:r})]})})},kc=function(e){for(var t={},a=0,i=0,n=0,r=1;r<=20;r++)e[n]&&e[n][0]===r&&((a=parseInt(e[n][1]))||(a=0),n++,i+=a),t[r]=i;return t},Wc=function(e,t,a){return e[t]=[a,e[t][1]],e.sort((function(e,t){return e[0]-t[0]})),kc(e)},Dc=function(e){var t=e.length>0?e[e.length-1]:[0,"0"];return e.push([t[0]+1,(0).toString()]),kc(e)},Nc=function(e,t,a,i,n){var r=function(e){for(var t=0,a=[],i=1;i<=20;i++)t!==e[i]&&(a.push([i,(e[i]-t).toString()]),t=e[i]);return a}(n),c=Object(p.useState)(r),s=Object(R.a)(c,2),l=s[0],d=s[1],o=JSON.stringify(r);Object(p.useEffect)((function(){return d(r)}),[o]);for(var u=[],f=function(n){u.push(Object(va.jsxs)(O.a,{item:!0,children:[Object(va.jsx)(Lc,{title:"The level where this bonus is added, all later levels will have this bonus added. Please only add 1 bonus per level. Bonuses of 0 are removed.",label:"Level",value:l[n][0],onChange:function(r){return t(a({id:i,changes:Object(ye.a)({},e,Wc(l,n,Number(r.target.value)))}))},children:Aa}),Object(va.jsx)(se.a,{size:"small",label:"Bonus",sx:{width:"9ch"},value:l[n][1],onChange:function(e){var t=l.slice();t[n]=[t[n][0],e.target.value],d(t),e.target.focus()},onBlur:function(){for(var n=l.slice(),r=0;r<l.length;r++)n[r]=[n[r][0],parseInt(n[r][1]).toString()];d(n),t(a({id:i,changes:Object(ye.a)({},e,kc(l))}))},inputProps:{step:1,min:-100,max:100,type:"number"}})]},n))},j=0;j<l.length;j++)f(j);return u.push(Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(cc.a,{title:"Add a bonus at a specified level.",children:Object(va.jsx)(Sc.a,{color:"primary","aria-label":"Add button",onClick:function(){return t(a({id:i,changes:Object(ye.a)({},e,Dc(l))}))},children:Object(va.jsx)(wc.a,{})})})},"addButton")),u},Fc=a(228),zc=a(221),Mc=function(e){var t=e.parentId,a=e.id,i=oe((function(e){return ar(e,a)})),n=i.damageCondition,r=i.damageType,c=i.material,s=i.persistent,l=i.multiplier,d=i.damageWhen,o=i.dieTrend,u=i.dieAdjustments,j=i.diceSize,m=i.fatal,b=i.fatalDie,g=i.damageTrend,v=i.damageAdjustments,x=de(),y=Object(p.useState)(!1),A=Object(R.a)(y,2),I=A[0],P=A[1],w=Nc("dieAdjustments",x,Bn,a,u),L=Nc("damageAdjustments",x,Bn,a,v),k=g.map((function(e,t){return Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Adds bonus damage that applies the appropriate amount of damage at appropriate levels. For 'Weapon' and 'Precise Strike' the bonus is the number of dice.",label:"Damage Trend",value:e,onChange:function(e){var i=g.slice();e.target.value===$.NONE?i.splice(t,1):i[t]=e.target.value,x(Bn({id:a,changes:{damageTrend:i}}))},children:Za})},t)}));return Object(va.jsxs)(f.a.Fragment,{children:[Object(va.jsx)(Bc,{damageInfo:{damageCondition:n,dieTrend:o,dieAdjustments:u,diceSize:j,fatal:m,fatalDie:b,damageTrend:g,damageAdjustments:v,persistent:s,damageType:r,multiplier:l},onClick:function(){return P(!I)},id:a,parentId:t}),Object(va.jsx)(C.a,{in:I,children:Object(va.jsxs)(rc.a,{sx:{mt:1,p:1,mb:1,"&:hover":{bgcolor:"rgb(50,50,50,.05)"}},children:[Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},sx:{mb:1},children:[Object(va.jsx)(O.a,{item:!0,xs:!0,children:Object(va.jsx)(Lc,{fullWidth:!0,title:"When this damage instance applies. For example: for extra damage on a critical hit, like with deadly or fatal weapons, use 'On Crit'. Don't forget to change when using a save instead of an attack.",value:n,label:"Condition",onChange:function(e){return x(Bn({id:a,changes:{damageCondition:e.target.value}}))},children:Ya})}),Object(va.jsx)(O.a,{item:!0,xs:!0,children:Object(va.jsxs)(ne.a,{size:"small",fullWidth:!0,children:[Object(va.jsx)(re.a,{id:"damage-when-input",children:"When Target"}),Object(va.jsx)(S.a,{labelId:"damage-when-input",id:"damage-when",multiple:!0,value:d,label:"When Target",renderValue:function(e){return e.join(" or ")},onChange:function(e){return x(Bn({id:a,changes:{damageWhen:e.target.value}}))},children:xa(ae)})]})})]}),Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"How much the damage is multiplied by. For example: if you want to average the damage of two different attacks, add both and set the multiplier to .5",value:l,label:"Multiplier",onChange:function(e){return x(Bn({id:a,changes:{multiplier:Number(e.target.value)}}))},children:ni})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsxs)(ne.a,{size:"small",children:[Object(va.jsx)(re.a,{id:"damage-type-input",children:"Type"}),Object(va.jsx)(S.a,{labelId:"damage-type-input",id:"damage-type",value:r,label:"Type",onChange:function(e){return x(Bn({id:a,changes:{damageType:e.target.value}}))},children:ti})]})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsxs)(ne.a,{size:"small",children:[Object(va.jsx)(re.a,{id:"damage-material-input",children:"Material"}),Object(va.jsx)(S.a,{labelId:"damage-material-input",id:"damage-material",value:c,label:"Material",onChange:function(e){return x(Bn({id:a,changes:{material:e.target.value}}))},children:ai})]})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(cc.a,{title:"If this damage is persistent. Persistent damage is multiplied by the 'Persistent Damage Multiplier' above the By Level graph.",children:Object(va.jsx)(T.a,{control:Object(va.jsx)(Fc.a,{checked:s,onChange:function(e){return x(Bn({id:a,changes:{persistent:e.target.checked}}))}}),label:"Persistent"})})})]}),Object(va.jsx)(zc.a,{textAlign:"left",sx:{mt:1,mb:1},children:"Dice"}),Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"When dice are added to the damage. At each level in (), 1 die of the selected size is added to the damage",value:o,label:"Damage Dice",onChange:function(e){return x(Bn({id:a,changes:{dieTrend:e.target.value}}))},children:Xa})}),w,Object(va.jsx)(O.a,{item:!0,children:Object(va.jsxs)(ne.a,{size:"small",children:[Object(va.jsx)(re.a,{id:"dice-size-input",children:"Die Size"}),Object(va.jsx)(S.a,{labelId:"dice-size-input",id:"dice-size",value:j,label:"Die Size",onChange:function(e){return x(Bn({id:a,changes:{diceSize:Number(e.target.value)}}))},children:qa})]})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(cc.a,{title:"For Fatal. If this damage uses a different die size on a crit. For Fatal you still need to add another die with the 'On Crit' Condition.",children:Object(va.jsx)(T.a,{control:Object(va.jsx)(E.a,{checked:m,onChange:function(e){return x(Bn({id:a,changes:{fatal:e.target.checked}}))}}),label:"On Crit Die"})})}),m?Object(va.jsx)(O.a,{item:!0,children:Object(va.jsxs)(ne.a,{size:"small",children:[Object(va.jsx)(re.a,{id:"fatal-size-input",children:"Die Size"}),Object(va.jsx)(S.a,{labelId:"fatal-size-input",id:"fatal-size",value:b,label:"Die Size",onChange:function(e){return x(Bn({id:a,changes:{fatalDie:Number(e.target.value)}}))},children:qa})]})}):""]}),Object(va.jsx)(zc.a,{textAlign:"left",sx:{mt:1,mb:1},children:"Static Damage"}),Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},children:[k,Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(cc.a,{title:"Adds bonus damage that applies the appropriate amount of damage at appropriate levels. For 'Weapon' and 'Precise Strike' the bonus is the number of dice.",children:Object(va.jsx)(h.a,{onClick:function(){var e=g.slice();e.push($.NONE),x(Bn({id:a,changes:{damageTrend:e}}))},children:"Add damage scaling"})})}),L]})]})})]})},Bc=function(e){var t,a=e.damageInfo,i=a.damageCondition,n=a.dieTrend,r=a.dieAdjustments,c=a.diceSize,s=a.fatal,l=a.fatalDie,d=a.damageTrend,o=a.damageAdjustments,u=a.persistent,f=a.damageType,j=a.multiplier,m=e.onClick,h=e.id,b=e.parentId,g=Object(p.useState)(20),v=Object(R.a)(g,2),x=v[0],S=v[1],A=de(),C=Xt[n][x]+r[x],T=o[x],E=Object(Ae.a)(d);try{for(E.s();!(t=E.n()).done;){var I=t.value;T+=$t[I][x]}}catch(k){E.e(k)}finally{E.f()}var P=T+(c+1)/2*C,w=" ("+C.toString()+"d"+l.toString()+" on Crit)",L=i+": "+C.toString()+"d"+c.toString()+(s?w:"")+(T?" + "+T.toString():"")+" (avg: "+P.toString()+") "+(u?"persistent ":"")+f+(1!==j?" x"+j:"");return Object(va.jsxs)(O.a,{container:!0,alignItems:"center",columnSpacing:{xs:2},children:[Object(va.jsx)(O.a,{item:!0,xs:"auto",children:Object(va.jsx)(Sc.a,{color:"primary",size:"small",onClick:function(e){A(Vn({id:h,parentId:b}))},children:Object(va.jsx)(Ic.a,{})})}),Object(va.jsx)(O.a,{item:!0,xs:"auto",sx:{ml:-2},children:Object(va.jsx)(Oc.a,{onClick:m,children:Object(va.jsx)(y.a,{variant:"h6",children:"Damage "})})}),Object(va.jsx)(O.a,{item:!0,sx:{ml:-2,mt:1,width:100},children:Object(va.jsx)(ce.a,{size:"small",value:x,min:1,max:20,marks:!0,onChange:function(e,t){return S(t)},valueLabelDisplay:"auto"})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(y.a,{component:"span",children:L+" at level "+x.toString()})})]})},Gc=function(e){var t=e.parentId,a=e.id,i=oe((function(e){return rr(e,a)})),n=i.effectCondition,r=i.effectType,c=i.effectValue,s=i.startLevel,l=i.endLevel,d=i.damageWhen,o=de(),u=Object(p.useState)(c?c.toString():"0"),j=Object(R.a)(u,2),m=j[0],h=j[1],b=Object.values(ee).includes(r),g=Object(p.useState)([s,l]),v=Object(R.a)(g,2),x=v[0],A=v[1];Object(p.useEffect)((function(){return A([s,l])}),[s,l]);var T=Object(p.useState)(!1),E=Object(R.a)(T,2),I=E[0],P=E[1];return Object(va.jsxs)(f.a.Fragment,{children:[Object(va.jsxs)(O.a,{container:!0,columnSpacing:{xs:2},alignItems:"center",children:[Object(va.jsx)(O.a,{item:!0,xs:"auto",children:Object(va.jsx)(Sc.a,{"aria-label":"delete",color:"primary",onClick:function(e){o(_n({id:a,parentId:t}))},children:Object(va.jsx)(Ic.a,{})})}),Object(va.jsx)(O.a,{item:!0,xs:"auto",sx:{ml:-2},children:Object(va.jsx)(Oc.a,{onClick:function(){return P(!I)},children:Object(va.jsx)(y.a,{variant:"h6",children:"Effect"})})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsxs)(y.a,{children:[n," ",": ",r," ",b?c:""]})})]}),Object(va.jsx)(C.a,{in:I,children:Object(va.jsxs)(rc.a,{sx:{p:1,mb:1,"&:hover":{bgcolor:"rgb(50,50,50,.05)"}},children:[Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},sx:{mb:1},children:[Object(va.jsx)(O.a,{item:!0,xs:!0,children:Object(va.jsx)(Lc,{fullWidth:!0,title:"When this effect applies, depending on the result of this activities roll. For example the spell 'fear' should have 'On Success' 'Frightened' '1', 'On Failure' 'Frightened' '2' etc.",value:n,label:"Condition",onChange:function(e){return o(Hn({id:a,changes:{effectCondition:e.target.value}}))},children:Ea})}),Object(va.jsx)(O.a,{item:!0,xs:!0,children:Object(va.jsxs)(ne.a,{size:"small",fullWidth:!0,children:[Object(va.jsx)(re.a,{id:"damage-when-input",children:"When Target"}),Object(va.jsx)(S.a,{labelId:"damage-when-input",id:"damage-when",multiple:!0,value:d,label:"When Target",renderValue:function(e){return e.join(" or ")},onChange:function(e){return o(Hn({id:a,changes:{damageWhen:e.target.value}}))},children:xa(ae)})]})})]}),Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"The effect that is applied to the target when 'Condition' is met.",value:r,label:"Effect",onChange:function(e){return o(Hn({id:a,changes:{effectType:e.target.value}}))},children:oi})}),b?Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(se.a,{size:"small",label:"Value",sx:{width:"9ch"},value:m,onChange:function(e){h(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(m);Number.isNaN(e)&&(e=0),h(e.toString()),o(Hn({id:a,changes:{effectValue:e}}))},inputProps:{step:1,min:0,max:10,type:"number"}})}):"",Object(va.jsxs)(O.a,{item:!0,sx:{px:2},children:[Object(va.jsxs)(y.a,{align:"center",children:["Valid Levels: ",s," to ",l]}),Object(va.jsx)(ce.a,{size:"small",getAriaLabel:function(){return"Valid levels"},value:x,min:1,max:20,marks:!0,onChange:function(e,t){return A(t)},onBlur:function(){return o(Hn({id:a,changes:{startLevel:x[0],endLevel:x[1]}}))},valueLabelDisplay:"auto",getAriaValueText:function(e){return"".concat(e)}})]})]})]})})]})};x.a.initialize("G-JR2YK097BG");var Vc=function e(t){var a=t.id,i=t.level,n=void 0===i?0:i,r=t.open,c=void 0!==r&&r,s=oe((function(e){return Zn(e,a)})),l=s.parentId,d=s.routineId,o=s.condition,u=s.name,j=s.type,m=s.MAP,b=s.damages,g=s.effects,v=s.apIds,S=de(),T=Object(p.useState)(u),E=Object(R.a)(T,2),I=E[0],P=E[1];Object(p.useEffect)((function(){return P(u)}),[u]);var w=Object(p.useState)(c),L=Object(R.a)(w,2),k=L[0],W=L[1],D=j!==G.SAVE&&0!==Jt[m];return Object(va.jsxs)(f.a.Fragment,{children:[Object(va.jsxs)(A.a,{sx:{my:2,p:1,ml:2*n},children:[Object(va.jsxs)(O.a,{container:!0,columnSpacing:{xs:1,sm:2},alignItems:"center",children:[Object(va.jsx)(O.a,{item:!0,xs:"auto",children:Object(va.jsx)(Sc.a,{color:"primary",size:"small",onClick:function(e){S(Mn({id:a,parentId:l,routineId:d}))},children:Object(va.jsx)(Ic.a,{})})}),Object(va.jsx)(O.a,{item:!0,xs:"auto",children:Object(va.jsx)(Oc.a,{onClick:function(){return W(!k)},children:Object(va.jsx)(y.a,{variant:"h6",children:"Activity"})})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsxs)(y.a,{children:[void 0!==l?o+": ":"",u,D?" "+Jt[m]:""]})})]}),Object(va.jsxs)(C.a,{in:k,mountOnEnter:!0,children:[Object(va.jsxs)(O.a,{container:!0,spacing:2,sx:{mt:1,px:1},children:[Object(va.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(va.jsx)(se.a,{fullWidth:!0,size:"small",label:"Activity Name",placeholder:"Fighter - Strike - d6 agile",value:I,onChange:function(e){P(e.target.value)},onBlur:function(){return S(Dn({id:a,changes:{name:I}}))}})}),void 0!==l?Object(va.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(va.jsx)(Lc,{title:'Depending on the roll of the parent activity, should this activity happen. For example: to add another strike only when you hit with the previous one, have the second strike be a child of the first with the condition "Success or Better"',value:o,label:"Condition",onChange:function(e){return S(Dn({id:a,changes:{condition:e.target.value}}))},children:Ea})}):""]}),Object(va.jsx)(Hc,{id:a}),b.map((function(e){return Object(va.jsx)(Mc,{parentId:a,id:e},e)})),Object(va.jsx)(h.a,{variant:"outlined",size:"small",onClick:function(){return S(Gn({parentId:a}))},children:"Add Damage"}),g.map((function(e){return Object(va.jsx)(Gc,{parentId:a,id:e},e)})),Object(va.jsx)(h.a,{variant:"outlined",size:"small",onClick:function(){return S(Un({parentId:a}))},children:"Add Effect"}),Object(va.jsx)(hc.a,{subheader:Object(va.jsx)(bc.a,{children:"Child Activities"}),children:v.map((function(e){return Object(va.jsx)(Rc,{id:e,level:0,displayChildren:!1},e)}))}),Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1},sx:{my:2,p:1},children:[Object(va.jsx)(O.a,{item:!0,container:!0,xs:6,justifyContent:"center",children:Object(va.jsx)(h.a,{variant:"contained",onClick:function(){window.location.href="#routine-activity-list",x.a.event("select_content",{content_type:"new-activity",item_id:"continue-activity"}),S(zn({parentId:a}))},children:"Continue Attack"})}),Object(va.jsx)(O.a,{item:!0,container:!0,xs:6,justifyContent:"center",children:Object(va.jsx)(h.a,{variant:"outlined",onClick:function(){window.location.href="#routine-activity-list",S(Pn({parentId:a}))},children:"New Child Activity"})})]})]})]}),v.map((function(t){return Object(va.jsx)(e,{id:t,level:n+1},t)}))]})},Hc=function(e){var t=e.id,a=oe((function(e){return Zn(e,t)})),i=a.rollType,n=a.type,r=a.profTrend,c=a.statTrend,s=a.itemTrend,l=a.bonusAdjustments,d=a.MAP,o=a.targetType,u=de(),j=Object(p.useState)(!1),m=Object(R.a)(j,2),h=m[0],b=m[1],g=n===G.SAVE,v=Nc("bonusAdjustments",u,Dn,t,l);return Object(va.jsxs)(f.a.Fragment,{children:[Object(va.jsx)(Uc,{rollInfo:{isSave:g,profTrend:r,statTrend:c,itemTrend:s,MAP:d,bonusAdjustments:l},onClick:function(){return b(!h)}}),Object(va.jsx)(C.a,{in:h,children:Object(va.jsx)(rc.a,{sx:{p:1,mb:1,"&:hover":{bgcolor:"rgb(50,50,50,.05)"}},children:Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},sx:{},children:[Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Advantage is rolling twice and taking the higher roll, disadvantage is taking the lower",label:"Roll Type",value:i,onChange:function(e){u(Dn({id:t,changes:{rollType:e.target.value}}))},children:Ra})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsxs)(ne.a,{size:"small",children:[Object(va.jsx)(re.a,{id:"activity-type-input",children:"Activity Type"}),Object(va.jsx)(S.a,{labelId:"activity-type-input",label:"Activity Type",value:n,onChange:function(e){u(Dn({id:t,changes:{type:e.target.value}}))},children:wa})]})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"An increase in proficiency (+2) is applied at each level in ()",label:"Proficiency",value:r,onChange:function(e){u(Dn({id:t,changes:{profTrend:e.target.value}}))},children:ka})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Bonuses from the listed ability score are applied at the appropriate levels. An ability score starts at the first value and is increased at levels 5, 10, 15, and 20 or until it reaches the second value listed. 'apex' means a bonus from an apex item is added to that score at the level in ()",label:"Ability Score",value:c,onChange:function(e){u(Dn({id:t,changes:{statTrend:e.target.value}}))},children:Da})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Item bonuses are applied at the levels in ().",label:"Item Bonus",value:s,onChange:function(e){u(Dn({id:t,changes:{itemTrend:e.target.value}}))},children:Fa})}),v,g?"":Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"The multiple attack penalty that is applied to this attack.",label:"MAP",value:d,onChange:function(e){u(Dn({id:t,changes:{MAP:e.target.value}}))},children:Ma})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"What defense is targeted",label:"Target Defense",value:o,onChange:function(e){u(Dn({id:t,changes:{targetType:e.target.value}}))},children:Ga})})]})})})]})},Uc=function(e){var t=e.rollInfo,a=t.isSave,i=t.MAP,n=t.profTrend,r=t.statTrend,c=t.itemTrend,s=t.bonusAdjustments,l=e.onClick,d=Object(p.useState)(20),o=Object(R.a)(d,2),u=o[0],f=o[1],j=0;return j=a?10:Jt[i],j+=_t[n][u],j+=Kt[r][u],j+=Yt[c][u],j+=s[u],Object(va.jsxs)(O.a,{container:!0,columnSpacing:{xs:2},alignItems:"center",children:[Object(va.jsx)(O.a,{item:!0,xs:"auto",children:Object(va.jsx)(Oc.a,{onClick:l,children:Object(va.jsx)(y.a,{variant:"h6",children:"Roll "})})}),Object(va.jsx)(O.a,{item:!0,sx:{ml:-2,mt:1,width:100},children:Object(va.jsx)(ce.a,{size:"small",value:u,min:1,max:20,marks:!0,onChange:function(e,t){return f(t)},valueLabelDisplay:"auto"})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(y.a,{children:(a?"DC ":" +")+j.toString()+" at level "+u.toString()})})]})};x.a.initialize("G-JR2YK097BG");var _c=function(e){var t=e.routineId,a=oe((function(e){return Xn(e,t)})),i=a.name,n=a.startLevel,r=a.endLevel,c=a.description,s=a.apIds,l=oe(lr),d=oe(or),o=de(),u=Object(p.useState)(i),j=Object(R.a)(u,2),m=j[0],b=j[1],g=Object(p.useState)(c),v=Object(R.a)(g,2),S=v[0],C=v[1],T=Object(p.useState)([n,r]),E=Object(R.a)(T,2),I=E[0],P=E[1];Object(p.useEffect)((function(){return b(i)}),[i]),Object(p.useEffect)((function(){return C(c)}),[c]),Object(p.useEffect)((function(){return P([n,r])}),[n,r]);var w=void 0===l&&!d;return Object(va.jsxs)(f.a.Fragment,{children:[Object(va.jsxs)(A.a,{sx:{my:2,p:1},children:[Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},sx:{p:1},children:[Object(va.jsx)(O.a,{item:!0,xs:12,sm:8,md:12,lg:8,children:Object(va.jsx)(se.a,{fullWidth:!0,label:"Routine Name",placeholder:"Fighter d8 2 strikes",value:m,onChange:function(e){b(e.target.value)},onBlur:function(){return o(Ln({id:t,changes:{name:m}}))}})}),Object(va.jsxs)(O.a,{item:!0,xs:12,sm:4,md:12,lg:4,children:[Object(va.jsxs)(y.a,{align:"center",children:["Valid Levels: ",n," to ",r]}),Object(va.jsx)(rc.a,{sx:{px:2},children:Object(va.jsx)(ce.a,{getAriaLabel:function(){return"Valid levels"},value:I,min:1,max:20,marks:!0,onChange:function(e,t){return P(t)},onBlur:function(){return o(Ln({id:t,changes:{startLevel:I[0],endLevel:I[1]}}))},valueLabelDisplay:"auto",getAriaValueText:function(e){return"".concat(e)}})})]}),Object(va.jsx)(O.a,{item:!0,xs:12,children:Object(va.jsx)(se.a,{fullWidth:!0,multiline:!0,label:"Routine Description",placeholder:"A Fighter making two strikes with a longsword. Critical Specialization at 5. 1d6 runes at 8 and 15.",value:S,onChange:function(e){C(e.target.value)},onBlur:function(){return o(Ln({id:t,changes:{description:S}}))}})})]}),Object(va.jsx)(hc.a,{id:"routine-activity-list",subheader:Object(va.jsx)(bc.a,{children:"Activities"}),children:s.map((function(e){return Object(va.jsx)(Rc,{id:e,level:0},e)}))}),Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1},sx:{my:2,p:1},children:[Object(va.jsx)(O.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(va.jsx)(h.a,{size:"small",fullWidth:!0,variant:"contained",onClick:function(){return o(Pn({routineId:t}))},children:"Create New Activity"})}),Object(va.jsx)(O.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(va.jsx)(h.a,{size:"small",fullWidth:!0,variant:"outlined",onClick:function(){x.a.event("select_content",{content_type:"new-activity",item_id:"empty-activity"}),o(Nn({routineId:t}))},children:"New Empty Activity"})}),Object(va.jsx)(O.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(va.jsx)(h.a,{size:"small",fullWidth:!0,variant:"outlined",onClick:function(){x.a.event("select_content",{content_type:"new-activity",item_id:"strike-activity"}),o(Nn({routineId:t,activityType:G.STRIKE}))},children:"New Martial Strike"})}),Object(va.jsx)(O.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(va.jsx)(h.a,{size:"small",fullWidth:!0,variant:"outlined",onClick:function(){x.a.event("select_content",{content_type:"new-activity",item_id:"save-activity"}),o(Nn({routineId:t,activityType:G.SAVE}))},children:"New Caster Save"})})]})]}),w?s.map((function(e){return Object(va.jsx)(Vc,{id:e,level:0},e)})):""]})},Kc=a(233),Yc=function(){var e=oe(qn),t=oe(sr),a=de(),i=[],n=[];return e.forEach((function(e){i.push(Object(va.jsx)(Oa.a,{value:e.id,children:e.name},e.id)),n.push(Object(va.jsx)(rc.a,{component:"li",sx:{margin:.5,maxWidth:1},children:Object(va.jsx)(Kc.a,{label:e.name,variant:e.display?"filled":"outlined",size:"small",color:"secondary",onClick:function(){a(Ln({id:e.id,changes:{display:!e.display}})),a(In(e.id))},onDelete:function(){return a(Wn(e.id))},sx:{maxWidth:1}})},e.id))})),Object(va.jsxs)(f.a.Fragment,{children:[Object(va.jsx)(A.a,{variant:"outlined",sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",listStyle:"none",p:.5,my:2},component:"ul",children:n}),Object(va.jsx)(A.a,{sx:{my:2,p:1},children:Object(va.jsxs)(O.a,{container:!0,spacing:1,children:[void 0!==t?Object(va.jsx)(O.a,{item:!0,xs:12,sm:6,md:12,lg:6,children:Object(va.jsxs)(ne.a,{fullWidth:!0,children:[Object(va.jsx)(re.a,{id:"select-routine-label",children:"Select Routine"}),Object(va.jsx)(S.a,{labelId:"select-routine-label",id:"select-routine",value:t,label:"Select Routine",onChange:function(e){return a(In(e.target.value))},children:i})]})}):"",Object(va.jsx)(O.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(va.jsx)(h.a,{variant:"contained",onClick:function(){a(kn({copy:!1}))},children:"Create New Routine"})}),Object(va.jsx)(O.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(va.jsx)(h.a,{variant:"outlined",onClick:function(){return a(kn({copy:!0}))},children:"Copy Selected Routine"})})]})})]})},Jc=function(){var e=oe(ur),t=oe(fr),a=Object(p.useState)(!1),i=Object(R.a)(a,2),n=i[0],r=i[1],c=Object(p.useState)(""),s=Object(R.a)(c,2),l=s[0],d=s[1],o=de();Object(p.useEffect)((function(){n||(t===W?(d("Import failed"),r(!0)):t===k&&(d("Import successful"),r(!0)))}),[t,n]);return Object(va.jsx)(A.a,{sx:{p:1},children:Object(va.jsxs)(O.a,{container:!0,children:[Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(h.a,{onClick:function(){o(Kn(l)),r(!1)},children:"Import"})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(h.a,{onClick:function(){d(JSON.stringify(e))},children:"Export"})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(h.a,{onClick:function(){void 0!==navigator.clipboard&&(navigator.clipboard.writeText(l),d("Copied"))},children:"Copy"})}),Object(va.jsx)(O.a,{item:!0,xs:12,children:Object(va.jsx)(se.a,{fullWidth:!0,multiline:!0,maxRows:5,label:"Routine code",placeholder:"Enter routine code here to import.",value:l,onChange:function(e){return d(e.target.value)}})})]})})},Xc=(a(168),a(222)),$c=a(234),qc=a(226),Qc=a(212);function Zc(e){e.routineId,e.parentId;var t=Object(p.useState)(fi.Strike),a=Object(R.a)(t,2),i=a[0],n=a[1];return Object(va.jsxs)(A.a,{sx:{my:2,p:1},children:[Object(va.jsxs)(ne.a,{fullWidth:!0,sx:{my:2,p:1},children:[Object(va.jsx)(re.a,{children:"Activity Type"}),Object(va.jsx)(S.a,{value:i,label:"Activity Type",onChange:function(e){n(e.target.value)},children:xa(fi)})]}),fi.Strike===i?Object(va.jsx)(es,{}):fi.Skill===i?Object(va.jsx)(as,{}):fi.Cantrip===i?Object(va.jsx)(is,{}):fi.Spell===i?Object(va.jsx)(ns,{}):""]})}function es(){var e=Object(p.useState)({cClass:mi[6],classOption:"",activity:"Strike",spell:Ti[0],attackScore:H.AS18a,damageScore:H.AS18a,cantripScore:H.AS16pp,numPrevStrikes:0,numStrikes:1,twf:!1,isStrikeSecondaryWeapon:[!1],previousHits:0,weapon1:{dieSize:8,traits:Object.fromEntries(Oi.map((function(e){return[e,!1]}))),deadlySize:8,fatalSize:10,critSpec:!1,critSpecLevel:5,critSpecType:vi[0],runes:X.RUNE2,numPrevStrikes:0},weapon2:{dieSize:8,traits:Object.fromEntries(Oi.map((function(e){return[e,!1]}))),deadlySize:8,fatalSize:10,critSpec:!1,critSpecLevel:5,critSpecType:vi[0],runes:X.RUNE2,numPrevStrikes:0}}),t=Object(R.a)(e,2),a=t[0],i=t[1],n=de();return Object(va.jsxs)(f.a.Fragment,{children:[Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},sx:{py:2},id:"create-new-activity",children:[Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Which class's proficiency and weapon specialization to use.",value:a.cClass,label:"Class",onChange:function(e){!function(e){var t=Object(P.a)({},a);t.cClass=e,gi[e].length>0?t.classOption=gi[e][0]:t.classOption="",i(t)}(e.target.value)},children:xa(mi)})}),gi[a.cClass].length>0?Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Which abilities are applied",value:a.classOption,label:"Class Option",onChange:function(e){i(Object(P.a)(Object(P.a)({},a),{},{classOption:e.target.value}))},children:xa(gi[a.cClass])})}):"",Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Which activity to use",value:a.activity,label:"Activity",onChange:function(e){var t=Object(P.a)({},a);t.activity=e.target.value,"Double Slice"===e.target.value&&(t.numStrikes=2,t.isStrikeSecondaryWeapon=[!1,!0]),i(t)},children:xa(bi)})}),"Spell Strike"===a.activity?Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Which spell to add to the strike",value:a.spell,label:"Spell",onChange:function(e){i(Object(P.a)(Object(P.a)({},a),{},{spell:e.target.value}))},children:xa(Ti)})}):"",Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"What ability score bonus progression to add to the attack roll.",value:a.attackScore,label:"Attack Abilitiy Score",onChange:function(e){i(Object(P.a)(Object(P.a)({},a),{},{attackScore:e.target.value}))},children:xa(H)})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"What ability score bonus progression to add to the damage roll.\r Not applied to ranged attacks.",value:a.damageScore,label:"Damage Abilitiy Score",onChange:function(e){i(Object(P.a)(Object(P.a)({},a),{},{damageScore:e.target.value}))},children:xa(H)})}),"Inventor"===a.cClass&&("Overdrive Success"===a.classOption||"Overdrive Critical"===a.classOption)||"Spell Strike"===a.activity?Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"What ability score bonus progression to add to the damage roll.",value:a.cantripScore,label:"Mental Abilitiy Score",onChange:function(e){i(Object(P.a)(Object(P.a)({},a),{},{cantripScore:e.target.value}))},children:xa(H)})}):""]}),Object(va.jsx)(ts,{weapon:a.weapon1,setWeapon:function(e){return i(Object(P.a)(Object(P.a)({},a),{},{weapon1:e}))}}),Object(va.jsx)(T.a,{control:Object(va.jsx)(E.a,{checked:a.twf,onChange:function(e){return i(Object(P.a)(Object(P.a)({},a),{},{twf:e.target.checked}))}}),label:"Use Two Weapons",sx:{py:2}}),a.twf?Object(va.jsx)(ts,{weapon:a.weapon2,setWeapon:function(e){return i(Object(P.a)(Object(P.a)({},a),{},{weapon2:e}))}}):"",Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},sx:{py:2},children:[Object(va.jsx)(O.a,{item:!0,xs:"auto",children:Object(va.jsx)(Lc,{title:"Select the number of previous attacks.",value:a.numPrevStrikes,label:"Previous Attacks",onChange:function(e){i(Object(P.a)(Object(P.a)({},a),{},{numPrevStrikes:Number(e.target.value)}))},children:xa([0,1,2])})}),"Double Slice"!==a.activity?Object(va.jsx)(O.a,{item:!0,xs:"auto",children:Object(va.jsx)(Lc,{title:"Select the number of attacks to make with the selected options.",value:a.numStrikes,label:"Number of Strikes",onChange:function(e){for(var t=Number(e.target.value),n=Object(P.a)({},a),r=[],c=0;c<t;c++)c<a.numStrikes?r.push(a.isStrikeSecondaryWeapon[c]):r.push(!1);n.numStrikes=t,n.isStrikeSecondaryWeapon=r,i(n)},children:xa([1,2,3,4,5,6])})}):"","Ranger"===a.cClass&&"Precision Edge"===a.classOption?Object(va.jsx)(O.a,{item:!0,xs:"auto",children:Object(va.jsx)(Lc,{title:"Select the number of previous hits.",value:a.previousHits,label:"Previous Hits",onChange:function(e){i(Object(P.a)(Object(P.a)({},a),{},{previousHits:Number(e.target.value)}))},children:xa([0,1,2,3])})}):"",Object(va.jsx)(O.a,{item:!0,xs:"auto",children:Object(va.jsx)(h.a,{variant:"contained",onClick:function(){x.a.event("select_content",{content_type:"create-new-strike",item_id:a.cClass}),n(Fn({strikeInfo:a}))},children:"Create New Activity"})})]}),a.twf&&"Double Slice"!==a.activity?Object(va.jsx)(Xc.a,{spacing:{xs:1,sm:2},children:a.isStrikeSecondaryWeapon.map((function(e,t){return Object(va.jsxs)(ne.a,{component:"fieldset",children:[Object(va.jsxs)(Qc.a,{component:"legend",children:["Strike ",t+1]}),Object(va.jsxs)($c.a,{row:!0,"aria-label":"strike-"+(t+1),value:e?2:1,onClick:function(e){var n=Object(P.a)({},a),r=a.isStrikeSecondaryWeapon.slice();r[t]="2"===e.target.value,n.isStrikeSecondaryWeapon=r,i(n)},children:[Object(va.jsx)(T.a,{value:1,control:Object(va.jsx)(qc.a,{}),label:"Weapon 1"}),Object(va.jsx)(T.a,{value:2,control:Object(va.jsx)(qc.a,{}),label:"Weapon 2"})]})]},t)}))}):""]})}function ts(e){var t=e.weapon,a=e.setWeapon;return Object(va.jsxs)(O.a,{container:!0,columnSpacing:{xs:1,sm:2},sx:{py:2},alignItems:"center",children:[Object(va.jsx)(O.a,{item:!0,xs:"auto",children:Object(va.jsx)(y.a,{variant:"h6",children:"Weapon"})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Weapon damage die",value:t.dieSize,label:"Damage Die",onChange:function(e){a(Object(P.a)(Object(P.a)({},t),{},{dieSize:Number(e.target.value)}))},children:qa})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(T.a,{control:Object(va.jsx)(E.a,{checked:t.critSpec,onChange:function(e){return a(Object(P.a)(Object(P.a)({},t),{},{critSpec:e.target.checked}))}}),label:"Critical Specialization"})}),t.critSpec?Object(va.jsxs)(O.a,{item:!0,children:[Object(va.jsxs)(y.a,{align:"center",id:"crit-spec-level",children:["At Level ",t.critSpecLevel]}),Object(va.jsx)(ce.a,{"aria-labelledby":"crit-spec-level",value:t.critSpecLevel,min:1,max:20,marks:!0,onChange:function(e,i){return a(Object(P.a)(Object(P.a)({},t),{},{critSpecLevel:Number(i)}))}})]}):"",t.critSpec?Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"What weapon group's effect to apply on a critical hit.",value:t.critSpecType,label:"Weapon Group",onChange:function(e){return a(Object(P.a)(Object(P.a)({},t),{},{critSpecType:e.target.value}))},children:xa(vi)})}):"",Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(A.a,{variant:"outlined",sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",listStyle:"none",p:.5,my:1},component:"ul",children:Oi.map((function(e,i){return Object(va.jsx)(b.a,{component:"li",sx:{margin:.5},children:Object(va.jsx)(Kc.a,{label:e,size:"small",color:"secondary",variant:t.traits[e]?"filled":"outlined",onClick:function(){var i=Object(P.a)(Object(P.a)({},t.traits),{},Object(ye.a)({},e,!t.traits[e]));a(Object(P.a)(Object(P.a)({},t),{},{traits:i}))}})},e)}))})}),t.traits.deadly?Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Deadly damage die.",value:t.deadlySize,label:"Deadly Die",onChange:function(e){a(Object(P.a)(Object(P.a)({},t),{},{deadlySize:Number(e.target.value)}))},children:qa})}):"",t.traits.fatal?Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Fatal damage die.",value:t.fatalSize,label:"Fatal Die",onChange:function(e){a(Object(P.a)(Object(P.a)({},t),{},{fatalSize:Number(e.target.value)}))},children:qa})}):"",Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"What levels the damages from property runes such as 'flaming' are applied.",value:t.runes,label:"Damage Rune Levels",onChange:function(e){a(Object(P.a)(Object(P.a)({},t),{},{runes:e.target.value}))},children:xa(ji)})})]})}function as(){var e=Object(p.useState)(V.MAXSKILL),t=Object(R.a)(e,2),a=t[0],i=t[1],n=Object(p.useState)(H.AS18a),r=Object(R.a)(n,2),c=r[0],s=r[1],l=Object(p.useState)(U.SKILL),d=Object(R.a)(l,2),o=d[0],u=d[1],f=Object(p.useState)(yi[0]),j=Object(R.a)(f,2),m=j[0],b=j[1],g={proficiency:a,abilityScore:c,itemBonus:o,skillActivity:m},v=de();return Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Select which proficiency progression to apply.",label:"Proficiency",value:a,onChange:function(e){i(e.target.value)},children:xa(xi)})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Select which ability score progression to apply.",label:"Ability Score",value:c,onChange:function(e){s(e.target.value)},children:xa(H)})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Select which item bonus progression to apply.",label:"Item Bonus",value:o,onChange:function(e){u(e.target.value)},children:xa(U)})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Select which skill activity to use.",label:"Activity",value:m,onChange:function(e){b(e.target.value)},children:xa(yi)})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(h.a,{variant:"contained",onClick:function(){x.a.event("select_content",{content_type:"create-new-skill",item_id:m}),v(Fn({skillInfo:g}))},children:"Create New Activity"})})]})}function is(){var e=Object(p.useState)(V.CASTERSPELL),t=Object(R.a)(e,2),a=t[0],i=t[1],n=Object(p.useState)(H.AS18a),r=Object(R.a)(n,2),c=r[0],s=r[1],l=Object(p.useState)(Ai[0]),d=Object(R.a)(l,2),o=d[0],u=d[1],f={proficiency:a,abilityScore:c,cantrip:o},j=de();return Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Select which proficiency progression to apply.",label:"Proficiency",value:a,onChange:function(e){i(e.target.value)},children:xa(Si)})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Select which ability score progression to apply.",label:"Ability Score",value:c,onChange:function(e){s(e.target.value)},children:xa(H)})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Select which cantrip to use.",label:"Cantrip",value:o,onChange:function(e){u(e.target.value)},children:xa(Ai)})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(h.a,{variant:"contained",onClick:function(){x.a.event("select_content",{content_type:"create-new-cantrip",item_id:o}),j(Fn({cantripInfo:f}))},children:"Create New Activity"})})]})}function ns(){var e=Object(p.useState)(V.CASTERSPELL),t=Object(R.a)(e,2),a=t[0],i=t[1],n=Object(p.useState)(H.AS18a),r=Object(R.a)(n,2),c=r[0],s=r[1],l=Object(p.useState)(Ci[0]),d=Object(R.a)(l,2),o=d[0],u=d[1],f={proficiency:a,abilityScore:c,spell:o},j=de();return Object(va.jsxs)(O.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Select which proficiency progression to apply.",label:"Proficiency",value:a,onChange:function(e){i(e.target.value)},children:xa(Si)})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Select which ability score progression to apply.",label:"Ability Score",value:c,onChange:function(e){s(e.target.value)},children:xa(H)})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(Lc,{title:"Select which spell to use.",label:"Spell",value:o,onChange:function(e){u(e.target.value)},children:xa(Ci)})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(h.a,{variant:"contained",onClick:function(){x.a.event("select_content",{content_type:"create-new-spell",item_id:o}),j(Fn({spellInfo:f}))},children:"Create New Activity"})})]})}x.a.initialize("G-JR2YK097BG"),x.a.initialize("G-JR2YK097BG");for(var rs=function(){var e=oe(sr),t=oe(lr),a=oe(or);return Object(p.useEffect)((function(){a&&(window.location.href="#create-new-activity",x.a.event("select_content",{content_type:"new-activity",item_id:"create-new-activity"}))}),[a]),Object(va.jsxs)(b.a,{sx:{},children:[Object(va.jsx)(Yc,{}),void 0!==e?Object(va.jsx)(_c,{routineId:e}):"",void 0!==t?Object(va.jsx)(Vc,{id:t,open:!0}):a?Object(va.jsx)(Zc,{}):"",Object(va.jsx)(Jc,{}),Object(va.jsxs)(O.a,{container:!0,sx:{mb:2,mt:0},justifyContent:"space-evenly",alignItems:"center",spacing:2,children:[Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(cs,{})}),Object(va.jsx)(O.a,{item:!0,children:Object(va.jsx)(ss,{})})]})]})},cs=function(){return Object(va.jsx)(b.a,{sx:{height:60,width:217},onClick:function(){return x.a.event("select_content",{content_type:"buy-me-a-coffee"})},children:Object(va.jsx)("a",{href:"https://www.buymeacoffee.com/bahalbach",target:"_blank",rel:"noreferrer",children:Object(va.jsx)("img",{src:"https://cdn.buymeacoffee.com/buttons/v2/default-red.png",alt:"Buy Me A Coffee",width:"217px",height:"60px"})})})},ss=function(){return Object(va.jsx)(h.a,{sx:{height:60,width:217},variant:"contained",color:"primary",href:"mailto:bahalbach@gmail.com",children:"Contact Me"})},ls=function(){var e=Object(I.a)((function(e){return e.breakpoints.up("md")}));return x.a.send("pageview"),Object(va.jsx)(f.a.Fragment,{children:Object(va.jsx)(g.a,{maxWidth:"xl",children:e?Object(va.jsxs)(O.a,{container:!0,columnSpacing:{xs:2,md:2,lg:3,xl:4},sx:{height:"100vh"},children:[Object(va.jsx)(O.a,{id:"container",item:!0,xs:12,md:6,sx:{height:"100%",overflow:"auto"},children:Object(va.jsx)(rs,{})}),Object(va.jsx)(O.a,{item:!0,xs:12,md:6,sx:{mt:0,height:1,overflow:"hidden auto"},children:Object(va.jsx)(mc,{})})]}):Object(va.jsxs)(f.a.Fragment,{children:[Object(va.jsx)(mc,{}),Object(va.jsx)(rs,{})]})})})},ds=['{"id":101,"name":"Fighter - 2 Strike - d12 Sword","display":false,"apIds":[{"name":"Fighter - Strike - d12 Sword","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":12,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1003},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1004}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1002}],"apIds":[{"name":"Fighter - Strike - d12 Sword","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"-5 (1x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":12,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1001},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1002}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1001}],"apIds":[],"id":1002,"parentId":1001}],"id":1001,"routineId":101}],"levelDiff":0,"description":"2 Strike with class Fighter () after 0 previous strikes. Weapon is d12 Sword","startLevel":1,"endLevel":20}','{"id":102,"name":"Fighter - 1 Power Attack - d12 Sword","display":false,"apIds":[{"name":"Fighter - Power Attack - d12 Sword","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":2,"11":2,"12":2,"13":2,"14":2,"15":2,"16":2,"17":2,"18":3,"19":3,"20":3},"diceSize":12,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1005},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1006}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1003}],"apIds":[],"id":1003,"routineId":102}],"levelDiff":0,"description":"1 Power Attack with class Fighter () after 0 previous strikes. Weapon is d12 Sword","startLevel":1,"endLevel":20}','{"id":103,"name":"Fighter - Double Slice - d6 fatal d10 Pick | d4 agile fatal d8 Pick","display":false,"apIds":[{"name":"Fighter - Double Slice - d6 fatal d10 Pick","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[],"effects":[],"apIds":[{"name":"Fighter - Double Slice - d4 agile fatal d8 Pick","type":"Strike","condition":"On Crit","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":2,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":10,"fatal":true,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1007},{"damageCondition":"Always","damageType":"fire","material":"none","persistent":false,"multiplier":2,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1008},{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"None","dieAdjustments":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"diceSize":10,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":4,"6":4,"7":4,"8":4,"9":4,"10":4,"11":4,"12":6,"13":6,"14":6,"15":6,"16":6,"17":6,"18":6,"19":8,"20":8},"id":1009},{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":4,"fatal":true,"fatalDie":8,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1010},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1011},{"damageCondition":"On Crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"None","dieAdjustments":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"diceSize":8,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":4,"6":4,"7":4,"8":4,"9":4,"10":4,"11":4,"12":6,"13":6,"14":6,"15":6,"16":6,"17":6,"18":6,"19":8,"20":8},"id":1012}],"effects":[],"apIds":[],"id":1005,"parentId":1004},{"name":"Fighter - Double Slice - d4 agile fatal d8 Pick","type":"Strike","condition":"On Success","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1013},{"damageCondition":"Always","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1014},{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":4,"fatal":true,"fatalDie":8,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1015},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1016},{"damageCondition":"On Crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"None","dieAdjustments":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"diceSize":8,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":4,"6":4,"7":4,"8":4,"9":4,"10":4,"11":4,"12":6,"13":6,"14":6,"15":6,"16":6,"17":6,"18":6,"19":8,"20":8},"id":1017}],"effects":[],"apIds":[],"id":1006,"parentId":1004},{"name":"Fighter - Double Slice - d4 agile fatal d8 Pick","type":"Strike","condition":"Failure or worse","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":4,"fatal":true,"fatalDie":8,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1018},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1019},{"damageCondition":"On Crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"None","dieAdjustments":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"diceSize":8,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":4,"6":4,"7":4,"8":4,"9":4,"10":4,"11":4,"12":6,"13":6,"14":6,"15":6,"16":6,"17":6,"18":6,"19":8,"20":8},"id":1020}],"effects":[],"apIds":[],"id":1007,"parentId":1004}],"id":1004,"routineId":103}],"levelDiff":0,"description":"2 Double Slice with class Fighter () after 0 previous strikes. Weapon is d6 fatal d10 Pick. Weapon two is d4 agile fatal d8 Pick","startLevel":1,"endLevel":20}','{"id":105,"name":"Rogue (Sneak Attack) - Double Slice - d6 deadly d8 Sword | d6 agile Sword","display":true,"apIds":[{"name":"Rogue (Sneak Attack) - Double Slice - d6 deadly d8 Sword","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Martial Weapon (5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1009}],"apIds":[{"name":"Rogue (Sneak Attack) - Double Slice - d6 agile Sword","type":"Strike","condition":"On Crit","rollType":"Normal","profTrend":"Martial Weapon (5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":2,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1025},{"damageCondition":"Always","damageType":"fire","material":"none","persistent":false,"multiplier":2,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1026},{"damageCondition":"Always","damageType":"precision","material":"none","persistent":false,"multiplier":2,"damageWhen":["Flatfooted"],"dieTrend":"Sneak Attack (1, 5, 11, 17)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1027},{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Deadly (1, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":8,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1028},{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1029},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1030}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1006}],"apIds":[],"id":1011,"parentId":1010},{"name":"Rogue (Sneak Attack) - Double Slice - d6 agile Sword","type":"Strike","condition":"On Success","rollType":"Normal","profTrend":"Martial Weapon (5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1031},{"damageCondition":"Always","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1032},{"damageCondition":"Failure or worse","damageType":"precision","material":"none","persistent":false,"multiplier":1,"damageWhen":["Flatfooted"],"dieTrend":"Sneak Attack (1, 5, 11, 17)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1033},{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1034},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1035},{"damageCondition":"x1 hit, x2 crit","damageType":"precision","material":"none","persistent":false,"multiplier":1,"damageWhen":["Flatfooted"],"dieTrend":"Sneak Attack (1, 5, 11, 17)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1036}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1007}],"apIds":[],"id":1012,"parentId":1010},{"name":"Rogue (Sneak Attack) - Double Slice - d6 agile Sword","type":"Strike","condition":"Failure or worse","rollType":"Normal","profTrend":"Martial Weapon (5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1037},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1038},{"damageCondition":"x1 hit, x2 crit","damageType":"precision","material":"none","persistent":false,"multiplier":1,"damageWhen":["Flatfooted"],"dieTrend":"Sneak Attack (1, 5, 11, 17)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1039}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1008}],"apIds":[],"id":1013,"parentId":1010}],"id":1010,"routineId":105}],"levelDiff":0,"description":"2 Double Slice with class Rogue (Sneak Attack) after 0 previous strikes. Weapon is d6 deadly d8 Sword. Weapon two is d6 agile Sword","startLevel":1,"endLevel":20}','{"id":2,"name":"Fireball","display":false,"apIds":[{"id":2,"condition":"Always","rollType":"Normal","type":"Save","profTrend":"Caster Spell (7, 15, 19)","statTrend":"18 to 24 apex(17)","itemTrend":"None","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"Ref","targetInfoId":0,"damages":[{"id":7,"damageCondition":"Basic save","dieTrend":"2 x Spell Level","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"damageType":"fire","material":"none","persistent":false,"multiplier":1}],"effects":[],"apIds":[]}],"levelDiff":0,"description":"A 2d6 / spell level basic reflex save.","startLevel":1,"endLevel":20}'],os={},us=1;us<=20;us++)os[us]=0;var ps=function(){var e=Object(ue.a)({reducer:{routines:Yn,weaknesses:Oe,targets:ja,sharing:Zr}});e.dispatch(pa({id:0,name:"AC: High, Saves: Moderate",levelDiff:0,persistentMultiplier:2,ACTrend:N.HIGH,FortTrend:F.MODERATE,RefTrend:F.MODERATE,WillTrend:F.MODERATE,PerTrend:F.MODERATE,HPTrend:z.MODERATE,percentHP:100,flatfooted:!1,percentSelectedRoutine:!1,weaknesses:[],graphType:w.DISTRIBUTION,routineLevel:1,targetLevel:1,overrideAC:16,overrideFort:7,overrideRef:7,overrideWill:7,overridePer:7,overrideHP:20,currentHP:20}));try{if(null===localStorage.getItem("routineState")){e.dispatch(wn({id:0,name:"Baseline",display:!0,apIds:[],levelDiff:0,description:"No damage. Just so graphs display 0 with autoscalling.",startLevel:1,endLevel:20}));var t,a=Object(Ae.a)(ds);try{for(a.s();!(t=a.n()).done;){var i=t.value;e.dispatch(Kn(i))}}catch(n){a.e(n)}finally{a.f()}e.dispatch(In(2))}}catch(r){}return e}(),fs=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function js(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ms=a(117),hs=a(55),bs=Object(ms.a)({palette:{primary:{main:hs.a[900]},background:{default:"#222222"}}}),gs=a(235);m.a.render(Object(va.jsx)(f.a.StrictMode,{children:Object(va.jsx)(le.a,{store:ps,children:Object(va.jsxs)(gs.a,{theme:bs,children:[Object(va.jsx)(u.a,{}),Object(va.jsx)(ls,{})]})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/PF2Calculator",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/PF2Calculator","/service-worker.js");fs?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var i=a.headers.get("content-type");404===a.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):js(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):js(t,e)}))}}()}},[[169,1,2]]]);
//# sourceMappingURL=main.f888fb59.chunk.js.map