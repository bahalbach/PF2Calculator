{"version":3,"sources":["Target/weaknessSlice.js","Target/targetSlice.js","Model/types.js","Routines/routineSlice.js","Target/TargetInput.js","Model/defaults.js","Calculation/Distribution.js","Calculation/Calculation.js","Calculation/EvaluateActivityPath.js","Model/options.js","Display/useGenerateGraphs.js","Display/Display.js","Routines/LevelList.js","Routines/Damage.js","Routines/Effect.js","Routines/ActivityPath.js","Routines/SelectedRoutine.js","Routines/Routines.js","Sharing/Export.js","PF2App.js","store.js","Model/exampleRoutines.js","serviceWorker.js","index.js"],"names":["weaknessAdapter","createEntityAdapter","weakness","weaknessesSlice","createSlice","name","initialState","getInitialState","reducers","weaknessAdded","addOne","weaknessUpdated","updateOne","weaknessCreated","reducer","state","action","payload","id","type","value","prepare","parentId","weaknessRemoved","removeOne","actions","getSelectors","weaknesses","selectweaknessById","selectById","selectweaknessEntities","selectIds","selectEntities","targetAdapter","selectAll","selectTotal","targetsSlice","targetAdded","targetUpdated","changes","match","level","extraReducers","builder","addCase","weaknessId","entities","push","filter","wid","targets","selecttargetById","selecttargetEntities","graphTypes","DISTRIBUTION","PMDEFENSE","PMRES","ACTrends","LOW","MODERATE","HIGH","EXTREME","SaveTrends","TERRIBLE","conditions","ALWAYS","CRIT","SUCC","FAIL","CRIF","AT_LEAST_SUCC","AT_LEAST_FAIL","FAIL_WORSE","SUCC_WORSE","rollTypes","NORMAL","ADVANTAGE","DISADVANTAGE","activityTypes","STRIKE","SAVE","profTrends","TRAINED","FIGHTERWEAPON","MARTIALWEAPON","CASTERWEAPON","ALCHWEAPON","CASTERSPELL","CLASSDC1","CLASSDC2","MCSPELL","MAXSKILL","statTrends","AS10","AS18a","AS16a","AS16pp","AS16p","AS14pp","AS14p","itemTrends","NONE","WEAPON","SKILL","MAPs","N1","N2","N3","A1","A2","A3","R1","R2","R3","RA1","RA2","RA3","RAA1","RAA2","RAA3","nextMAPs","defenses","AC","FORT","REF","WILL","PER","DC","dCond","BASIC","dieTrends","SPELLLEVEL1","SPELLLEVEL2","LEVEL","HALFLEVEL","RUNE","RUNE2","DEADLY","SNEAK","STRATEGIC","PRECISE","PRECISIONEDGE","PRECISIONEDGE2","PRECISIONEDGE3","damageTrends","FIGHTERWEAPONSPEC","MARTIALWEAPONSPEC","CASTERWEAPONSPEC","RAGE","ANIMALRAGE","DRAGONRAGE","GIANTRAGE","IMPLEMENT","damageTypes","B","P","S","FIRE","materials","COLD_IRON","SILVER","ADAMANTINE","effectTypes","FLATFOOT","FRIGHTENED1","FRIGHTENED2","FRIGHTENED3","FRIGHTENED4","Weakness","useSelector","dispatch","useDispatch","className","onChange","e","target","isNaN","parseInt","AddWeakness","useState","weaknessValue","setWeaknessValue","WeaknessSelect","options","dt","key","m","TargetInput","levelDiff","ACTrend","FortTrend","RefTrend","WillTrend","PerTrend","flatfooted","ACOptions","dv","SaveOptions","htmlFor","placeholder","checked","map","routinesAdapter","activityPathAdapter","damageAdapter","effectAdapter","routineId","activityPathId","damageId","effectId","empty","i","defaultStrikeParent","rollType","profTrend","statTrend","itemTrend","bonusAdjustments","MAP","targetType","damages","effects","defaultSaveParent","defaultDamage","damageCondition","damageType","material","persistent","multiplier","dieTrend","dieAdjustments","diceSize","fatal","fatalDie","damageTrend","damageAdjustments","removeActivityPaths","ids","index","length","ap","activityPaths","apIds","removeMany","copyDamages","newDamages","did","damage","copyEffects","newEffects","eid","effect","copyActivityPaths","newApIds","apId","getActivityPaths","newAps","aps","getDamages","getEffects","validateActivityPaths","Array","isArray","Object","values","includes","condition","validateAdjustments","validateDamages","validateEffects","console","log","adjustments","effectCondition","effectType","startLevel","endLevel","insertActivityPaths","insertDamages","insertEffects","routinesSlice","selectedRoutine","routines","setRoutine","routineAdded","routineUpdated","activityPathAdded","activityPathUpdated","damageAdded","damageUpdated","effectAdded","effectUpdated","routineCreated","copy","routine","display","description","routineRemoved","childrenIds","undefined","activityPathCreated","parentAP","isStrike","applyMAP","activityPathRemoved","damageCreated","damageRemoved","effectCreated","effectRemoved","importRoutine","routineObject","JSON","parse","insertRoutine","error","selectRoutineById","selectRoutineEntities","selectAllRoutines","selectactivityPathById","selectactivityPathEntities","selectdamageById","selectdamageEntities","selecteffectById","selecteffectEntities","selectSelectedRoutine","selectSelectedRoutineObject","convolve","vec1","vec2","Error","volume","kernel","displacement","convVec","j","consolidateDists","maxDamage","dists","dist","Math","max","staticDamage","damageDist","applyMin","min","shift","zero","halfLevel","trained","maxSkill","maxScore","score16pp","score16p","score16","score14p","score14","martialProf","alchProf","casterProf","spellProf","weaponItem","skillItem","weaponDice","spellDice","spellDice2","floor","runes","runes2","deadly","sneak","strategic","precise","preEdge1","preEdge2","preEdge3","martialSpec","casterSpec","rage","animalrage","dragonrage","giantrage","implementEmpower","fighterAB","martialAB","casterAB","alchAB","casterSpellAttack","casterSaveDC","classdc1","classdc2","mcspell","fighterStatic","fighterRanged","martialStatic","martialRanged","casterStatic","casterRanged","profTrendValues","statTrendValues","itemTrendValues","MAPvalues","dieTrendValues","damageTrendValues","extremeAC","highAC","moderateAC","lowAC","defaultACs","defaultSaves","standardDC","addDamage","context","normal","dam","newDist","newDam","oldValue","chance","newValue","diff","multiplyDist","validateCondition","degreeOfSuccess","indicies","ActivityPathEvaluator","this","ACBonus","resBonus","initialTargetState","frightened","dataArray","cumulative","PdataArray","Pcumulative","expD","expP","routineDDist","routinePDDist","activityPath","evalPath","PdamageDist","currentSum","targetState","defenseBonus","resistanceBonus","currentTarget","currentDamages","currentEffects","currentWeaknesses","activity","bonus","targetValue","critPercent","dif","getCritSuccessPercent","succPercent","getSuccessPercent","failPercent","getFailurePercent","crfaPercent","getCritFailurePercent","notcrit","nothit","notfail","notcrfa","notsucc","chances","critDamages","succDamages","failDamages","crfaDamages","damageTrees","forEach","diceNum","fatalDist","diceArray","damageTree","damageQuality","totalStaticDamage","totalDamageDist","maxW","maxR","calculateExpectedDamage","targetStates","evaluations","Map","has","pathDist","pathPDist","set","get","Plot","createPlotlyComponent","Plotly","evaluateByLevel","evaluator","datasets","perDatasets","levelArray","expDbyLevel","expPDbyLevel","canEvaluate","evalRoutine","x","y","yaxis","evaluatePM","displayLevel","defense","expectedDamages","expectedPersistentDamages","bonusArray","expDbyBonus","expPDbyBonus","toFixed","evaluateDistribution","useGenerateGraphs","graphType","title","byLevelTile","xtitle","ytitle","byLeveldatasets","byLevelperDatasets","damageChart","classname","data","layout","autosize","xaxis","legend","xanchor","margin","l","r","useResizeHandler","style","width","height","persistentDamageChart","byLevelDamageChart","byLevelPerDamageChart","Display","addPersistent","setAddPersistent","setGraphType","setDisplayLevel","graphTypeOptions","gt","displayLevelOptions","BYLEVEL","levelOptions","conditionOptions","c","rollOptions","rt","activityTypeOptions","at","profTrendOptions","bt","statTrendOptions","itemBTrendOptions","MAPOptions","defenseOptions","d","damageConditionOptions","dc","dieTrendOptions","diceSizeOptions","ds","damageTrendOptions","damageTypeOptions","materialOptions","multiplierOptions","effectTypeOptions","et","generateAdjustments","entries","currentValue","currentIndex","adjustmentsFromLevelChange","newLevel","sort","a","b","adjustmentsFromNewEntry","lastValue","LevelList","baseEntries","generateEntries","setEntries","be","stringify","useEffect","levelList","newEntries","slice","focus","onBlur","onClick","Damage","dieLevelList","damageLevelList","damageTrendList","newdt","splice","parseFloat","Effect","ActivityPath","displayCondition","bonusLevelList","NameInput","baseName","setName","Fragment","DescriptionInput","baseDescription","setDescription","SelectedRoutine","Routines","routineOptions","routineDisplays","ImportExport","textAreaRef","useRef","textValue","setTextValue","current","select","setSelectionRange","navigator","clipboard","writeText","ref","ReactGA","initialize","PF2App","props","send","Export","exampleRoutines","pickCritSpec","one","store","configureStore","routineReducer","weaknessReducer","targetReducer","targetInfoId","Boolean","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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pI,EACP,EAAblH,GAEF,MAEF,KAAKpG,EAAMC,MACTyR,GACE0D,EACAnP,EACAC,EACAC,EACAkH,EACAC,EACa,GAAblH,GAEFsL,GACE2D,EACApP,EACAC,EACAC,EACAkH,EACAC,EACa,EAAblH,GAEFsL,GACE4D,EACArP,EACAC,EACAC,EACAkH,EACAC,EACa,EAAblH,GAEF,MAEF,KAAKpG,EAAM3D,KACTqV,GACE4D,EACArP,EACAC,EACAC,EACAkH,EACAC,EACa,EAAblH,GAEF,MAEF,KAAKpG,EAAM5D,KACTsV,GACE2D,EACApP,EACAC,EACAC,EACAkH,EACAC,EACa,EAAblH,GAEF,MAEF,KAAKpG,EAAM7D,KACTuV,GACE0D,EACAnP,EACAC,EACAC,EACAkH,EACAC,EACa,EAAblH,GAEF,MAEF,KAAKpG,EAAM9D,KACTwV,GACEyD,EACAlP,EACAC,EACAC,EACAkH,EACAC,EACa,EAAblH,GAEF,MAEF,KAAKpG,EAAM1D,cACToV,GACE0D,EACAnP,EACAC,EACAC,EACAkH,EACAC,EACa,EAAblH,GAEFsL,GACEyD,EACAlP,EACAC,EACAC,EACAkH,EACAC,EACa,EAAblH,GAEF,MAEF,KAAKpG,EAAMzD,cACTmV,GACE2D,EACApP,EACAC,EACAC,EACAkH,EACAC,EACa,EAAblH,GAEFsL,GACE0D,EACAnP,EACAC,EACAC,EACAkH,EACAC,EACa,EAAblH,GAEFsL,GACEyD,EACAlP,EACAC,EACAC,EACAkH,EACAC,EACa,EAAblH,GAEF,MAEF,KAAKpG,EAAMxD,WACTkV,GACE4D,EACArP,EACAC,EACAC,EACAkH,EACAC,EACa,EAAblH,GAEFsL,GACE2D,EACApP,EACAC,EACAC,EACAkH,EACAC,EACa,EAAblH,GAEF,MAEF,KAAKpG,EAAMvD,WACTiV,GACE4D,EACArP,EACAC,EACAC,EACAkH,EACAC,EACa,EAAblH,GAEFsL,GACE2D,EACApP,EACAC,EACAC,EACAkH,EACAC,EACa,EAAblH,GAEFsL,GACE0D,EACAnP,EACAC,EACAC,EACAkH,EA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","file":"static/js/main.11e92675.chunk.js","sourcesContent":["import { createEntityAdapter, createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const weaknessAdapter = createEntityAdapter();\r\n\r\nlet weakness = 0;\r\n\r\nexport const weaknessesSlice = createSlice({\r\n  name: \"weaknesses\",\r\n  initialState: weaknessAdapter.getInitialState(),\r\n  reducers: {\r\n    weaknessAdded: weaknessAdapter.addOne,\r\n    weaknessUpdated: weaknessAdapter.updateOne,\r\n    weaknessCreated: {\r\n      reducer: (state, action) => {\r\n        const { id, type, value } = action.payload;\r\n        weaknessAdapter.addOne(state, { id, type, value });\r\n      },\r\n      prepare: ({ parentId, type, value }) => {\r\n        const id = ++weakness;\r\n        return {\r\n          payload: {\r\n            id,\r\n            parentId,\r\n            type,\r\n            value,\r\n          },\r\n        };\r\n      },\r\n    },\r\n    weaknessRemoved: weaknessAdapter.removeOne,\r\n  },\r\n});\r\n\r\nexport const {\r\n  weaknessRemoved,\r\n  weaknessCreated,\r\n  weaknessAdded,\r\n  weaknessUpdated,\r\n} = weaknessesSlice.actions;\r\n\r\nexport default weaknessesSlice.reducer;\r\n\r\nexport const {\r\n  selectById: selectweaknessById,\r\n  selectIds: selectweaknessIds,\r\n  selectEntities: selectweaknessEntities,\r\n  selectAll: selectAllweaknesses,\r\n  selectTotal: selectTotalweaknesses,\r\n} = weaknessAdapter.getSelectors((state) => state.weaknesses);\r\n","import { createEntityAdapter, createSlice } from \"@reduxjs/toolkit\";\r\n// import { defaultACs, defaultSaves } from \"../defaults\";\r\n// import { defenses } from \"../types\";\r\nimport { weaknessCreated, weaknessRemoved } from \"./weaknessSlice\";\r\n\r\nexport const targetAdapter = createEntityAdapter();\r\n\r\nexport const targetsSlice = createSlice({\r\n  name: \"targets\",\r\n  initialState: targetAdapter.getInitialState(),\r\n  reducers: {\r\n    targetAdded: targetAdapter.addOne,\r\n    targetUpdated: {\r\n      prepare: ({ id, changes, match, level }) => {\r\n        if (!level) level = 1;\r\n        if (level < 1) level = 1;\r\n        if (level > 20) level = 20;\r\n        return { payload: { id, changes, match, level } };\r\n      },\r\n      reducer: (state, action) => {\r\n        targetAdapter.updateOne(state, action.payload);\r\n        // const target = state.entities[action.payload.id];\r\n        // if (!target.level) target.level = 0;\r\n        // if (target.level < -1) target.level = -1;\r\n        // if (target.level > 24) target.level = 24;\r\n        // if (target.useDefaultAC) {\r\n        //   target[defenses.AC] = defaultACs[target.defaultAC][target.level];\r\n        // }\r\n        // if (target.useDefaultFort) {\r\n        //   target[defenses.FORT] =\r\n        //     defaultSaves[target.defaultFort][target.level];\r\n        // }\r\n        // if (target.useDefaultRef) {\r\n        //   target[defenses.REF] = defaultSaves[target.defaultRef][target.level];\r\n        // }\r\n        // if (target.useDefaultWill) {\r\n        //   target[defenses.WILL] =\r\n        //     defaultSaves[target.defaultWill][target.level];\r\n        // }\r\n        // if (target.useDefaultPer) {\r\n        //   target[defenses.PER] = defaultSaves[target.defaultPer][target.level];\r\n        // }\r\n      },\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(weaknessCreated, (state, action) => {\r\n        const { parentId: id, id: weaknessId } = action.payload;\r\n        state.entities[id].weaknesses.push(weaknessId);\r\n        // targetAdded.updateOne(state, { id, changes: { weaknesses: [...weaknesses, weaknessId] }});\r\n      })\r\n      .addCase(weaknessRemoved, (state, action) => {\r\n        const { parentId: id, id: weaknessId } = action.payload;\r\n        state.entities[id].weaknesses = state.entities[id].weaknesses.filter(\r\n          (wid) => wid !== weaknessId\r\n        );\r\n      });\r\n  },\r\n});\r\n\r\nexport const { targetAdded, targetUpdated } = targetsSlice.actions;\r\n\r\nexport default targetsSlice.reducer;\r\n\r\nexport const {\r\n  selectById: selecttargetById,\r\n  selectIds: selecttargetIds,\r\n  selectEntities: selecttargetEntities,\r\n  selectAll: selectAlltargets,\r\n  selectTotal: selectTotaltargets,\r\n} = targetAdapter.getSelectors((state) => state.targets);\r\n","export const graphTypes = {\r\n  DISTRIBUTION: \"Damage Distribution\",\r\n  PMDEFENSE: \"+/- AC/Save Bonus\",\r\n  PMRES: \"+/- Resistance/Weakness\",\r\n};\r\n\r\nexport const ACTrends = {\r\n  LOW: \"Low\",\r\n  MODERATE: \"Moderate\",\r\n  HIGH: \"High\",\r\n  EXTREME: \"Extreme\",\r\n};\r\n\r\nexport const SaveTrends = {\r\n  TERRIBLE: \"Terrible\",\r\n  LOW: \"Low\",\r\n  MODERATE: \"Moderate\",\r\n  HIGH: \"High\",\r\n  EXTREME: \"Extreme\",\r\n};\r\n\r\nexport const conditions = {\r\n  ALWAYS: \"Always\",\r\n  CRIT: \"On Crit\",\r\n  SUCC: \"On Success\",\r\n  FAIL: \"On Failure\",\r\n  CRIF: \"On Crit Fail\",\r\n  AT_LEAST_SUCC: \"Success or better\",\r\n  AT_LEAST_FAIL: \"Failure or better\",\r\n  FAIL_WORSE: \"Failure or worse\",\r\n  SUCC_WORSE: \"Success or worse\",\r\n};\r\n\r\nexport const rollTypes = {\r\n  NORMAL: \"Normal\",\r\n  ADVANTAGE: \"Advantage\",\r\n  DISADVANTAGE: \"Disadvantage\",\r\n};\r\n\r\nexport const activityTypes = {\r\n  STRIKE: \"Strike\",\r\n  SAVE: \"Save\",\r\n};\r\n\r\nexport const profTrends = {\r\n  TRAINED: \"Trained Proficiency\",\r\n  FIGHTERWEAPON: \"Fighter Weapon (1, 5, 13)\",\r\n  MARTIALWEAPON: \"Martial Weapon (5, 13)\",\r\n  CASTERWEAPON: \"Caster Weapon (11)\",\r\n  ALCHWEAPON: \"Alchemist Weapon (7)\",\r\n  CASTERSPELL: \"Caster Spell (7, 15, 19)\",\r\n  CLASSDC1: \"Class/Spell (9, 17)\",\r\n  CLASSDC2: \"Class/Spell (11, 19)\",\r\n  MCSPELL: \"MC Spell (12, 18)\",\r\n  MAXSKILL: \"Max skill (3, 7, 15)\",\r\n};\r\n\r\nexport const statTrends = {\r\n  AS10: \"10\",\r\n  AS18a: \"18 to 24 apex(17)\",\r\n  AS16a: \"16 to 22 apex(17)\",\r\n  AS16pp: \"16 to 20\",\r\n  AS16p: \"16 to 18\",\r\n  AS14pp: \"14 to 20\",\r\n  AS14p: \"14 to 18\",\r\n};\r\n\r\nexport const itemTrends = {\r\n  NONE: \"None\",\r\n  WEAPON: \"Weapon (2, 10, 16)\",\r\n  SKILL: \"Skill (3, 9, 17)\",\r\n};\r\n\r\nexport const MAPs = {\r\n  N1: \"0 (0x-5)\",\r\n  N2: \"-5 (1x-5)\",\r\n  N3: \"-10 (2x-5)\",\r\n  A1: \"0 (0x-4)\",\r\n  A2: \"-4 (1x-4)\",\r\n  A3: \"-8 (2x-4)\",\r\n  R1: \"0 (0x-3)\",\r\n  R2: \"-3 (1x-3)\",\r\n  R3: \"-6 (2x-3)\",\r\n  RA1: \"0 (0x-2)\",\r\n  RA2: \"-2 (1x-2)\",\r\n  RA3: \"-4 (2x-2)\",\r\n  RAA1: \"0 (0x-1)\",\r\n  RAA2: \"-1 (1x-1)\",\r\n  RAA3: \"-2 (2x-1)\",\r\n};\r\n\r\nexport const nextMAPs = {\r\n  \"0 (0x-5)\": \"-5 (1x-5)\",\r\n  \"-5 (1x-5)\": \"-10 (2x-5)\",\r\n  \"-10 (2x-5)\": \"-10 (2x-5)\",\r\n  \"0 (0x-4)\": \"-4 (1x-4)\",\r\n  \"-4 (1x-4)\": \"-8 (2x-4)\",\r\n  \"-8 (2x-4)\": \"-8 (2x-4)\",\r\n  \"0 (0x-3)\": \"-3 (1x-3)\",\r\n  \"-3 (1x-3)\": \"-6 (2x-3)\",\r\n  \"-6 (2x-3)\": \"-6 (2x-3)\",\r\n  \"0 (0x-2)\": \"-2 (1x-2)\",\r\n  \"-2 (1x-2)\": \"-4 (2x-2)\",\r\n  \"-4 (2x-2)\": \"-4 (2x-2)\",\r\n  \"0 (0x-1)\": \"-1 (1x-1)\",\r\n  \"-1 (1x-1)\": \"-2 (2x-1)\",\r\n  \"-2 (2x-1)\": \"-2 (2x-1)\",\r\n};\r\n\r\nexport const defenses = {\r\n  AC: \"AC\",\r\n  FORT: \"Fort\",\r\n  REF: \"Ref\",\r\n  WILL: \"Will\",\r\n  PER: \"Perception\",\r\n  DC: \"Standard DC\",\r\n};\r\n\r\nexport const dCond = {\r\n  STRIKE: \"x1 hit, x2 crit\",\r\n  BASIC: \"Basic save\",\r\n  ALWAYS: \"Always\",\r\n  CRIT: \"On Crit\",\r\n  SUCC: \"On Success\",\r\n  FAIL: \"On Failure\",\r\n  CRIF: \"On Crit Fail\",\r\n  AT_LEAST_SUCC: \"Success or better\",\r\n  AT_LEAST_FAIL: \"Failure or better\",\r\n  FAIL_WORSE: \"Failure or worse\",\r\n  SUCC_WORSE: \"Success or worse\",\r\n};\r\n\r\nexport const dieTrends = {\r\n  NONE: \"None\",\r\n  WEAPON: \"Weapon (1, 4, 12, 19)\",\r\n  SPELLLEVEL1: \"1 x Spell Level\",\r\n  SPELLLEVEL2: \"2 x Spell Level\",\r\n  LEVEL: \"Level\",\r\n  HALFLEVEL: \"1/2 Level\",\r\n  RUNE: \"Runes (8, 15)\",\r\n  RUNE2: \"Runes (8, 10, 16)\",\r\n  DEADLY: \"Deadly (1, 12, 19)\",\r\n  SNEAK: \"Sneak Attack (1, 5, 11, 17)\",\r\n  STRATEGIC: \"Strategic Strike (1, 5, 9, 13, 17)\",\r\n  PRECISE: \"Precise Strike (1, 1, 5, 9, 13, 17)\",\r\n  PRECISIONEDGE: \"Precision Edge 1(1, 11, 19)\",\r\n  PRECISIONEDGE2: \"Precision Edge 2(17, 19)\",\r\n  PRECISIONEDGE3: \"Precision Edge 3(19)\",\r\n};\r\n\r\nexport const damageTrends = {\r\n  NONE: \"None\",\r\n  FIGHTERWEAPONSPEC: \"Fighter Weapon Specialization\",\r\n  MARTIALWEAPONSPEC: \"Martial Weapon Specializaton\",\r\n  CASTERWEAPONSPEC: \"Caster Weapon Specializaton\",\r\n  ...statTrends,\r\n  WEAPON: \"Weapon (1, 4, 12, 19)\",\r\n  SPELLLEVEL1: \"1 x Spell Level\",\r\n  LEVEL: \"Level\",\r\n  HALFLEVEL: \"1/2 Level\",\r\n  RAGE: \"Rage\",\r\n  ANIMALRAGE: \"Animal Rage\",\r\n  DRAGONRAGE: \"Dragon Rage\",\r\n  GIANTRAGE: \"Giant Rage\",\r\n  IMPLEMENT: \"Implement's Empowerment\",\r\n};\r\n\r\nexport const damageTypes = {\r\n  NONE: \"None\",\r\n  B: \"bludgeoning\",\r\n  P: \"piercing\",\r\n  S: \"slashing\",\r\n  FIRE: \"fire\",\r\n};\r\n\r\nexport const materials = {\r\n  NONE: \"none\",\r\n  COLD_IRON: \"cold iron\",\r\n  SILVER: \"silver\",\r\n  ADAMANTINE: \"adamantine\",\r\n};\r\n\r\nexport const effectTypes = {\r\n  FLATFOOT: \"Flatfooted\",\r\n  FRIGHTENED1: \"Frightened 1\",\r\n  FRIGHTENED2: \"Frightened 2\",\r\n  FRIGHTENED3: \"Frightened 3\",\r\n  FRIGHTENED4: \"Frightened 4\",\r\n};\r\n\r\nexport const diceNums = {\r\n  0: 0,\r\n  1: 1,\r\n  2: 2,\r\n  3: 3,\r\n  4: 4,\r\n  5: 5,\r\n  6: 6,\r\n  7: 7,\r\n  8: 8,\r\n  9: 9,\r\n  10: 10,\r\n  11: 11,\r\n  12: 12,\r\n  13: 13,\r\n  14: 14,\r\n  15: 15,\r\n  16: 16,\r\n  17: 17,\r\n  18: 18,\r\n  19: 19,\r\n  20: 20,\r\n};\r\n\r\nexport const diceSizes = {\r\n  4: 4,\r\n  6: 6,\r\n  8: 8,\r\n  10: 10,\r\n  12: 12,\r\n};\r\n","import { createEntityAdapter, createSlice } from \"@reduxjs/toolkit\";\r\nimport {\r\n  activityTypes,\r\n  conditions,\r\n  profTrends,\r\n  defenses,\r\n  MAPs,\r\n  nextMAPs,\r\n  rollTypes,\r\n  statTrends,\r\n  itemTrends,\r\n  effectTypes,\r\n  damageTrends,\r\n} from \"../Model/types\";\r\nimport { damageTypes, dCond, dieTrends, materials } from \"../Model/types\";\r\n\r\nexport const routinesAdapter = createEntityAdapter();\r\nexport const activityPathAdapter = createEntityAdapter();\r\nexport const damageAdapter = createEntityAdapter();\r\nexport const effectAdapter = createEntityAdapter();\r\n\r\nlet routineId = 100;\r\nlet activityPathId = 1000;\r\nlet damageId = 1000;\r\nlet effectId = 1000;\r\n\r\nconst empty = {};\r\nfor (let i = 1; i <= 20; i++) {\r\n  empty[i] = 0;\r\n}\r\nconst defaultStrikeParent = {\r\n  rollType: rollTypes.NORMAL,\r\n  type: activityTypes.STRIKE,\r\n  profTrend: profTrends.MARTIALWEAPON,\r\n  statTrend: statTrends.AS18a,\r\n  itemTrend: itemTrends.WEAPON,\r\n  bonusAdjustments: { ...empty },\r\n  MAP: MAPs.N1,\r\n  targetType: defenses.AC,\r\n\r\n  damages: [0, 1],\r\n  effects: [0],\r\n};\r\nconst defaultSaveParent = {\r\n  rollType: rollTypes.NORMAL,\r\n  type: activityTypes.SAVE,\r\n  profTrend: profTrends.CASTERSPELL,\r\n  statTrend: statTrends.AS18a,\r\n  itemTrend: itemTrends.NONE,\r\n  bonusAdjustments: { ...empty },\r\n  MAP: MAPs.N1,\r\n  targetType: defenses.REF,\r\n\r\n  damages: [2],\r\n  effects: [],\r\n};\r\nconst defaultDamage = {\r\n  damageCondition: dCond.STRIKE,\r\n  damageType: damageTypes.S,\r\n  material: materials.NONE,\r\n  persistent: false,\r\n  multiplier: 1,\r\n\r\n  dieTrend: dieTrends.NONE,\r\n  dieAdjustments: { ...empty },\r\n  diceSize: 6,\r\n  fatal: false,\r\n  fatalDie: 10,\r\n  damageTrend: [],\r\n  damageAdjustments: { ...empty },\r\n};\r\n\r\nconst removeActivityPaths = (state, ids) => {\r\n  let index = 0;\r\n  while (index < ids.length) {\r\n    let ap = state.activityPaths.entities[ids[index]];\r\n    ids.push(...ap.apIds);\r\n    damageAdapter.removeMany(state.damages, ap.damages);\r\n    effectAdapter.removeMany(state.effects, ap.effects);\r\n    activityPathAdapter.removeOne(state.activityPaths, ap.id);\r\n    index += 1;\r\n  }\r\n};\r\nconst copyDamages = (state, damages) => {\r\n  const newDamages = [];\r\n  for (let did of damages) {\r\n    let damage = state.damages.entities[did];\r\n    // create a new damage entity and add it's id to newDamages\r\n    const id = ++damageId;\r\n    damageAdapter.addOne(state.damages, { ...damage, id });\r\n    newDamages.push(id);\r\n  }\r\n  return newDamages;\r\n};\r\nconst copyEffects = (state, effects) => {\r\n  const newEffects = [];\r\n  for (let eid of effects) {\r\n    let effect = state.effects.entities[eid];\r\n    // create a new effect entity and add it's id to newEffects\r\n    const id = ++effectId;\r\n    effectAdapter.addOne(state.effects, { ...effect, id });\r\n    newEffects.push(id);\r\n  }\r\n  return newEffects;\r\n};\r\nconst copyActivityPaths = (state, apIds) => {\r\n  let newApIds = [];\r\n  for (let apId of apIds) {\r\n    const ap = state.activityPaths.entities[apId];\r\n    const apIds = copyActivityPaths(state, ap.apIds);\r\n    const damages = copyDamages(state, ap.damages);\r\n    const effects = copyEffects(state, ap.effects);\r\n    const id = ++activityPathId;\r\n    activityPathAdapter.addOne(state.activityPaths, {\r\n      ...ap,\r\n      id,\r\n      damages,\r\n      effects,\r\n      apIds,\r\n    });\r\n    newApIds.push(id);\r\n  }\r\n  return newApIds;\r\n};\r\nconst getActivityPaths = (state, apIds) => {\r\n  let newAps = [];\r\n  for (let apId of apIds) {\r\n    const ap = state.activityPaths.entities[apId];\r\n    const aps = getActivityPaths(state, ap.apIds);\r\n    const damages = getDamages(state, ap.damages);\r\n    const effects = getEffects(state, ap.effects);\r\n    newAps.push({ ...ap, apIds: aps, damages, effects });\r\n  }\r\n  return newAps;\r\n};\r\nconst getDamages = (state, damages) => {\r\n  let newDamages = [];\r\n  for (let did of damages) {\r\n    const damage = state.damages.entities[did];\r\n    newDamages.push({ ...damage });\r\n  }\r\n  return newDamages;\r\n};\r\nconst getEffects = (state, effects) => {\r\n  let newEffects = [];\r\n  for (let eid of effects) {\r\n    const damage = state.effects.entities[eid];\r\n    newEffects.push({ ...damage });\r\n  }\r\n  return newEffects;\r\n};\r\n\r\nconst validateRoutine = (routine) => {\r\n  return (\r\n    typeof routine.name === \"string\" &&\r\n    typeof routine.display === \"boolean\" &&\r\n    typeof routine.levelDiff === \"number\" &&\r\n    typeof routine.description === \"string\" &&\r\n    validateActivityPaths(routine.apIds) &&\r\n    typeof routine.startLevel === \"number\" &&\r\n    typeof routine.endLevel === \"number\"\r\n  );\r\n};\r\nconst validateActivityPaths = (apIds) => {\r\n  if (Array.isArray(apIds)) {\r\n    for (let apId of apIds) {\r\n      if (\r\n        !(\r\n          Object.values(conditions).includes(apId.condition) &&\r\n          Object.values(rollTypes).includes(apId.rollType) &&\r\n          Object.values(activityTypes).includes(apId.type) &&\r\n          Object.values(profTrends).includes(apId.profTrend) &&\r\n          Object.values(statTrends).includes(apId.statTrend) &&\r\n          Object.values(itemTrends).includes(apId.itemTrend) &&\r\n          validateAdjustments(apId.bonusAdjustments) &&\r\n          Object.values(MAPs).includes(apId.MAP) &&\r\n          Object.values(defenses).includes(apId.targetType) &&\r\n          validateActivityPaths(apId.apIds) &&\r\n          validateDamages(apId.damages) &&\r\n          validateEffects(apId.effects)\r\n        )\r\n      ) {\r\n        // console.log(apId);\r\n        // console.log(\r\n        //   Object.values(conditions).includes(apId.condition) &&\r\n        //     Object.values(rollTypes).includes(apId.rollType) &&\r\n        //     Object.values(activityTypes).includes(apId.type)\r\n        // );\r\n        // console.log(\r\n        //   Object.values(profTrends).includes(apId.profTrend) &&\r\n        //     Object.values(statTrends).includes(apId.statTrend) &&\r\n        //     Object.values(itemTrends).includes(apId.itemTrend)\r\n        // );\r\n        // console.log(\r\n        //   Object.values(MAPs).includes(apId.MAP) &&\r\n        //     Object.values(defenses).includes(apId.targetType)\r\n        // );\r\n        // console.log(validateActivityPaths(apId.apIds));\r\n        // console.log(validateDamages(apId.damages));\r\n        // console.log(validateEffects(apId.effects));\r\n        // console.log(validateAdjustments(apId.bonusAdjustments));\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n  console.log(\"6\");\r\n  return false;\r\n};\r\nconst validateAdjustments = (adjustments) => {\r\n  if (typeof adjustments !== \"object\") {\r\n    console.log(\"1\");\r\n    return false;\r\n  }\r\n  for (let i = 1; i <= 20; i++) {\r\n    if (typeof adjustments[i] !== \"number\") {\r\n      console.log(2);\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n};\r\nconst validateDamages = (damages) => {\r\n  if (Array.isArray(damages)) {\r\n    for (let damage of damages) {\r\n      if (Array.isArray(damage.damageTrend)) {\r\n        for (let dt of damage.damageTrend) {\r\n          if (!Object.values(damageTrends).includes(dt)) {\r\n            console.log(\"3\");\r\n            return false;\r\n          }\r\n        }\r\n      } else {\r\n        console.log(\"4\");\r\n        return false;\r\n      }\r\n      if (\r\n        !(\r\n          Object.values(dCond).includes(damage.damageCondition) &&\r\n          Object.values(dieTrends).includes(damage.dieTrend) &&\r\n          validateAdjustments(damage.dieAdjustments) &&\r\n          typeof damage.diceSize === \"number\" &&\r\n          typeof damage.fatal === \"boolean\" &&\r\n          typeof damage.fatalDie === \"number\" &&\r\n          validateAdjustments(damage.damageAdjustments) &&\r\n          Object.values(damageTypes).includes(damage.damageType) &&\r\n          Object.values(materials).includes(damage.material) &&\r\n          typeof damage.persistent === \"boolean\" &&\r\n          [0.5, 1, 2].includes(damage.multiplier)\r\n        )\r\n      ) {\r\n        console.log(damage);\r\n        console.log(\r\n          Object.values(dCond).includes(damage.damageCondition) &&\r\n            Object.values(dieTrends).includes(damage.dieTrend)\r\n        );\r\n        console.log(\r\n          typeof damage.diceSize === \"number\" &&\r\n            typeof damage.fatal === \"boolean\" &&\r\n            typeof damage.fatalDie === \"number\"\r\n        );\r\n        console.log(\r\n          Object.values(damageTypes).includes(damage.damageType) &&\r\n            Object.values(materials).includes(damage.material) &&\r\n            typeof damage.persistent === \"boolean\"\r\n        );\r\n\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n};\r\nconst validateEffects = (effects) => {\r\n  if (Array.isArray(effects)) {\r\n    for (let effect of effects) {\r\n      if (\r\n        !(\r\n          Object.values(conditions).includes(effect.effectCondition) &&\r\n          Object.values(effectTypes).includes(effect.effectType) &&\r\n          typeof effect.startLevel === \"number\" &&\r\n          typeof effect.endLevel === \"number\"\r\n        )\r\n      ) {\r\n        console.log(effect);\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n};\r\nconst insertRoutine = (state, routine) => {\r\n  const apIds = insertActivityPaths(state, routine.apIds);\r\n  const id = ++routineId;\r\n  routinesAdapter.addOne(state.routines, { ...routine, id, apIds });\r\n  return id;\r\n};\r\nconst insertActivityPaths = (state, aps) => {\r\n  let newApIds = [];\r\n  for (let ap of aps) {\r\n    const apIds = insertActivityPaths(state, ap.apIds);\r\n    const damages = insertDamages(state, ap.damages);\r\n    const effects = insertEffects(state, ap.effects);\r\n    const id = ++activityPathId;\r\n    activityPathAdapter.addOne(state.activityPaths, {\r\n      ...ap,\r\n      id,\r\n      damages,\r\n      effects,\r\n      apIds,\r\n    });\r\n    newApIds.push(id);\r\n  }\r\n  return newApIds;\r\n};\r\nconst insertDamages = (state, damages) => {\r\n  const newDamages = [];\r\n  for (let damage of damages) {\r\n    // create a new damage entity and add it's id to newDamages\r\n    const id = ++damageId;\r\n    damageAdapter.addOne(state.damages, { ...damage, id });\r\n    newDamages.push(id);\r\n  }\r\n  return newDamages;\r\n};\r\nconst insertEffects = (state, effects) => {\r\n  const newEffects = [];\r\n  for (let effect of effects) {\r\n    // create a new effect entity and add it's id to newEffects\r\n    const id = ++effectId;\r\n    effectAdapter.addOne(state.effects, { ...effect, id });\r\n    newEffects.push(id);\r\n  }\r\n  return newEffects;\r\n};\r\n// if ( true ) {\r\n//   const id = ++routineId;\r\n\r\n//   routinesAdapter.addOne(state.routines, {\r\n//       id,\r\n//       name: \"New Routine\",\r\n//       display: true,\r\n//       apIds: [],\r\n//       levelDiff: 0,\r\n//       description: \"Enter a description here.\",\r\n//       startLevel: 1,\r\n//       endLevel: 20,\r\n//     });\r\n\r\n//   state.selectedRoutine = id;\r\n// }\r\n\r\nexport const routinesSlice = createSlice({\r\n  name: \"routines\",\r\n  initialState: {\r\n    selectedRoutine: 1,\r\n    routines: routinesAdapter.getInitialState(),\r\n    activityPaths: activityPathAdapter.getInitialState(),\r\n    damages: damageAdapter.getInitialState(),\r\n    effects: effectAdapter.getInitialState(),\r\n  },\r\n  reducers: {\r\n    setRoutine: (state, action) => {\r\n      state.selectedRoutine = action.payload || 0;\r\n    },\r\n\r\n    routineAdded: (state, action) => {\r\n      routinesAdapter.addOne(state.routines, action);\r\n    },\r\n    routineUpdated: (state, action) => {\r\n      routinesAdapter.updateOne(state.routines, action);\r\n    },\r\n    activityPathAdded: (state, action) => {\r\n      activityPathAdapter.addOne(state.activityPaths, action);\r\n    },\r\n    activityPathUpdated: (state, action) => {\r\n      activityPathAdapter.updateOne(state.activityPaths, action);\r\n    },\r\n    damageAdded: (state, action) => {\r\n      damageAdapter.addOne(state.damages, action);\r\n    },\r\n    damageUpdated: (state, action) => {\r\n      damageAdapter.updateOne(state.damages, action);\r\n    },\r\n    effectAdded: (state, action) => {\r\n      effectAdapter.addOne(state.effects, action);\r\n    },\r\n    effectUpdated: (state, action) => {\r\n      effectAdapter.updateOne(state.effects, action);\r\n    },\r\n\r\n    routineCreated: {\r\n      reducer: (state, action) => {\r\n        const { id, copy } = action.payload;\r\n        if (copy) {\r\n          const routine = state.routines.entities[state.selectedRoutine];\r\n          const name = \"Copy of \" + routine.name;\r\n          const apIds = copyActivityPaths(state, routine.apIds);\r\n          routinesAdapter.addOne(state.routines, {\r\n            ...routine,\r\n            id,\r\n            name,\r\n            apIds,\r\n          });\r\n        } else {\r\n          routinesAdapter.addOne(state.routines, {\r\n            id,\r\n            name: \"New Routine\",\r\n            display: true,\r\n            apIds: [],\r\n            levelDiff: 0,\r\n            description: \"Enter a description here.\",\r\n            startLevel: 1,\r\n            endLevel: 20,\r\n          });\r\n        }\r\n        state.selectedRoutine = id;\r\n      },\r\n      prepare: ({ copy = false }) => {\r\n        const id = ++routineId;\r\n        return { payload: { id, copy } };\r\n      },\r\n    },\r\n    routineRemoved: (state, action) => {\r\n      // recursively remove all children\r\n      const routineId = action.payload;\r\n      let childrenIds = state.routines.entities[routineId].apIds;\r\n      removeActivityPaths(state, childrenIds);\r\n\r\n      routinesAdapter.removeOne(state.routines, routineId);\r\n      if (routineId === state.selectedRoutine)\r\n        state.selectedRoutine = state.routines.ids\r\n          ? state.routines.ids[0]\r\n          : undefined;\r\n    },\r\n    activityPathCreated: {\r\n      reducer: (state, action) => {\r\n        const { id, parentId, routineId, isStrike, applyMAP } = action.payload;\r\n\r\n        let parentAP;\r\n        if (routineId !== undefined)\r\n          state.routines.entities[routineId].apIds.push(id);\r\n        if (parentId !== undefined) {\r\n          state.activityPaths.entities[parentId].apIds.push(id);\r\n          parentAP = state.activityPaths.entities[parentId];\r\n          if (isStrike && parentAP.type !== activityTypes.STRIKE) {\r\n            parentAP = defaultStrikeParent;\r\n          }\r\n          if (!isStrike && parentAP.type !== activityTypes.SAVE) {\r\n            parentAP = defaultSaveParent;\r\n          }\r\n        } else {\r\n          parentAP = isStrike ? defaultStrikeParent : defaultSaveParent;\r\n        }\r\n        // copy parent damages and effects\r\n        let newDamages = copyDamages(state, parentAP.damages);\r\n        let newEffects = copyEffects(state, parentAP.effects);\r\n\r\n        activityPathAdapter.addOne(state.activityPaths, {\r\n          id,\r\n          condition: conditions.ALWAYS,\r\n\r\n          rollType: rollTypes.NORMAL,\r\n          type: parentAP.type,\r\n          profTrend: parentAP.profTrend,\r\n          statTrend: parentAP.statTrend,\r\n          itemTrend: parentAP.itemTrend,\r\n          bonusAdjustments: { ...parentAP.bonusAdjustments },\r\n          MAP: applyMAP ? nextMAPs[parentAP.MAP] : parentAP.MAP,\r\n\r\n          targetType: parentAP.targetType,\r\n\r\n          damages: newDamages,\r\n          effects: newEffects,\r\n          apIds: [],\r\n        });\r\n      },\r\n      prepare: ({ parentId, routineId, isStrike = true, applyMAP = false }) => {\r\n        const id = ++activityPathId;\r\n        return {\r\n          payload: {\r\n            id,\r\n            parentId,\r\n            routineId,\r\n            isStrike,\r\n            applyMAP,\r\n          },\r\n        };\r\n      },\r\n    },\r\n    activityPathRemoved: (state, action) => {\r\n      const { id, parentId, routineId } = action.payload;\r\n\r\n      // recursively remove all children\r\n      let childrenIds = [id];\r\n      removeActivityPaths(state, childrenIds);\r\n\r\n      if (parentId !== undefined) {\r\n        state.activityPaths.entities[parentId].apIds =\r\n          state.activityPaths.entities[parentId].apIds.filter(\r\n            (apId) => apId !== id\r\n          );\r\n      }\r\n      if (routineId !== undefined) {\r\n        state.routines.entities[routineId].apIds = state.routines.entities[\r\n          routineId\r\n        ].apIds.filter((apId) => apId !== id);\r\n      }\r\n    },\r\n\r\n    damageCreated: {\r\n      reducer: (state, action) => {\r\n        const { id, parentId } = action.payload;\r\n        state.activityPaths.entities[parentId].damages.push(id);\r\n        damageAdapter.addOne(state.damages, { id, ...defaultDamage });\r\n      },\r\n      prepare: ({ parentId }) => {\r\n        const id = ++damageId;\r\n        return {\r\n          payload: {\r\n            id,\r\n            parentId,\r\n          },\r\n        };\r\n      },\r\n    },\r\n    damageRemoved: (state, action) => {\r\n      const { id, parentId } = action.payload;\r\n      state.activityPaths.entities[parentId].damages =\r\n        state.activityPaths.entities[parentId].damages.filter(\r\n          (did) => did !== id\r\n        );\r\n      damageAdapter.removeOne(state.damages, id);\r\n    },\r\n    effectCreated: {\r\n      reducer: (state, action) => {\r\n        const { id, parentId } = action.payload;\r\n        state.activityPaths.entities[parentId].effects.push(id);\r\n        effectAdapter.addOne(state.effects, {\r\n          id,\r\n          effectCondition: conditions.ALWAYS,\r\n          effectType: effectTypes.FLATFOOT,\r\n          startLevel: 1,\r\n          endLevel: 20,\r\n        });\r\n      },\r\n      prepare: ({ parentId }) => {\r\n        const id = ++effectId;\r\n        return {\r\n          payload: {\r\n            id,\r\n            parentId,\r\n          },\r\n        };\r\n      },\r\n    },\r\n    effectRemoved: (state, action) => {\r\n      const { id, parentId } = action.payload;\r\n      state.activityPaths.entities[parentId].effects =\r\n        state.activityPaths.entities[parentId].effects.filter(\r\n          (eid) => eid !== id\r\n        );\r\n      effectAdapter.removeOne(state.effects, id);\r\n    },\r\n    importRoutine: (state, action) => {\r\n      try {\r\n        // console.log(action.payload);\r\n        const routineObject = JSON.parse(action.payload);\r\n        // console.log(\"parsed\");\r\n        // console.log(routineObject);\r\n        // console.log(validateRoutine(routineObject));\r\n        if (validateRoutine(routineObject)) {\r\n          state.selectedRoutine = insertRoutine(state, routineObject);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n        console.log(\"Parsing failed\");\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setRoutine,\r\n\r\n  routineAdded,\r\n  routineUpdated,\r\n  routineCreated,\r\n  routineRemoved,\r\n\r\n  activityPathAdded,\r\n  activityPathUpdated,\r\n  activityPathCreated,\r\n  activityPathRemoved,\r\n\r\n  damageAdded,\r\n  damageUpdated,\r\n  damageCreated,\r\n  damageRemoved,\r\n\r\n  effectAdded,\r\n  effectUpdated,\r\n  effectCreated,\r\n  effectRemoved,\r\n\r\n  importRoutine,\r\n} = routinesSlice.actions;\r\n\r\nexport default routinesSlice.reducer;\r\n\r\nexport const {\r\n  selectById: selectRoutineById,\r\n  selectIds: selectRoutineIds,\r\n  selectEntities: selectRoutineEntities,\r\n  selectAll: selectAllRoutines,\r\n  selectTotal: selectTotalRoutines,\r\n} = routinesAdapter.getSelectors((state) => state.routines.routines);\r\n\r\nexport const {\r\n  selectById: selectactivityPathById,\r\n  selectIds: selectactivityPathIds,\r\n  selectEntities: selectactivityPathEntities,\r\n  selectAll: selectAllactivityPaths,\r\n  selectTotal: selectTotalactivityPaths,\r\n} = activityPathAdapter.getSelectors((state) => state.routines.activityPaths);\r\n\r\nexport const {\r\n  selectById: selectdamageById,\r\n  selectIds: selectdamageIds,\r\n  selectEntities: selectdamageEntities,\r\n  selectAll: selectAlldamages,\r\n  selectTotal: selectTotaldamages,\r\n} = damageAdapter.getSelectors((state) => state.routines.damages);\r\n\r\nexport const {\r\n  selectById: selecteffectById,\r\n  selectIds: selecteffectIds,\r\n  selectEntities: selecteffectEntities,\r\n  selectAll: selectAlleffects,\r\n  selectTotal: selectTotaleffects,\r\n} = effectAdapter.getSelectors((state) => state.routines.effects);\r\n\r\nexport const selectSelectedRoutine = (state) => state.routines.selectedRoutine;\r\nexport const selectSelectedRoutineObject = (state) => {\r\n  let routine = {\r\n    ...state.routines.routines.entities[state.routines.selectedRoutine],\r\n  };\r\n  routine.apIds = getActivityPaths(state.routines, routine.apIds);\r\n  // routine.name = \"test\";\r\n  return routine;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { selecttargetById, targetUpdated } from \"./targetSlice\";\r\nimport { ACTrends, damageTypes, materials, SaveTrends } from \"../Model/types\";\r\nimport {\r\n  selectweaknessById,\r\n  weaknessCreated,\r\n  weaknessRemoved,\r\n  weaknessUpdated,\r\n} from \"./weaknessSlice\";\r\n\r\nfunction TargetInput({ id }) {\r\n  const {\r\n    name,\r\n\r\n    // level,\r\n    // matchRoutines,\r\n    levelDiff,\r\n\r\n    // [defenses.AC]: AC,\r\n    // defaultAC,\r\n    // useDefaultAC,\r\n    // [defenses.FORT]: Fort,\r\n    // defaultFort,\r\n    // useDefaultFort,\r\n    // [defenses.REF]: Ref,\r\n    // defaultRef,\r\n    // useDefaultRef,\r\n    // [defenses.WILL]: Will,\r\n    // defaultWill,\r\n    // useDefaultWill,\r\n    // [defenses.PER]: Perception,\r\n    // defaultPer,\r\n    // useDefaultPer,\r\n\r\n    ACTrend,\r\n    FortTrend,\r\n    RefTrend,\r\n    WillTrend,\r\n    PerTrend,\r\n\r\n    flatfooted,\r\n    weaknesses,\r\n  } = useSelector((state) => selecttargetById(state, 0));\r\n  const dispatch = useDispatch();\r\n\r\n  const ACOptions = [];\r\n  for (let dv in ACTrends) {\r\n    ACOptions.push(<option key={dv}>{ACTrends[dv]}</option>);\r\n  }\r\n  const SaveOptions = [];\r\n  for (let dv in SaveTrends) {\r\n    SaveOptions.push(<option key={dv}>{SaveTrends[dv]}</option>);\r\n  }\r\n\r\n  // name, level, ac, fort, ref, will, perception, resistances/weaknesses\r\n  return (\r\n    <div className=\"box flexbox\">\r\n      <span className=\"input\">\r\n        <label htmlFor=\"targetName\">{\"Target Name: \"}</label>\r\n        <input\r\n          id=\"targetName\"\r\n          type=\"text\"\r\n          placeholder=\"Enter Target name\"\r\n          value={name}\r\n          onChange={(e) =>\r\n            dispatch(targetUpdated({ id, changes: { name: e.target.value } }))\r\n          }\r\n        />\r\n      </span>\r\n\r\n      {/* <span className=\"input\">\r\n        <label htmlFor=\"Level\">{\" Level: \"}</label>\r\n        <input\r\n          id=\"Level\"\r\n          type=\"number\"\r\n          value={level}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({\r\n                id,\r\n                changes: {\r\n                  level: parseInt(e.target.value),\r\n                },\r\n                match: matchRoutines,\r\n                level: parseInt(e.target.value) - levelDiff,\r\n              })\r\n            )\r\n          }\r\n        />\r\n      </span> */}\r\n\r\n      {/* <span className=\"input\">\r\n        <label htmlFor=\"match\">{\" Match routine levels: \"}</label>\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={matchRoutines}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({\r\n                id,\r\n                changes: { matchRoutines: e.target.checked },\r\n                match: e.target.checked,\r\n                level: level - levelDiff,\r\n              })\r\n            )\r\n          }\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          value={levelDiff}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({\r\n                id,\r\n                changes: {\r\n                  levelDiff: parseInt(e.target.value),\r\n                },\r\n                match: matchRoutines,\r\n                level: level - parseInt(e.target.value),\r\n              })\r\n            )\r\n          }\r\n        />\r\n      </span> */}\r\n\r\n      <span className=\"input\">\r\n        <label htmlFor=\"levelDiff\">{\" Level Difference: \"}</label>\r\n        <input\r\n          type=\"number\"\r\n          id=\"levelDiff\"\r\n          value={levelDiff}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({\r\n                id,\r\n                changes: {\r\n                  levelDiff: parseInt(e.target.value),\r\n                },\r\n              })\r\n            )\r\n          }\r\n        />\r\n      </span>\r\n      <span className=\"input\">\r\n        <label htmlFor=\"AC\">{\" AC: \"}</label>\r\n        {/* <input\r\n          type=\"checkbox\"\r\n          checked={useDefaultAC}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({ id, changes: { useDefaultAC: e.target.checked } })\r\n            )\r\n          }\r\n        /> */}\r\n        <select\r\n          id=\"AC\"\r\n          value={ACTrend}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({ id, changes: { ACTrend: e.target.value } })\r\n            )\r\n          }\r\n        >\r\n          {ACOptions}\r\n        </select>\r\n        {/* <input\r\n          id=\"AC\"\r\n          type=\"number\"\r\n          value={AC}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({\r\n                id,\r\n                changes: {\r\n                  useDefaultAC: false,\r\n                  [defenses.AC]: parseInt(e.target.value),\r\n                },\r\n              })\r\n            )\r\n          }\r\n        /> */}\r\n      </span>\r\n\r\n      <span className=\"input\">\r\n        <label htmlFor=\"Fort\">{\" Fort: \"}</label>\r\n        {/* <input\r\n          type=\"checkbox\"\r\n          checked={useDefaultFort}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({\r\n                id,\r\n                changes: { useDefaultFort: e.target.checked },\r\n              })\r\n            )\r\n          }\r\n        /> */}\r\n        <select\r\n          id=\"Fort\"\r\n          value={FortTrend}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({ id, changes: { FortTrend: e.target.value } })\r\n            )\r\n          }\r\n        >\r\n          {SaveOptions}\r\n        </select>\r\n        {/* <input\r\n          id=\"Fort\"\r\n          type=\"number\"\r\n          value={Fort}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({\r\n                id,\r\n                changes: { [defenses.FORT]: parseInt(e.target.value) },\r\n              })\r\n            )\r\n          }\r\n        /> */}\r\n      </span>\r\n\r\n      <span className=\"input\">\r\n        <label htmlFor=\"Ref\">{\" Ref: \"}</label>\r\n        {/* <input\r\n          type=\"checkbox\"\r\n          checked={useDefaultRef}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({\r\n                id,\r\n                changes: { useDefaultRef: e.target.checked },\r\n              })\r\n            )\r\n          }\r\n        /> */}\r\n        <select\r\n          id=\"Red\"\r\n          value={RefTrend}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({ id, changes: { RefTrend: e.target.value } })\r\n            )\r\n          }\r\n        >\r\n          {SaveOptions}\r\n        </select>\r\n        {/* <input\r\n          id=\"Ref\"\r\n          type=\"number\"\r\n          value={Ref}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({\r\n                id,\r\n                changes: { [defenses.REF]: parseInt(e.target.value) },\r\n              })\r\n            )\r\n          }\r\n        /> */}\r\n      </span>\r\n\r\n      <span className=\"input\">\r\n        <label htmlFor=\"Will\">{\" Will: \"}</label>\r\n        {/* <input\r\n          type=\"checkbox\"\r\n          checked={useDefaultWill}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({\r\n                id,\r\n                changes: { useDefaultWill: e.target.checked },\r\n              })\r\n            )\r\n          }\r\n        /> */}\r\n        <select\r\n          id=\"Will\"\r\n          value={WillTrend}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({ id, changes: { WillTrend: e.target.value } })\r\n            )\r\n          }\r\n        >\r\n          {SaveOptions}\r\n        </select>\r\n        {/* <input\r\n          id=\"Will\"\r\n          type=\"number\"\r\n          value={Will}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({\r\n                id,\r\n                changes: { [defenses.WILL]: parseInt(e.target.value) },\r\n              })\r\n            )\r\n          }\r\n        /> */}\r\n      </span>\r\n\r\n      <span className=\"input\">\r\n        <label htmlFor=\"Perception\">{\" Perception: \"}</label>\r\n        {/* <input\r\n          type=\"checkbox\"\r\n          checked={useDefaultPer}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({\r\n                id,\r\n                changes: { useDefaultPer: e.target.checked },\r\n              })\r\n            )\r\n          }\r\n        /> */}\r\n        <select\r\n          id=\"Perception\"\r\n          value={PerTrend}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({ id, changes: { PerTrend: e.target.value } })\r\n            )\r\n          }\r\n        >\r\n          {SaveOptions}\r\n        </select>\r\n        {/* <input\r\n          id=\"Perception\"\r\n          type=\"number\"\r\n          value={Perception}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({\r\n                id,\r\n                changes: { [defenses.PER]: parseInt(e.target.value) },\r\n              })\r\n            )\r\n          }\r\n        /> */}\r\n      </span>\r\n\r\n      <span className=\"input\">\r\n        <label htmlFor=\"Flatfooted\">{\" Flatfooted: \"}</label>\r\n        <input\r\n          id=\"Flatfooted\"\r\n          type=\"checkbox\"\r\n          checked={flatfooted}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              targetUpdated({ id, changes: { flatfooted: e.target.checked } })\r\n            )\r\n          }\r\n        />\r\n      </span>\r\n\r\n      <div className=\"box flexbox\">\r\n        {\" Resistance/Weakness: \"}\r\n        {weaknesses.map((weaknessId) => (\r\n          <Weakness parentId={id} id={weaknessId} key={weaknessId} />\r\n        ))}\r\n        <AddWeakness parentId={id} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// const TargetInfo = ({ id }) => {\r\n//   const { overrideDefault, type, value, weaknesses } = useSelector((state) =>\r\n//     selecttargetInfoById(state, id)\r\n//   );\r\n//   const dispatch = useDispatch();\r\n\r\n//   const defenseOptions = [];\r\n//   for (let d in defenses) {\r\n//     defenseOptions.push(<option key={d}>{defenses[d]}</option>);\r\n//   }\r\n\r\n//   return (\r\n//     <div className=\"box\">\r\n//       {\"Override Target: \"}\r\n//       <input\r\n//         type=\"checkbox\"\r\n//         checked={overrideDefault}\r\n//         onChange={(e) =>\r\n//           dispatch(\r\n//             targetInfoUpdated({\r\n//               id,\r\n//               changes: { overrideDefault: e.target.checked },\r\n//             })\r\n//           )\r\n//         }\r\n//       />\r\n\r\n// {/* <Weaknesses parentId={id} weaknessIds={weaknesses} /> */}\r\n\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// const Weaknesses = ({ parentId, weaknessIds }) => {\r\n//   return (\r\n//     <span>\r\n//       {weaknessIds.map((weaknessId) => (\r\n//         <Weakness id={weaknessId} key={weaknessId} />\r\n//       ))}\r\n//       <AddWeakness id={parentId} />\r\n//     </span>\r\n//   );\r\n// };\r\n\r\nconst Weakness = ({ id, parentId }) => {\r\n  // needs to have parent id to remove weakness\r\n  const { type, value } = useSelector((state) => selectweaknessById(state, id));\r\n  const dispatch = useDispatch();\r\n\r\n  const updateOrRemoveWeakness = (e) => {\r\n    if (e.target.value === damageTypes.NONE) {\r\n      // remove this weakness\r\n      dispatch(weaknessRemoved({ id, parentId }));\r\n    } else {\r\n      dispatch(weaknessUpdated({ id, changes: { type: e.target.value } }));\r\n    }\r\n  };\r\n  const updateWeaknessValue = (e) => {\r\n    if (!isNaN(e.target.value)) {\r\n      dispatch(\r\n        weaknessUpdated({ id, changes: { value: parseInt(e.target.value) } })\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <span className=\"input\">\r\n      <WeaknessSelect value={type} onChange={updateOrRemoveWeakness} />\r\n      <input type=\"number\" value={value} onChange={updateWeaknessValue} />\r\n    </span>\r\n  );\r\n};\r\n\r\nlet weaknessId = 0;\r\n\r\nconst AddWeakness = ({ parentId }) => {\r\n  const dispatch = useDispatch();\r\n  let [weaknessValue, setWeaknessValue] = useState(0);\r\n\r\n  // add a Weakness to TargetInfo id\r\n  const addWeakness = (e) => {\r\n    if (e.target.value !== damageTypes.NONE) {\r\n      // need to create a new weakness\r\n      weaknessId++;\r\n      dispatch(\r\n        weaknessCreated({\r\n          id: weaknessId,\r\n          type: e.target.value,\r\n          value: weaknessValue,\r\n          parentId: parentId,\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <span className=\"input\">\r\n      <WeaknessSelect value={damageTypes.NONE} onChange={addWeakness} />\r\n      <input\r\n        type=\"number\"\r\n        value={weaknessValue}\r\n        onChange={(e) => setWeaknessValue(parseInt(e.target.value))}\r\n      />\r\n    </span>\r\n  );\r\n};\r\n\r\nconst WeaknessSelect = ({ value, onChange }) => {\r\n  const options = [];\r\n  for (let dt in damageTypes) {\r\n    options.push(<option key={dt}>{damageTypes[dt]}</option>);\r\n  }\r\n  for (let m in materials) {\r\n    if (materials[m] === materials.NONE) continue;\r\n    options.push(<option key={m}>{materials[m]}</option>);\r\n  }\r\n  return (\r\n    <span>\r\n      <select value={value} onChange={(e) => onChange(e)}>\r\n        {options}\r\n      </select>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default TargetInput;\r\n","import {\r\n  ACTrends,\r\n  profTrends,\r\n  damageTrends,\r\n  dieTrends,\r\n  SaveTrends,\r\n  statTrends,\r\n  itemTrends,\r\n} from \"./types\";\r\n\r\nconst zero = {};\r\nconst level = {};\r\nconst halfLevel = {};\r\n\r\nconst trained = {};\r\nconst maxSkill = {};\r\n\r\nconst maxScore = {};\r\nconst score16pp = {};\r\nconst score16p = {};\r\nconst score16 = {};\r\nconst score14p = {};\r\nconst score14 = {};\r\n\r\nconst martialProf = {};\r\nconst alchProf = {};\r\nconst casterProf = {};\r\n\r\nconst spellProf = {};\r\n\r\nconst weaponItem = {};\r\nconst skillItem = {};\r\n\r\nconst weaponDice = {};\r\nconst spellDice = {};\r\nconst spellDice2 = {};\r\nfor (let i = 1; i <= 20; i++) {\r\n  spellDice[i] = Math.floor((i + 1) / 2);\r\n  spellDice2[i] = 2 * Math.floor((i + 1) / 2);\r\n}\r\nconst runes = {};\r\nconst runes2 = {};\r\nconst deadly = {};\r\n\r\nconst sneak = {};\r\nconst strategic = {};\r\nconst precise = {};\r\n\r\nconst preEdge1 = {};\r\nconst preEdge2 = {};\r\nconst preEdge3 = {};\r\n\r\nconst martialSpec = {};\r\nconst casterSpec = {};\r\n\r\nconst rage = {};\r\nconst animalrage = {};\r\nconst dragonrage = {};\r\nconst giantrage = {};\r\n\r\nconst implementEmpower = {};\r\n\r\nconst fighterAB = {};\r\nconst martialAB = {};\r\nconst casterAB = {};\r\nconst alchAB = {};\r\n\r\nconst casterSpellAttack = {};\r\nconst casterSaveDC = {};\r\nconst classdc1 = {};\r\nconst classdc2 = {};\r\nconst mcspell = {};\r\n\r\nconst fighterStatic = {};\r\nconst fighterRanged = {};\r\nconst martialStatic = {};\r\nconst martialRanged = {};\r\nconst casterStatic = {};\r\nconst casterRanged = {};\r\n\r\nfor (let i = 1; i <= 20; i++) {\r\n  zero[i] = 0;\r\n  level[i] = i;\r\n  halfLevel[i] = Math.floor(i / 2);\r\n  trained[i] = i + 2;\r\n  maxSkill[i] = i + 2;\r\n\r\n  maxScore[i] = 4;\r\n  score16pp[i] = 3;\r\n  score16p[i] = 3;\r\n  score16[i] = 3;\r\n  score14p[i] = 2;\r\n  score14[i] = 2;\r\n\r\n  martialProf[i] = 2;\r\n  alchProf[i] = 2;\r\n  casterProf[i] = 2;\r\n\r\n  spellProf[i] = 2;\r\n  classdc1[i] = i + 2;\r\n  classdc2[i] = i + 2;\r\n  mcspell[i] = i + 2;\r\n\r\n  weaponItem[i] = 0;\r\n  skillItem[i] = 0;\r\n  weaponDice[i] = 1;\r\n  runes[i] = 0;\r\n  runes2[i] = 0;\r\n  deadly[i] = 1;\r\n\r\n  sneak[i] = 1;\r\n  strategic[i] = 1;\r\n  precise[i] = 2;\r\n\r\n  preEdge1[i] = 1;\r\n  preEdge2[i] = 0;\r\n  preEdge3[i] = 0;\r\n\r\n  martialSpec[i] = 0;\r\n  casterSpec[i] = 0;\r\n\r\n  rage[i] = 2;\r\n  animalrage[i] = 2;\r\n  dragonrage[i] = 4;\r\n  giantrage[i] = 6;\r\n\r\n  implementEmpower[i] = 2;\r\n\r\n  if (i >= 2) {\r\n    weaponItem[i] = 1;\r\n  }\r\n  if (i >= 3) {\r\n    maxSkill[i] = i + 4;\r\n    skillItem[i] = 1;\r\n\r\n    implementEmpower[i] = 4;\r\n  }\r\n  if (i >= 4) {\r\n    weaponDice[i] = 2;\r\n  }\r\n  if (i >= 5) {\r\n    martialProf[i] = 4;\r\n    score16pp[i] = 4;\r\n    score16p[i] = 4;\r\n    score16[i] = 4;\r\n    score14p[i] = 3;\r\n    score14[i] = 3;\r\n\r\n    sneak[i] = 2;\r\n    strategic[i] = 2;\r\n    precise[i] = 3;\r\n  }\r\n  if (i >= 7) {\r\n    alchProf[i] = 4;\r\n    martialSpec[i] = 1;\r\n    spellProf[i] = 4;\r\n    maxSkill[i] = i + 6;\r\n\r\n    rage[i] = 6;\r\n    animalrage[i] = 5;\r\n    dragonrage[i] = 8;\r\n    giantrage[i] = 10;\r\n  }\r\n  if (i >= 8) {\r\n    runes[i] = 1;\r\n    runes2[i] = 1;\r\n  }\r\n  if (i >= 9) {\r\n    skillItem[i] = 2;\r\n    classdc1[i] = i + 4;\r\n\r\n    strategic[i] = 3;\r\n    precise[i] = 4;\r\n  }\r\n  if (i >= 10) {\r\n    weaponItem[i] = 2;\r\n    maxScore[i] = 5;\r\n    score14p[i] = 4;\r\n    score14[i] = 4;\r\n    runes2[i] = 2;\r\n  }\r\n  if (i >= 11) {\r\n    casterProf[i] = 4;\r\n    classdc2[i] = i + 4;\r\n\r\n    sneak[i] = 3;\r\n    implementEmpower[i] = 6;\r\n\r\n    preEdge1[i] = 2;\r\n  }\r\n  if (i >= 12) {\r\n    weaponDice[i] = 3;\r\n    mcspell[i] = i + 4;\r\n    deadly[i] = 2;\r\n  }\r\n  if (i >= 13) {\r\n    martialProf[i] = 6;\r\n    casterSpec[i] = 1;\r\n\r\n    strategic[i] = 4;\r\n    precise[i] = 5;\r\n  }\r\n  if (i >= 15) {\r\n    martialSpec[i] = 2;\r\n    score16pp[i] = 5;\r\n    score16p[i] = 5;\r\n    spellProf[i] = 6;\r\n    maxSkill[i] = i + 8;\r\n    runes[i] = 2;\r\n\r\n    rage[i] = 12;\r\n    animalrage[i] = 12;\r\n    dragonrage[i] = 16;\r\n    giantrage[i] = 18;\r\n  }\r\n  if (i >= 16) {\r\n    weaponItem[i] = 3;\r\n    runes2[i] = 3;\r\n  }\r\n  if (i >= 17) {\r\n    score16pp[i] = 6;\r\n    maxScore[i] = 6;\r\n    skillItem[i] = 3;\r\n    classdc1[i] = i + 6;\r\n\r\n    sneak[i] = 4;\r\n    strategic[i] = 5;\r\n    precise[i] = 6;\r\n\r\n    preEdge2[i] = 1;\r\n  }\r\n  if (i >= 18) {\r\n    mcspell[i] = i + 6;\r\n  }\r\n  if (i >= 19) {\r\n    weaponDice[i] = 4;\r\n    spellProf[i] = 8;\r\n    classdc2[i] = i + 6;\r\n    deadly[i] = 3;\r\n\r\n    implementEmpower[i] = 8;\r\n\r\n    preEdge1[i] = 3;\r\n    preEdge2[i] = 2;\r\n    preEdge3[i] = 1;\r\n  }\r\n  if (i >= 20) {\r\n    maxScore[i] = 7;\r\n  }\r\n\r\n  fighterAB[i] = i + martialProf[i] + 2;\r\n  martialAB[i] = i + martialProf[i];\r\n  casterAB[i] = i + casterProf[i];\r\n  alchAB[i] = i + alchProf[i];\r\n  casterSpellAttack[i] = i + spellProf[i];\r\n  casterSaveDC[i] = 10 + i + spellProf[i] + maxScore[i];\r\n\r\n  fighterStatic[i] = maxScore[i] + (martialSpec[i] * (martialProf[i] + 2)) / 2;\r\n  fighterRanged[i] = (martialSpec[i] * (martialProf[i] + 2)) / 2;\r\n  martialStatic[i] = maxScore[i] + (martialSpec[i] * martialProf[i]) / 2;\r\n  martialRanged[i] = (martialSpec[i] * martialProf[i]) / 2;\r\n  casterStatic[i] = score16[i] + (casterSpec[i] * casterProf[i]) / 2;\r\n  casterRanged[i] = (casterSpec[i] * casterProf[i]) / 2;\r\n}\r\nexport const profTrendValues = {\r\n  [profTrends.TRAINED]: trained,\r\n  [profTrends.FIGHTERWEAPON]: fighterAB,\r\n  [profTrends.MARTIALWEAPON]: martialAB,\r\n  [profTrends.CASTERWEAPON]: casterAB,\r\n  [profTrends.ALCHWEAPON]: alchAB,\r\n  [profTrends.CASTERSPELL]: casterSpellAttack,\r\n  [profTrends.CLASSDC1]: classdc1,\r\n  [profTrends.CLASSDC2]: classdc2,\r\n  [profTrends.MCSPELL]: mcspell,\r\n  [profTrends.MAXSKILL]: maxSkill,\r\n};\r\nexport const statTrendValues = {\r\n  [statTrends.AS10]: zero,\r\n  [statTrends.AS18a]: maxScore,\r\n  [statTrends.AS16a]: score16pp,\r\n  [statTrends.AS16pp]: score16p,\r\n  [statTrends.AS16p]: score16,\r\n  [statTrends.AS14pp]: score14p,\r\n  [statTrends.AS14p]: score14,\r\n};\r\nexport const itemTrendValues = {\r\n  [itemTrends.NONE]: zero,\r\n  [itemTrends.WEAPON]: weaponItem,\r\n  [itemTrends.SKILL]: skillItem,\r\n};\r\n\r\nexport const MAPvalues = {\r\n  \"0 (0x-5)\": 0,\r\n  \"-5 (1x-5)\": -5,\r\n  \"-10 (2x-5)\": -10,\r\n  \"0 (0x-4)\": 0,\r\n  \"-4 (1x-4)\": -4,\r\n  \"-8 (2x-4)\": -8,\r\n  \"0 (0x-3)\": 0,\r\n  \"-3 (1x-3)\": -3,\r\n  \"-6 (2x-3)\": -6,\r\n  \"0 (0x-2)\": 0,\r\n  \"-2 (1x-2)\": -2,\r\n  \"-4 (2x-2)\": -4,\r\n  \"0 (0x-1)\": 0,\r\n  \"-1 (1x-1)\": -1,\r\n  \"-2 (2x-1)\": -2,\r\n};\r\n\r\nexport const dieTrendValues = {\r\n  [dieTrends.NONE]: zero,\r\n  [dieTrends.WEAPON]: weaponDice,\r\n  [dieTrends.SPELLLEVEL1]: spellDice,\r\n  [dieTrends.SPELLLEVEL2]: spellDice2,\r\n  [dieTrends.LEVEL]: level,\r\n  [dieTrends.HALFLEVEL]: halfLevel,\r\n  [dieTrends.RUNE]: runes,\r\n  [dieTrends.RUNE2]: runes2,\r\n  [dieTrends.DEADLY]: deadly,\r\n  [dieTrends.SNEAK]: sneak,\r\n  [dieTrends.STRATEGIC]: strategic,\r\n  [dieTrends.PRECISE]: precise,\r\n  [dieTrends.PRECISIONEDGE]: preEdge1,\r\n  [dieTrends.PRECISIONEDGE2]: preEdge2,\r\n  [dieTrends.PRECISIONEDGE3]: preEdge3,\r\n};\r\n\r\nexport const damageTrendValues = {\r\n  ...statTrendValues,\r\n  [damageTrends.NONE]: zero,\r\n  [damageTrends.FIGHTERWEAPONSPEC]: fighterRanged,\r\n  [damageTrends.MARTIALWEAPONSPEC]: martialRanged,\r\n  [damageTrends.CASTERWEAPONSPEC]: casterRanged,\r\n  [damageTrends.WEAPON]: weaponDice,\r\n  [damageTrends.SPELLLEVEL1]: spellDice,\r\n  [damageTrends.LEVEL]: level,\r\n  [damageTrends.HALFLEVEL]: halfLevel,\r\n  [damageTrends.RAGE]: rage,\r\n  [damageTrends.ANIMALRAGE]: animalrage,\r\n  [damageTrends.DRAGONRAGE]: dragonrage,\r\n  [damageTrends.GIANTRAGE]: giantrage,\r\n  [damageTrends.IMPLEMENT]: implementEmpower,\r\n};\r\n\r\nconst extremeAC = {\r\n  \"-1\": 18,\r\n  0: 19,\r\n  1: 19,\r\n  2: 21,\r\n  3: 22,\r\n  4: 24,\r\n  5: 25,\r\n  6: 27,\r\n  7: 28,\r\n  8: 30,\r\n  9: 31,\r\n  10: 33,\r\n  11: 34,\r\n  12: 36,\r\n  13: 37,\r\n  14: 39,\r\n  15: 40,\r\n  16: 42,\r\n  17: 43,\r\n  18: 45,\r\n  19: 46,\r\n  20: 48,\r\n  21: 49,\r\n  22: 51,\r\n  23: 52,\r\n  24: 54,\r\n};\r\nconst highAC = { ...extremeAC };\r\nfor (let level in highAC) highAC[level] -= 3;\r\n\r\nconst moderateAC = { ...extremeAC };\r\nfor (let level in moderateAC) moderateAC[level] -= 4;\r\n\r\nconst lowAC = { ...extremeAC };\r\nfor (let level in lowAC) lowAC[level] -= 6;\r\n\r\nexport const defaultACs = {\r\n  [ACTrends.EXTREME]: extremeAC,\r\n  [ACTrends.HIGH]: highAC,\r\n  [ACTrends.MODERATE]: moderateAC,\r\n  [ACTrends.LOW]: lowAC,\r\n};\r\n\r\nconst extremeSaves = {\r\n  \"-1\": 9,\r\n  0: 10,\r\n  1: 11,\r\n  2: 12,\r\n  3: 14,\r\n  4: 15,\r\n  5: 17,\r\n  6: 18,\r\n  7: 20,\r\n  8: 21,\r\n  9: 23,\r\n  10: 24,\r\n  11: 26,\r\n  12: 27,\r\n  13: 29,\r\n  14: 30,\r\n  15: 32,\r\n  16: 33,\r\n  17: 35,\r\n  18: 36,\r\n  19: 38,\r\n  20: 39,\r\n  21: 41,\r\n  22: 43,\r\n  23: 44,\r\n  24: 46,\r\n};\r\nconst highSaves = {\r\n  \"-1\": 8,\r\n  0: 9,\r\n  1: 10,\r\n  2: 11,\r\n  3: 12,\r\n  4: 14,\r\n  5: 15,\r\n  6: 17,\r\n  7: 18,\r\n  8: 19,\r\n  9: 21,\r\n  10: 22,\r\n  11: 24,\r\n  12: 25,\r\n  13: 26,\r\n  14: 28,\r\n  15: 29,\r\n  16: 30,\r\n  17: 32,\r\n  18: 33,\r\n  19: 35,\r\n  20: 36,\r\n  21: 38,\r\n  22: 39,\r\n  23: 40,\r\n  24: 42,\r\n};\r\nconst moderateSaves = {\r\n  \"-1\": 5,\r\n  0: 6,\r\n  1: 7,\r\n  2: 8,\r\n  3: 9,\r\n  4: 11,\r\n  5: 12,\r\n  6: 14,\r\n  7: 15,\r\n  8: 16,\r\n  9: 18,\r\n  10: 19,\r\n  11: 21,\r\n  12: 22,\r\n  13: 23,\r\n  14: 25,\r\n  15: 26,\r\n  16: 28,\r\n  17: 29,\r\n  18: 30,\r\n  19: 32,\r\n  20: 33,\r\n  21: 35,\r\n  22: 36,\r\n  23: 37,\r\n  24: 38,\r\n};\r\nconst lowSaves = {\r\n  \"-1\": 2,\r\n  0: 3,\r\n  1: 4,\r\n  2: 5,\r\n  3: 6,\r\n  4: 8,\r\n  5: 9,\r\n  6: 11,\r\n  7: 12,\r\n  8: 13,\r\n  9: 15,\r\n  10: 16,\r\n  11: 18,\r\n  12: 19,\r\n  13: 20,\r\n  14: 22,\r\n  15: 23,\r\n  16: 25,\r\n  17: 26,\r\n  18: 27,\r\n  19: 29,\r\n  20: 30,\r\n  21: 32,\r\n  22: 33,\r\n  23: 34,\r\n  24: 36,\r\n};\r\nconst terribleSaves = {\r\n  \"-1\": 0,\r\n  0: 1,\r\n  1: 2,\r\n  2: 3,\r\n  3: 4,\r\n  4: 6,\r\n  5: 7,\r\n  6: 8,\r\n  7: 10,\r\n  8: 11,\r\n  9: 12,\r\n  10: 14,\r\n  11: 15,\r\n  12: 16,\r\n  13: 18,\r\n  14: 19,\r\n  15: 20,\r\n  16: 22,\r\n  17: 23,\r\n  18: 24,\r\n  19: 26,\r\n  20: 27,\r\n  21: 28,\r\n  22: 30,\r\n  23: 31,\r\n  24: 32,\r\n};\r\nexport const defaultSaves = {\r\n  [SaveTrends.EXTREME]: extremeSaves,\r\n  [SaveTrends.HIGH]: highSaves,\r\n  [SaveTrends.MODERATE]: moderateSaves,\r\n  [SaveTrends.LOW]: lowSaves,\r\n  [SaveTrends.TERRIBLE]: terribleSaves,\r\n};\r\nexport const standardDC = {\r\n  \"-1\": 12,\r\n  0: 14,\r\n  1: 15,\r\n  2: 16,\r\n  3: 18,\r\n  4: 19,\r\n  5: 20,\r\n  6: 22,\r\n  7: 23,\r\n  8: 24,\r\n  9: 26,\r\n  10: 27,\r\n  11: 28,\r\n  12: 30,\r\n  13: 31,\r\n  14: 32,\r\n  15: 34,\r\n  16: 35,\r\n  17: 36,\r\n  18: 38,\r\n  19: 39,\r\n  20: 40,\r\n  21: 42,\r\n  22: 44,\r\n  23: 46,\r\n  24: 48,\r\n  25: 50,\r\n};\r\n","export const convolve = (vec1, vec2) => {\r\n  if (vec1.length === 0 || vec2.length === 0) {\r\n    throw new Error(\"Vectors can not be empty!\");\r\n  }\r\n  const volume = vec1;\r\n  const kernel = vec2;\r\n  let displacement = 0;\r\n  const convVec = [];\r\n\r\n  for (let i = 0; i < volume.length; i++) {\r\n    for (let j = 0; j < kernel.length; j++) {\r\n      if (displacement + j !== convVec.length) {\r\n        convVec[displacement + j] =\r\n          convVec[displacement + j] + volume[i] * kernel[j];\r\n      } else {\r\n        convVec.push(volume[i] * kernel[j]);\r\n      }\r\n    }\r\n    displacement++;\r\n  }\r\n\r\n  return convVec;\r\n};\r\n\r\nexport const multiplyDist = (dam, dist, multiplier) => {\r\n  if (multiplier === 0) return [0, [1]];\r\n  if (multiplier === 1) return [dam, [...dist]];\r\n\r\n  const newDist = [0];\r\n  let index = 0;\r\n  const newDam = Math.floor(dam * multiplier);\r\n\r\n  let i = 0;\r\n  let oldValue = newDam;\r\n  for (let chance of dist) {\r\n    let newValue = Math.floor((dam + i) * multiplier);\r\n    if (newValue === oldValue) {\r\n      newDist[index] += chance;\r\n    } else {\r\n      if (newValue > oldValue + 1) {\r\n        for (let diff = 0; diff < newValue - (oldValue + 1); diff++) {\r\n          index++;\r\n          newDist[index] = 0;\r\n        }\r\n      }\r\n      index++;\r\n      newDist[index] = chance;\r\n    }\r\n    oldValue = newValue;\r\n    i++;\r\n  }\r\n\r\n  return [newDam, newDist];\r\n};\r\n\r\n/**\r\n * Combine multiple distributions with their chances into one distribution starting from 0\r\n * @param  {...[{staticDamage, distribution}, chance]} dists\r\n * @returns\r\n */\r\nexport const consolidateDists = (...dists) => {\r\n  let maxDamage = 0;\r\n  for (let dist of dists) {\r\n    maxDamage = Math.max(\r\n      maxDamage,\r\n      dist[0].staticDamage + dist[0].damageDist.length\r\n    );\r\n  }\r\n  let damageDist = [];\r\n  for (let i = 0; i < maxDamage; i++) {\r\n    damageDist.push(0);\r\n    for (let dist of dists) {\r\n      if (dist[0].staticDamage <= i) {\r\n        let index = i - dist[0].staticDamage;\r\n        if (index < dist[0].damageDist.length)\r\n          damageDist[i] += dist[0].damageDist[index] * dist[1];\r\n      }\r\n    }\r\n  }\r\n  return damageDist;\r\n};\r\n\r\n/**\r\n * apply a minimum to a distribution, like for damage penalties or resistances\r\n * @param {number} staticDamage\r\n * @param {[number]} damageDist\r\n * @param {number} min\r\n * @returns\r\n */\r\nexport const applyMin = (staticDamage, damageDist, min) => {\r\n  while (staticDamage < min) {\r\n    if (damageDist.length >= 2) {\r\n      damageDist[1] += damageDist[0];\r\n      damageDist.shift();\r\n    }\r\n    staticDamage++;\r\n  }\r\n  return [staticDamage, damageDist];\r\n};\r\n","import {\r\n  damageTrendValues,\r\n  dieTrendValues,\r\n  defaultACs,\r\n  defaultSaves,\r\n  profTrendValues,\r\n  statTrendValues,\r\n  itemTrendValues,\r\n  MAPvalues,\r\n  standardDC,\r\n} from \"../Model/defaults\";\r\nimport {\r\n  activityTypes,\r\n  dCond,\r\n  defenses,\r\n  materials,\r\n  rollTypes,\r\n} from \"../Model/types\";\r\nimport { applyMin, convolve, multiplyDist } from \"./Distribution\";\r\n\r\nfunction getCritSuccessPercent(bonus, DC, keen = false) {\r\n  const dif = bonus - DC;\r\n  let chance;\r\n  if (dif < -20) {\r\n    chance = 0;\r\n  } else if (dif === -20) {\r\n    chance = 5;\r\n  } else if (dif < -9) {\r\n    chance = keen ? 10 : 5;\r\n  } else if (dif < 8) {\r\n    chance = (11 + dif) * 5;\r\n  } else {\r\n    chance = 95;\r\n  }\r\n\r\n  return chance;\r\n}\r\n\r\nfunction getSuccessPercent(bonus, DC, keen = false) {\r\n  const dif = bonus - DC;\r\n  let chance;\r\n  if (dif < -29) {\r\n    chance = 0;\r\n  } else if (dif < -20) {\r\n    chance = 5;\r\n  } else if (dif === -20) {\r\n    chance = 0;\r\n  } else if (dif < -9) {\r\n    chance = (keen ? 19 : 20 + dif) * 5;\r\n  } else if (dif < -1) {\r\n    chance = 50;\r\n  } else if (dif < 9) {\r\n    chance = (8 - dif) * 5;\r\n  } else {\r\n    chance = 5;\r\n  }\r\n\r\n  return chance;\r\n}\r\n\r\nfunction getFailurePercent(bonus, DC, keen = false) {\r\n  const dif = bonus - DC;\r\n  let chance;\r\n  if (dif < -29) {\r\n    chance = 5;\r\n  } else if (dif < -20) {\r\n    chance = (29 + dif) * 5;\r\n  } else if (dif < -10) {\r\n    chance = 45;\r\n  } else if (dif < -1) {\r\n    chance = (-2 - dif) * 5;\r\n  } else if (dif < 9) {\r\n    chance = 5;\r\n  } else {\r\n    chance = 0;\r\n  }\r\n\r\n  return chance;\r\n}\r\n\r\nfunction getCritFailurePercent(bonus, DC, keen = false) {\r\n  const dif = bonus - DC;\r\n  let chance;\r\n  if (dif < -29) {\r\n    chance = 95;\r\n  } else if (dif < -10) {\r\n    chance = (-10 - dif) * 5;\r\n  } else if (dif < -1) {\r\n    chance = 5;\r\n  } else {\r\n    chance = 0;\r\n  }\r\n\r\n  return chance;\r\n}\r\n\r\n// combine the probability distributions of the given damages into context\r\nconst addDamage = (\r\n  context,\r\n  type,\r\n  material,\r\n  persistent,\r\n  staticDamage,\r\n  damageDist,\r\n  multiplier\r\n) => {\r\n  if (persistent) {\r\n    context = context.persistent;\r\n  } else {\r\n    context = context.normal;\r\n  }\r\n  [staticDamage, damageDist] = multiplyDist(\r\n    staticDamage,\r\n    damageDist,\r\n    multiplier\r\n  );\r\n  if (!(type in context)) {\r\n    context[type] = { material, staticDamage, damageDist };\r\n  } else {\r\n    context[type].staticDamage += staticDamage;\r\n    context[type].damageDist = convolve(context[type].damageDist, damageDist);\r\n    if (material !== materials.NONE) context[type].material = material;\r\n  }\r\n};\r\n\r\n/**\r\n * Calculate the chance of each result and the appropriate damage\r\n * distributions for a given activity at level vs target with targetState\r\n * adds defenseBonus or resistanceBonus to target if given\r\n * @param {Number} level\r\n * @param {*} activity\r\n * @param {*} damages\r\n * @param {*} target\r\n * @param {*} targetState\r\n * @param {*} weaknesses\r\n * @param {*} defenseBonus\r\n * @param {*} resistanceBonus\r\n * @returns [damageTrees, chances];\r\n */\r\nfunction calculateExpectedDamage(\r\n  level,\r\n  activity,\r\n  damages,\r\n  target,\r\n  targetState,\r\n  weaknesses,\r\n  defenseBonus,\r\n  resistanceBonus\r\n) {\r\n  /**\r\n   * Get the check bonus and DC\r\n   * Calculate the chance of each outcome\r\n   * Go through each damage and evaluate it, put damage types together\r\n   * Go through each damage type and apply weakness/resistance\r\n   * Return damage trees and chances\r\n   */\r\n  let bonus;\r\n  let DC;\r\n  let targetValue;\r\n  switch (activity.targetType) {\r\n    case defenses.AC:\r\n      targetValue = defaultACs[target.ACTrend];\r\n      break;\r\n    case defenses.FORT:\r\n      targetValue = defaultSaves[target.FortTrend];\r\n      break;\r\n    case defenses.REF:\r\n      targetValue = defaultSaves[target.RefTrend];\r\n      break;\r\n    case defenses.WILL:\r\n      targetValue = defaultSaves[target.WillTrend];\r\n      break;\r\n    case defenses.PER:\r\n      targetValue = defaultSaves[target.PerTrend];\r\n      break;\r\n    case defenses.DC:\r\n      targetValue = standardDC;\r\n      break;\r\n    default:\r\n      targetValue = defaultACs[target.ACTrend];\r\n      break;\r\n  }\r\n\r\n  targetValue = targetValue[level + target.levelDiff];\r\n  switch (activity.type) {\r\n    case activityTypes.STRIKE:\r\n      bonus = profTrendValues[activity.profTrend][level];\r\n      bonus += statTrendValues[activity.statTrend][level];\r\n      bonus += itemTrendValues[activity.itemTrend][level];\r\n      bonus += activity.bonusAdjustments[level];\r\n      bonus += MAPvalues[activity.MAP];\r\n      DC = targetValue + defenseBonus - targetState.frightened;\r\n      if (activity.targetType === defenses.AC) {\r\n        if (target.flatfooted || targetState.flatfooted) DC -= 2;\r\n      } else {\r\n        if (activity.targetType !== defenses.DC) DC += 10;\r\n      }\r\n      break;\r\n\r\n    case activityTypes.SAVE:\r\n      bonus = targetValue + defenseBonus - targetState.frightened;\r\n      DC = 10 + profTrendValues[activity.profTrend][level];\r\n      DC += statTrendValues[activity.statTrend][level];\r\n      DC += itemTrendValues[activity.itemTrend][level];\r\n      DC += activity.bonusAdjustments[level];\r\n      if (\r\n        activity.targetType === defenses.AC ||\r\n        activity.targetType === defenses.DC\r\n      ) {\r\n        bonus -= 10;\r\n      }\r\n      break;\r\n\r\n    default:\r\n      console.log(`Activity type ${activity.type} not implemented`);\r\n  }\r\n\r\n  let critPercent = getCritSuccessPercent(bonus, DC);\r\n  let succPercent = getSuccessPercent(bonus, DC);\r\n  let failPercent = getFailurePercent(bonus, DC);\r\n  let crfaPercent = getCritFailurePercent(bonus, DC);\r\n  if (activity.rollType === rollTypes.ADVANTAGE) {\r\n    let notcrit = 100 - critPercent;\r\n    critPercent = 100 - (notcrit * notcrit) / 100;\r\n    let nothit = notcrit - succPercent;\r\n    succPercent = 100 - (nothit * nothit) / 100 - critPercent;\r\n    let notfail = nothit - failPercent;\r\n    failPercent = 100 - (notfail * notfail) / 100 - succPercent - critPercent;\r\n    crfaPercent = (crfaPercent * crfaPercent) / 100;\r\n  } else if (activity.rollType === rollTypes.DISADVANTAGE) {\r\n    let notcrfa = 100 - crfaPercent;\r\n    crfaPercent = 100 - (notcrfa * notcrfa) / 100;\r\n    let notfail = notcrfa - failPercent;\r\n    failPercent = 100 - (notfail * notfail) / 100 - crfaPercent;\r\n    let notsucc = notfail - succPercent;\r\n    succPercent = 100 - (notsucc * notsucc) / 100 - failPercent - crfaPercent;\r\n    critPercent = (critPercent * critPercent) / 100;\r\n  }\r\n  const chances = [\r\n    critPercent / 100,\r\n    succPercent / 100,\r\n    failPercent / 100,\r\n    crfaPercent / 100,\r\n  ];\r\n  const critDamages = { normal: {}, persistent: {} };\r\n  const succDamages = { normal: {}, persistent: {} };\r\n  const failDamages = { normal: {}, persistent: {} };\r\n  const crfaDamages = { normal: {}, persistent: {} };\r\n  const damageTrees = [critDamages, succDamages, failDamages, crfaDamages];\r\n\r\n  // Start going through each damage and evaluate it, put damage types together\r\n  damages.forEach((damage) => {\r\n    let {\r\n      damageCondition,\r\n      diceSize,\r\n      fatal,\r\n      fatalDie,\r\n\r\n      damageTrend,\r\n      damageType,\r\n      material,\r\n      persistent,\r\n      multiplier,\r\n    } = damage;\r\n\r\n    let diceNum = dieTrendValues[damage.dieTrend][level];\r\n    diceNum += damage.dieAdjustments[level];\r\n    if (diceNum < 0) diceNum = 0;\r\n    let staticDamage = 0;\r\n    for (let i = 0; i < damageTrend.length; i++) {\r\n      staticDamage += damageTrendValues[damageTrend[i]][level];\r\n    }\r\n    staticDamage += damage.damageAdjustments[level];\r\n    let damageDist = [1];\r\n    let fatalDist = [1];\r\n    let diceArray = [];\r\n    for (let i = 0; i < diceSize; i++) {\r\n      diceArray.push(1 / diceSize);\r\n    }\r\n    for (let i = 0; i < diceNum; i++) {\r\n      damageDist = convolve(damageDist, diceArray);\r\n    }\r\n    if (fatal) {\r\n      let diceArray = [];\r\n      for (let i = 0; i < fatalDie; i++) {\r\n        diceArray.push(1 / fatalDie);\r\n      }\r\n      for (let i = 0; i < diceNum; i++) {\r\n        fatalDist = convolve(fatalDist, diceArray);\r\n      }\r\n    }\r\n    staticDamage += diceNum;\r\n\r\n    // Add damage to damage trees appropriately\r\n    switch (damageCondition) {\r\n      case dCond.STRIKE:\r\n        addDamage(\r\n          succDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        addDamage(\r\n          critDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          fatal ? fatalDist : damageDist,\r\n          multiplier * 2\r\n        );\r\n        break;\r\n\r\n      case dCond.BASIC:\r\n        addDamage(\r\n          succDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 0.5\r\n        );\r\n        addDamage(\r\n          failDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        addDamage(\r\n          crfaDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 2\r\n        );\r\n        break;\r\n\r\n      case dCond.CRIF:\r\n        addDamage(\r\n          crfaDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        break;\r\n\r\n      case dCond.FAIL:\r\n        addDamage(\r\n          failDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        break;\r\n\r\n      case dCond.SUCC:\r\n        addDamage(\r\n          succDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        break;\r\n\r\n      case dCond.CRIT:\r\n        addDamage(\r\n          critDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        break;\r\n\r\n      case dCond.AT_LEAST_SUCC:\r\n        addDamage(\r\n          succDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        addDamage(\r\n          critDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        break;\r\n\r\n      case dCond.AT_LEAST_FAIL:\r\n        addDamage(\r\n          failDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        addDamage(\r\n          succDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        addDamage(\r\n          critDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        break;\r\n\r\n      case dCond.FAIL_WORSE:\r\n        addDamage(\r\n          crfaDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        addDamage(\r\n          failDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        break;\r\n\r\n      case dCond.SUCC_WORSE:\r\n        addDamage(\r\n          crfaDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        addDamage(\r\n          failDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        addDamage(\r\n          succDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n\r\n        break;\r\n\r\n      case dCond.ALWAYS:\r\n        addDamage(\r\n          crfaDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        addDamage(\r\n          failDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        addDamage(\r\n          succDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        addDamage(\r\n          critDamages,\r\n          damageType,\r\n          material,\r\n          persistent,\r\n          staticDamage,\r\n          damageDist,\r\n          multiplier * 1\r\n        );\r\n        break;\r\n\r\n      default:\r\n        console.log(\r\n          `Damage condition ${damage.condition} not implemented yet.`\r\n        );\r\n    }\r\n  });\r\n  // end going through each damage and evaluate it, put damage types together\r\n\r\n  // Start going through each damage type and apply weakness/resistance\r\n  for (let damageTree of damageTrees) {\r\n    for (let damageQuality of [\"normal\", \"persistent\"]) {\r\n      let totalStaticDamage = 0;\r\n      let totalDamageDist = [1];\r\n      for (let type in damageTree[damageQuality]) {\r\n        let { material, staticDamage, damageDist } =\r\n          damageTree[damageQuality][type];\r\n\r\n        // ignore if there's 0 damage\r\n        if (damageDist.length === 1 && staticDamage <= 0) continue;\r\n\r\n        // make min damage 1 before resistances\r\n        [staticDamage, damageDist] = applyMin(staticDamage, damageDist, 1);\r\n\r\n        // find max weakness and resistance, weaknesses are negative numbers\r\n        let maxW = 0;\r\n        let maxR = 0;\r\n        weaknesses.forEach((weakness) => {\r\n          if (weakness.type === type || weakness.type === material) {\r\n            if (weakness.value + resistanceBonus < 0) {\r\n              maxW = Math.min(maxW, weakness.value + resistanceBonus);\r\n            } else if (weakness.value + resistanceBonus > 0) {\r\n              maxR = Math.max(maxR, weakness.value + resistanceBonus);\r\n            }\r\n          }\r\n        });\r\n        staticDamage = staticDamage - (maxR + maxW);\r\n\r\n        // make min damage 0 after resistances\r\n        [staticDamage, damageDist] = applyMin(staticDamage, damageDist, 0);\r\n\r\n        totalStaticDamage += staticDamage;\r\n        totalDamageDist = convolve(totalDamageDist, damageDist);\r\n      }\r\n      damageTree[damageQuality].staticDamage = totalStaticDamage;\r\n      damageTree[damageQuality].damageDist = totalDamageDist;\r\n    }\r\n  }\r\n  // End going through each damage type and apply weakness/resistance\r\n\r\n  return [damageTrees, chances];\r\n}\r\n\r\nexport { calculateExpectedDamage };\r\n","import { convolve, consolidateDists } from \"./Distribution\";\r\nimport { calculateExpectedDamage } from \"./Calculation\";\r\nimport { conditions, effectTypes } from \"../Model/types\";\r\n\r\n/**\r\n * Checks given degreeOfSuccess is in the condition\r\n * like Success is in Success or better\r\n * @param {*} condition\r\n * @param {*} degreeOfSuccess\r\n * @returns\r\n */\r\nfunction validateCondition(condition, degreeOfSuccess) {\r\n  let indicies = [];\r\n  // console.log(`cond is: ${ap.condition}`);\r\n  switch (condition) {\r\n    case conditions.ALWAYS:\r\n      indicies = [0, 1, 2, 3];\r\n      break;\r\n\r\n    case conditions.AT_LEAST_FAIL:\r\n      indicies = [0, 1, 2];\r\n      break;\r\n\r\n    case conditions.AT_LEAST_SUCC:\r\n      indicies = [0, 1];\r\n      break;\r\n\r\n    case conditions.CRIF:\r\n      indicies = [3];\r\n      break;\r\n\r\n    case conditions.CRIT:\r\n      indicies = [0];\r\n      break;\r\n\r\n    case conditions.FAIL:\r\n      indicies = [2];\r\n      break;\r\n\r\n    case conditions.FAIL_WORSE:\r\n      indicies = [2, 3];\r\n      break;\r\n\r\n    case conditions.SUCC:\r\n      indicies = [1];\r\n      break;\r\n\r\n    case conditions.SUCC_WORSE:\r\n      indicies = [1, 2, 3];\r\n      break;\r\n\r\n    default:\r\n  }\r\n  return indicies.includes(degreeOfSuccess);\r\n}\r\n\r\nclass ActivityPathEvaluator {\r\n  constructor(activityPaths, targets, damages, effects, weaknesses) {\r\n    this.activityPaths = activityPaths;\r\n    this.targets = targets;\r\n    this.damages = damages;\r\n    this.effects = effects;\r\n    this.weaknesses = weaknesses;\r\n  }\r\n\r\n  canEvaluate(level, routine) {\r\n    const levelDiff = this.targets[0].levelDiff;\r\n    // console.log(`level ${level}, levelDiff ${levelDiff}`);\r\n    if (level < routine.startLevel || level > routine.endLevel) return false;\r\n    if (level + levelDiff < -1 || level + levelDiff > 24) return false;\r\n    return true;\r\n  }\r\n\r\n  evalRoutine(routine, level, ACBonus, resBonus) {\r\n    const initialTargetState = {\r\n      flatfooted: false,\r\n      frightened: 0,\r\n    };\r\n    const dataArray = [];\r\n    const cumulative = [];\r\n    const PdataArray = [];\r\n    const Pcumulative = [];\r\n\r\n    let expD = 0;\r\n    let expP = 0;\r\n    let routineDDist = [1];\r\n    let routinePDDist = [1];\r\n    for (let i = 0; i < routine.apIds.length; i++) {\r\n      let activityPath = this.activityPaths[routine.apIds[i]];\r\n      let [damageDist, PdamageDist] = this.evalPath(\r\n        activityPath,\r\n        initialTargetState,\r\n        level,\r\n        ACBonus,\r\n        resBonus\r\n      );\r\n      routineDDist = convolve(routineDDist, damageDist);\r\n      routinePDDist = convolve(routinePDDist, PdamageDist);\r\n    }\r\n    let currentSum = 1;\r\n    for (let i = 0; i < routineDDist.length; i++) {\r\n      dataArray.push(i);\r\n      cumulative.push(currentSum);\r\n      currentSum -= routineDDist[i];\r\n\r\n      expD += routineDDist[i] * i;\r\n    }\r\n    currentSum = 1;\r\n    for (let i = 0; i < routinePDDist.length; i++) {\r\n      PdataArray.push(i);\r\n      Pcumulative.push(currentSum);\r\n      currentSum -= routinePDDist[i];\r\n\r\n      expP += routinePDDist[i] * i;\r\n    }\r\n    return {\r\n      expD,\r\n      expP,\r\n      dataArray,\r\n      routineDDist,\r\n      cumulative,\r\n      PdataArray,\r\n      routinePDDist,\r\n      Pcumulative,\r\n    };\r\n  }\r\n\r\n  evalPath(activityPath, targetState, level, defenseBonus, resistanceBonus) {\r\n    // evaluate this and all following APs\r\n    let currentTarget = this.targets[0];\r\n    let currentDamages = activityPath.damages.map(\r\n      (damageId) => this.damages[damageId]\r\n    );\r\n    //currentDamages.push(activityPath);\r\n    let currentEffects = activityPath.effects.map(\r\n      (effectId) => this.effects[effectId]\r\n    );\r\n    let currentWeaknesses = currentTarget.weaknesses.map(\r\n      (weaknessId) => this.weaknesses[weaknessId]\r\n    );\r\n\r\n    // calculate the expected damage for this activity\r\n    let [damageTrees, chances] = calculateExpectedDamage(\r\n      level,\r\n      activityPath,\r\n      currentDamages,\r\n      currentTarget,\r\n      targetState,\r\n      currentWeaknesses,\r\n      defenseBonus,\r\n      resistanceBonus\r\n    );\r\n\r\n    const targetStates = [targetState, targetState, targetState, targetState];\r\n    // go through each degree of success\r\n    for (let i = 0; i < 4; i++) {\r\n      // go though each effect and update targetStates\r\n      currentEffects.forEach((effect) => {\r\n        let { effectCondition, effectType, startLevel, endLevel } = effect;\r\n        if (level < startLevel || level > endLevel) return;\r\n        if (validateCondition(effectCondition, i)) {\r\n          switch (effectType) {\r\n            case effectTypes.FLATFOOT:\r\n              if (targetStates[i].flatfooted !== true)\r\n                targetStates[i] = { ...targetStates[i], flatfooted: true };\r\n              break;\r\n\r\n            case effectTypes.FRIGHTENED1:\r\n              if (targetStates[i].frightened < 1)\r\n                targetStates[i] = {\r\n                  ...targetStates[i],\r\n                  frightened: 1,\r\n                };\r\n              break;\r\n            case effectTypes.FRIGHTENED2:\r\n              if (targetStates[i].frightened < 2)\r\n                targetStates[i] = {\r\n                  ...targetStates[i],\r\n                  frightened: 2,\r\n                };\r\n              break;\r\n            case effectTypes.FRIGHTENED3:\r\n              if (targetStates[i].frightened < 3)\r\n                targetStates[i] = {\r\n                  ...targetStates[i],\r\n                  frightened: 3,\r\n                };\r\n              break;\r\n            case effectTypes.FRIGHTENED4:\r\n              if (targetStates[i].frightened < 4)\r\n                targetStates[i] = {\r\n                  ...targetStates[i],\r\n                  frightened: 4,\r\n                };\r\n              break;\r\n\r\n            default:\r\n              console.log(`Effect type ${effectType} not implemented`);\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // go through each activity path, depending on its condition add its damage distributions to this activities appropriately\r\n    activityPath.apIds.forEach((apId) => {\r\n      let ap = this.activityPaths[apId];\r\n\r\n      const evaluations = new Map();\r\n      // go through each degree of success\r\n      for (let i = 0; i < 4; i++) {\r\n        // evaluate if necessary and add distribution to damageTrees\r\n        if (validateCondition(ap.condition, i)) {\r\n          if (evaluations.has(targetStates[i])) {\r\n            // already evaluated\r\n          } else {\r\n            let [pathDist, pathPDist] = this.evalPath(\r\n              ap,\r\n              targetStates[i],\r\n              level,\r\n              defenseBonus,\r\n              resistanceBonus\r\n            );\r\n            evaluations.set(targetStates[i], { pathDist, pathPDist });\r\n          }\r\n\r\n          damageTrees[i].normal.damageDist = convolve(\r\n            damageTrees[i].normal.damageDist,\r\n            evaluations.get(targetStates[i]).pathDist\r\n          );\r\n          damageTrees[i].persistent.damageDist = convolve(\r\n            damageTrees[i].persistent.damageDist,\r\n            evaluations.get(targetStates[i]).pathPDist\r\n          );\r\n        }\r\n      }\r\n    });\r\n\r\n    let damageDist = consolidateDists(\r\n      [damageTrees[0].normal, chances[0]],\r\n      [damageTrees[1].normal, chances[1]],\r\n      [damageTrees[2].normal, chances[2]],\r\n      [damageTrees[3].normal, chances[3]]\r\n    );\r\n    let PdamageDist = consolidateDists(\r\n      [damageTrees[0].persistent, chances[0]],\r\n      [damageTrees[1].persistent, chances[1]],\r\n      [damageTrees[2].persistent, chances[2]],\r\n      [damageTrees[3].persistent, chances[3]]\r\n    );\r\n    // console.log(damageDist);\r\n\r\n    return [damageDist, PdamageDist];\r\n  }\r\n}\r\n\r\nconst evaluateRoutine = (evaluator, routine) => {};\r\nexport { ActivityPathEvaluator, evaluateRoutine };\r\n","import React from \"react\";\r\n\r\nimport {\r\n  activityTypes,\r\n  profTrends,\r\n  conditions,\r\n  damageTrends,\r\n  damageTypes,\r\n  dCond,\r\n  defenses,\r\n  diceSizes,\r\n  dieTrends,\r\n  effectTypes,\r\n  MAPs,\r\n  materials,\r\n  rollTypes,\r\n  statTrends,\r\n  itemTrends,\r\n} from \"../Model/types\";\r\n\r\nexport const levelOptions = [];\r\nfor (let level = 1; level <= 20; level++) {\r\n  levelOptions.push(<option key={level}>{level}</option>);\r\n}\r\n\r\nexport const conditionOptions = [];\r\nfor (let c in conditions) {\r\n  conditionOptions.push(<option key={c}>{conditions[c]}</option>);\r\n}\r\n\r\nexport const rollOptions = [];\r\nfor (let rt in rollTypes) {\r\n  rollOptions.push(<option key={rt}>{rollTypes[rt]}</option>);\r\n}\r\n\r\nexport const activityTypeOptions = [];\r\nfor (let at in activityTypes) {\r\n  activityTypeOptions.push(<option key={at}>{activityTypes[at]}</option>);\r\n}\r\n\r\nexport const profTrendOptions = [];\r\nfor (let bt in profTrends) {\r\n  profTrendOptions.push(<option key={bt}>{profTrends[bt]}</option>);\r\n}\r\nexport const statTrendOptions = [];\r\nfor (let bt in statTrends) {\r\n  statTrendOptions.push(<option key={bt}>{statTrends[bt]}</option>);\r\n}\r\nexport const itemBTrendOptions = [];\r\nfor (let bt in itemTrends) {\r\n  itemBTrendOptions.push(<option key={bt}>{itemTrends[bt]}</option>);\r\n}\r\n\r\nexport const MAPOptions = [];\r\nfor (let m in MAPs) {\r\n  MAPOptions.push(<option key={m}>{MAPs[m]}</option>);\r\n}\r\nexport const defenseOptions = [];\r\nfor (let d in defenses) {\r\n  defenseOptions.push(<option key={d}>{defenses[d]}</option>);\r\n}\r\n\r\nexport const damageConditionOptions = [];\r\nfor (let dc in dCond) {\r\n  damageConditionOptions.push(<option key={dc}>{dCond[dc]}</option>);\r\n}\r\nexport const dieTrendOptions = [];\r\nfor (let dt in dieTrends) {\r\n  dieTrendOptions.push(<option key={dt}>{dieTrends[dt]}</option>);\r\n}\r\nexport const diceSizeOptions = [];\r\nfor (let ds in diceSizes) {\r\n  diceSizeOptions.push(<option key={ds}>{ds}</option>);\r\n}\r\nexport const damageTrendOptions = [];\r\nfor (let dt in damageTrends) {\r\n  damageTrendOptions.push(<option key={dt}>{damageTrends[dt]}</option>);\r\n}\r\nexport const damageTypeOptions = [];\r\nfor (let dt in damageTypes) {\r\n  damageTypeOptions.push(<option key={dt}>{damageTypes[dt]}</option>);\r\n}\r\nexport const materialOptions = [];\r\nfor (let m in materials) {\r\n  materialOptions.push(<option key={m}>{materials[m]}</option>);\r\n}\r\nexport const multiplierOptions = [];\r\nfor (let m of [0.5, 1, 2]) {\r\n  multiplierOptions.push(<option key={m}>{m}</option>);\r\n}\r\n\r\nexport const effectTypeOptions = [];\r\nfor (let et in effectTypes) {\r\n  effectTypeOptions.push(<option key={et}>{effectTypes[et]}</option>);\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectactivityPathEntities } from \"../Routines/routineSlice\";\r\nimport { selectdamageEntities } from \"../Routines/routineSlice\";\r\nimport { selectRoutineEntities } from \"../Routines/routineSlice\";\r\nimport { selecttargetEntities } from \"../Target/targetSlice\";\r\nimport { selectweaknessEntities } from \"../Target/weaknessSlice\";\r\nimport { graphTypes } from \"../Model/types\";\r\nimport { selecteffectEntities } from \"../Routines/routineSlice\";\r\n\r\nimport { ActivityPathEvaluator } from \"../Calculation/EvaluateActivityPath\";\r\n\r\nimport Plotly from \"plotly.js-basic-dist\";\r\nimport createPlotlyComponent from \"react-plotly.js/factory\";\r\nimport { defaultACs, defaultSaves } from \"../Model/defaults\";\r\nconst Plot = createPlotlyComponent(Plotly);\r\n\r\nconst useGenerateGraphs = (graphType, displayLevel) => {\r\n  const routines = useSelector(selectRoutineEntities);\r\n  const activityPaths = useSelector(selectactivityPathEntities);\r\n  const targets = useSelector(selecttargetEntities);\r\n  const damages = useSelector(selectdamageEntities);\r\n  const effects = useSelector(selecteffectEntities);\r\n  const weaknesses = useSelector(selectweaknessEntities);\r\n\r\n  const evaluator = new ActivityPathEvaluator(\r\n    activityPaths,\r\n    targets,\r\n    damages,\r\n    effects,\r\n    weaknesses\r\n  );\r\n\r\n  const currentTarget = targets[0];\r\n  let title = \"@\" + displayLevel;\r\n  let byLevelTile = currentTarget.name;\r\n\r\n  title += \" Vs \";\r\n  title += \" AC: \" + defaultACs[currentTarget.ACTrend][displayLevel];\r\n  title += \" Fort: \" + defaultSaves[currentTarget.FortTrend][displayLevel];\r\n  title += \" Ref: \" + defaultSaves[currentTarget.RefTrend][displayLevel];\r\n  title += \" Will: \" + defaultSaves[currentTarget.WillTrend][displayLevel];\r\n  title += \" Per: \" + defaultSaves[currentTarget.PerTrend][displayLevel];\r\n\r\n  // byLevelTile += \" Vs \";\r\n  // byLevelTile += \" AC: \" + currentTarget.ACTrend;\r\n  // byLevelTile += \" Fort: \" + currentTarget.FortTrend;\r\n  // byLevelTile += \" Ref: \" + currentTarget.RefTrend;\r\n  // byLevelTile += \" Will: \" + currentTarget.WillTrend;\r\n  // byLevelTile += \" Per: \" + currentTarget.PerTrend;\r\n\r\n  let datasets;\r\n  let perDatasets;\r\n  let expectedDamages;\r\n  let expectedPersistentDamages;\r\n  switch (graphType) {\r\n    case graphTypes.DISTRIBUTION:\r\n      ({ expectedDamages, expectedPersistentDamages, datasets, perDatasets } =\r\n        evaluateDistribution(routines, evaluator, displayLevel));\r\n      break;\r\n    case graphTypes.PMDEFENSE:\r\n      ({ expectedDamages, expectedPersistentDamages, datasets, perDatasets } =\r\n        evaluatePM(routines, evaluator, displayLevel, true));\r\n      break;\r\n    case graphTypes.PMRES:\r\n      ({ expectedDamages, expectedPersistentDamages, datasets, perDatasets } =\r\n        evaluatePM(routines, evaluator, displayLevel, false));\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  let { datasets: byLeveldatasets, perDatasets: byLevelperDatasets } =\r\n    evaluateByLevel(routines, evaluator);\r\n\r\n  let xtitle;\r\n  let ytitle;\r\n  if (graphType === graphTypes.DISTRIBUTION) {\r\n    xtitle = \"damage\";\r\n    ytitle = \"chance\";\r\n  } else if (graphType === graphTypes.PMDEFENSE) {\r\n    xtitle = \"+/- AC/Save Bonus\";\r\n    ytitle = \"Expected Damage\";\r\n  } else if (graphType === graphTypes.PMRES) {\r\n    xtitle = \"+/- Resistance/Weakness\";\r\n    ytitle = \"Expected Damage\";\r\n  }\r\n\r\n  let damageChart = (\r\n    <Plot\r\n      classname=\"plot\"\r\n      data={datasets}\r\n      layout={{\r\n        title: title,\r\n        autosize: true,\r\n        xaxis: { title: xtitle },\r\n        yaxis: { title: ytitle },\r\n        legend: {\r\n          x: 1,\r\n          y: 1,\r\n          xanchor: \"right\",\r\n        },\r\n        margin: {\r\n          l: 40,\r\n          r: 40,\r\n        },\r\n      }}\r\n      useResizeHandler={true}\r\n      style={{ width: \"100%\", height: \"100%\" }}\r\n    />\r\n  );\r\n  let persistentDamageChart = (\r\n    <Plot\r\n      classname=\"plot\"\r\n      data={perDatasets}\r\n      layout={{\r\n        title: \"Expected Persistent Damage\",\r\n        autosize: true,\r\n        xaxis: { title: \"persistent damage\" },\r\n        yaxis: { title: \"chance\" },\r\n        legend: {\r\n          x: 1,\r\n          y: 1,\r\n          xanchor: \"right\",\r\n        },\r\n        margin: {\r\n          l: 40,\r\n          r: 40,\r\n        },\r\n      }}\r\n      useResizeHandler={true}\r\n      style={{ width: \"100%\", height: \"100%\" }}\r\n    />\r\n  );\r\n  let byLevelDamageChart = (\r\n    <Plot\r\n      classname=\"plot\"\r\n      data={byLeveldatasets}\r\n      layout={{\r\n        title: byLevelTile,\r\n        autosize: true,\r\n        xaxis: { title: \"Level\" },\r\n        yaxis: { title: \"Expected Damage\" },\r\n        legend: {\r\n          x: 0,\r\n          y: 1,\r\n          xanchor: \"left\",\r\n        },\r\n        margin: {\r\n          l: 40,\r\n          r: 40,\r\n        },\r\n      }}\r\n      useResizeHandler={true}\r\n      style={{ width: \"100%\", height: \"100%\" }}\r\n    />\r\n  );\r\n  let byLevelPerDamageChart = (\r\n    <Plot\r\n      classname=\"plot\"\r\n      data={byLevelperDatasets}\r\n      layout={{\r\n        title: byLevelTile,\r\n        autosize: true,\r\n        xaxis: { title: \"Level\" },\r\n        yaxis: { title: \"Expected Persistent Damage\" },\r\n        legend: {\r\n          x: 1,\r\n          y: 1,\r\n          xanchor: \"right\",\r\n        },\r\n        margin: {\r\n          l: 40,\r\n          r: 40,\r\n        },\r\n      }}\r\n      useResizeHandler={true}\r\n      style={{ width: \"100%\", height: \"100%\" }}\r\n    />\r\n  );\r\n  return {\r\n    expectedDamages,\r\n    expectedPersistentDamages,\r\n    damageChart,\r\n    persistentDamageChart,\r\n    byLevelDamageChart,\r\n    byLevelPerDamageChart,\r\n  };\r\n};\r\n\r\nconst evaluateByLevel = (routines, evaluator) => {\r\n  let datasets = [];\r\n  let perDatasets = [];\r\n\r\n  for (let id in routines) {\r\n    let routine = routines[id];\r\n    if (!routine.display) continue;\r\n\r\n    const levelArray = [];\r\n    const expDbyLevel = [];\r\n    const expPDbyLevel = [];\r\n    for (let level = 1; level <= 20; level++) {\r\n      if (!evaluator.canEvaluate(level, routine)) continue;\r\n      levelArray.push(level);\r\n      let { expD, expP } = evaluator.evalRoutine(routine, level, 0, 0);\r\n      expDbyLevel.push(expD);\r\n      expPDbyLevel.push(expP);\r\n    }\r\n    datasets.push({\r\n      type: \"scatter\",\r\n      name: routine.name,\r\n      x: levelArray,\r\n      y: expDbyLevel,\r\n      yaxis: \"y\",\r\n    });\r\n    perDatasets.push({\r\n      type: \"scatter\",\r\n      name: routine.name,\r\n      x: levelArray,\r\n      y: expPDbyLevel,\r\n      yaxis: \"y\",\r\n    });\r\n  }\r\n\r\n  return { datasets, perDatasets };\r\n};\r\n\r\nconst evaluatePM = (routines, evaluator, displayLevel, defense = true) => {\r\n  let datasets = [];\r\n  let perDatasets = [];\r\n  let expectedDamages = [];\r\n  let expectedPersistentDamages = [];\r\n\r\n  // return {\r\n  //   expectedDamages,\r\n  //   expectedPersistentDamages,\r\n  //   datasets,\r\n  //   perDatasets,\r\n  // };\r\n\r\n  for (let id in routines) {\r\n    let routine = routines[id];\r\n    if (!routine.display) continue;\r\n    if (!evaluator.canEvaluate(displayLevel, routine)) continue;\r\n\r\n    const bonusArray = [];\r\n    const expDbyBonus = [];\r\n    const expPDbyBonus = [];\r\n\r\n    for (let bonus = -5; bonus <= 5; bonus++) {\r\n      bonusArray.push(bonus);\r\n      let { expD, expP } = evaluator.evalRoutine(\r\n        routine,\r\n        displayLevel,\r\n        defense ? bonus : 0,\r\n        defense ? 0 : bonus\r\n      );\r\n\r\n      if (bonus === 0) {\r\n        expectedDamages.push(\r\n          <div key={routine.id}>\r\n            {routine.name}\r\n            {\": \"}\r\n            {expD.toFixed(2)}\r\n          </div>\r\n        );\r\n        expectedPersistentDamages.push(\r\n          <div key={routine.id}>\r\n            {routine.name}\r\n            {\": \"}\r\n            {expP.toFixed(2)}\r\n          </div>\r\n        );\r\n      }\r\n\r\n      expDbyBonus.push(expD);\r\n      expPDbyBonus.push(expP);\r\n    }\r\n\r\n    datasets.push({\r\n      type: \"scatter\",\r\n      name: routine.name,\r\n      x: bonusArray,\r\n      y: expDbyBonus,\r\n      yaxis: \"y\",\r\n    });\r\n    perDatasets.push({\r\n      type: \"scatter\",\r\n      name: routine.name,\r\n      x: bonusArray,\r\n      y: expPDbyBonus,\r\n      yaxis: \"y\",\r\n    });\r\n  }\r\n  return { expectedDamages, expectedPersistentDamages, datasets, perDatasets };\r\n};\r\n\r\nconst evaluateDistribution = (routines, evaluator, displayLevel) => {\r\n  let datasets = [];\r\n  let perDatasets = [];\r\n  let expectedDamages = [];\r\n  let expectedPersistentDamages = [];\r\n\r\n  // if (!evaluator.canEvaluate(displayLevel))\r\n  //   return {\r\n  //     expectedDamages,\r\n  //     expectedPersistentDamages,\r\n  //     datasets,\r\n  //     perDatasets,\r\n  //   };\r\n\r\n  for (let id in routines) {\r\n    let routine = routines[id];\r\n    if (!routine.display) continue;\r\n    if (!evaluator.canEvaluate(displayLevel, routine)) continue;\r\n    let {\r\n      expD,\r\n      expP,\r\n      dataArray,\r\n      routineDDist,\r\n      cumulative,\r\n      PdataArray,\r\n      routinePDDist,\r\n      Pcumulative,\r\n    } = evaluator.evalRoutine(routine, displayLevel, 0, 0);\r\n    expectedDamages.push(\r\n      <div key={routine.id}>\r\n        {routine.name}\r\n        {\": \"}\r\n        {expD.toFixed(2)}\r\n      </div>\r\n    );\r\n    expectedPersistentDamages.push(\r\n      <div key={routine.id}>\r\n        {routine.name}\r\n        {\": \"}\r\n        {expP.toFixed(2)}\r\n      </div>\r\n    );\r\n    datasets.push({\r\n      type: \"scatter\",\r\n      name: routine.name,\r\n      x: dataArray,\r\n      y: cumulative,\r\n      yaxis: \"y\",\r\n    });\r\n    datasets.push({\r\n      type: \"bar\",\r\n      name: expD.toFixed(2),\r\n      x: dataArray,\r\n      y: routineDDist,\r\n    });\r\n    perDatasets.push({\r\n      type: \"scatter\",\r\n      name: routine.name,\r\n      x: PdataArray,\r\n      y: Pcumulative,\r\n    });\r\n    perDatasets.push({\r\n      type: \"bar\",\r\n      name: expP.toFixed(2),\r\n      x: PdataArray,\r\n      y: routinePDDist,\r\n    });\r\n  }\r\n  return { expectedDamages, expectedPersistentDamages, datasets, perDatasets };\r\n};\r\n\r\nexport default useGenerateGraphs;\r\n","import React, { useState } from \"react\";\r\nimport { graphTypes } from \"../Model/types\";\r\n\r\nimport useGenerateGraphs from \"./useGenerateGraphs\";\r\n\r\nconst Display = () => {\r\n  // evaluates routines and displays appropriate graphs\r\n\r\n  const [addPersistent, setAddPersistent] = useState(false);\r\n  const [graphType, setGraphType] = useState(graphTypes.DISTRIBUTION);\r\n  const [displayLevel, setDisplayLevel] = useState(1);\r\n  const {\r\n    expectedDamages,\r\n    expectedPersistentDamages,\r\n    damageChart,\r\n    persistentDamageChart,\r\n    byLevelDamageChart,\r\n    byLevelPerDamageChart,\r\n  } = useGenerateGraphs(graphType, displayLevel);\r\n  // const [perMulti, setPerMulti] = useState(2);\r\n\r\n  const graphTypeOptions = [];\r\n  for (let gt in graphTypes) {\r\n    graphTypeOptions.push(<option key={gt}>{graphTypes[gt]}</option>);\r\n  }\r\n  const displayLevelOptions = [];\r\n  for (let i = 1; i <= 20; i++) {\r\n    displayLevelOptions.push(\r\n      <option key={i} value={i}>\r\n        {i}\r\n      </option>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"box\">\r\n      {\"Graph Type: \"}\r\n      <select value={graphType} onChange={(e) => setGraphType(e.target.value)}>\r\n        {graphTypeOptions}\r\n      </select>\r\n      {graphType === graphTypes.BYLEVEL ? (\r\n        \"\"\r\n      ) : (\r\n        <select\r\n          value={displayLevel}\r\n          onChange={(e) => setDisplayLevel(parseInt(e.target.value))}\r\n        >\r\n          {displayLevelOptions}\r\n        </select>\r\n      )}\r\n      {\" Show persistent damage: \"}\r\n      <input\r\n        type=\"checkbox\"\r\n        checked={addPersistent}\r\n        onChange={(e) => setAddPersistent(e.target.checked)}\r\n      />\r\n      {/* , persistent damage multiplier:\r\n      <input\r\n        type=\"number\"\r\n        value={perMulti ? perMulti : 0}\r\n        onChange={(e) => setPerMulti(e.target.valueAsNumber)}\r\n      /> */}\r\n      <div>\r\n        Expected Damage:\r\n        {expectedDamages}\r\n      </div>\r\n      {damageChart}\r\n      {byLevelDamageChart}\r\n      {!addPersistent ? (\r\n        \"\"\r\n      ) : (\r\n        <div>\r\n          <div>\r\n            Expected Persistent Damage:\r\n            {expectedPersistentDamages}\r\n          </div>\r\n          {persistentDamageChart}\r\n          {byLevelPerDamageChart}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Display;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { levelOptions } from \"../Model/options\";\r\n\r\nexport const generateEntries = (adjustments) => {\r\n  let currentValue = 0;\r\n  const entries = [];\r\n  for (let level = 1; level <= 20; level++) {\r\n    if (currentValue !== adjustments[level]) {\r\n      currentValue = adjustments[level];\r\n      entries.push([level, currentValue]);\r\n    }\r\n  }\r\n  return entries;\r\n};\r\n\r\nconst generateAdjustments = (entries) => {\r\n  const adjustments = {};\r\n  let currentValue = 0;\r\n  let currentIndex = 0;\r\n  // console.log(entries);\r\n  for (let level = 1; level <= 20; level++) {\r\n    if (entries[currentIndex] && entries[currentIndex][0] === level) {\r\n      // console.log(\"here\");\r\n      currentValue = parseInt(entries[currentIndex][1]);\r\n      if (!currentValue) currentValue = 0;\r\n      currentIndex++;\r\n    }\r\n    adjustments[level] = currentValue;\r\n  }\r\n  return adjustments;\r\n};\r\n\r\nexport const adjustmentsFromLevelChange = (entries, index, newLevel) => {\r\n  entries[index] = [newLevel, entries[index][1]];\r\n  entries.sort((a, b) => a[0] - b[0]);\r\n  return generateAdjustments(entries);\r\n};\r\n\r\nexport const adjustmentsFromValueChange = (entries, index, newValue) => {\r\n  entries[index] = [entries[index][0], newValue];\r\n  return generateAdjustments(entries);\r\n};\r\n\r\nexport const adjustmentsFromNewEntry = (entries) => {\r\n  let lastValue = entries.length > 0 ? entries[entries.length - 1] : [0, 0];\r\n  entries.push([lastValue[0] + 1, lastValue[1] + 1]);\r\n  return generateAdjustments(entries);\r\n};\r\n\r\nexport const LevelList = (name, dispatch, action, id, adjustments) => {\r\n  const baseEntries = generateEntries(adjustments);\r\n  let [entries, setEntries] = useState(baseEntries);\r\n  let be = JSON.stringify(baseEntries);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useEffect(() => setEntries(baseEntries), [be]);\r\n  let levelList = [];\r\n\r\n  for (let i = 0; i < entries.length; i++) {\r\n    levelList.push(\r\n      <span className=\"input\" key={i}>\r\n        @\r\n        <select\r\n          value={entries[i][0]}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              action({\r\n                id,\r\n                changes: {\r\n                  [name]: adjustmentsFromLevelChange(\r\n                    entries,\r\n                    i,\r\n                    parseInt(e.target.value)\r\n                  ),\r\n                },\r\n              })\r\n            )\r\n          }\r\n        >\r\n          {levelOptions}\r\n        </select>\r\n        +\r\n        <input\r\n          type=\"number\"\r\n          value={entries[i][1]}\r\n          onChange={(e) => {\r\n            let newEntries = entries.slice();\r\n            newEntries[i][1] = e.target.value;\r\n            setEntries(newEntries);\r\n            e.target.focus();\r\n          }}\r\n          onBlur={(e) =>\r\n            dispatch(\r\n              action({\r\n                id,\r\n                changes: {\r\n                  [name]: generateAdjustments(entries),\r\n                },\r\n              })\r\n            )\r\n          }\r\n        />\r\n      </span>\r\n    );\r\n  }\r\n  levelList.push(\r\n    <button\r\n      key=\"addButton\"\r\n      className=\"add\"\r\n      onClick={() =>\r\n        dispatch(\r\n          action({\r\n            id,\r\n            changes: {\r\n              [name]: adjustmentsFromNewEntry(entries),\r\n            },\r\n          })\r\n        )\r\n      }\r\n    >\r\n      +\r\n    </button>\r\n  );\r\n  return levelList;\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { LevelList } from \"./LevelList\";\r\nimport { damageRemoved, damageUpdated, selectdamageById } from \"./routineSlice\";\r\nimport {\r\n  damageConditionOptions,\r\n  damageTrendOptions,\r\n  damageTypeOptions,\r\n  diceSizeOptions,\r\n  dieTrendOptions,\r\n  materialOptions,\r\n  multiplierOptions,\r\n} from \"../Model/options\";\r\nimport { damageTrends } from \"../Model/types\";\r\n\r\nexport const Damage = ({ parentId, id }) => {\r\n  const {\r\n    damageCondition,\r\n    damageType,\r\n    material,\r\n    persistent,\r\n    multiplier,\r\n\r\n    dieTrend,\r\n    dieAdjustments,\r\n    diceSize,\r\n    fatal,\r\n    fatalDie,\r\n    damageTrend,\r\n    damageAdjustments,\r\n  } = useSelector((state) => selectdamageById(state, id));\r\n  const dispatch = useDispatch();\r\n\r\n  const dieLevelList = LevelList(\r\n    \"dieAdjustments\",\r\n    dispatch,\r\n    damageUpdated,\r\n    id,\r\n    dieAdjustments\r\n  );\r\n\r\n  const damageLevelList = LevelList(\r\n    \"damageAdjustments\",\r\n    dispatch,\r\n    damageUpdated,\r\n    id,\r\n    damageAdjustments\r\n  );\r\n\r\n  const damageTrendList = damageTrend.map((dt, index) => {\r\n    return (\r\n      <select\r\n        key={index} // no stable id\r\n        value={dt}\r\n        onChange={(e) => {\r\n          let newdt = damageTrend.slice();\r\n          if (e.target.value === damageTrends.NONE) {\r\n            newdt.splice(index, 1);\r\n          } else {\r\n            newdt[index] = e.target.value;\r\n          }\r\n          dispatch(\r\n            damageUpdated({\r\n              id,\r\n              changes: { damageTrend: newdt },\r\n            })\r\n          );\r\n        }}\r\n      >\r\n        {damageTrendOptions}\r\n      </select>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"box\">\r\n      <button\r\n        className=\"delete\"\r\n        onClick={(e) => {\r\n          dispatch(damageRemoved({ id, parentId }));\r\n        }}\r\n      >\r\n        -\r\n      </button>\r\n      <select\r\n        value={damageCondition}\r\n        onChange={(e) =>\r\n          dispatch(\r\n            damageUpdated({ id, changes: { damageCondition: e.target.value } })\r\n          )\r\n        }\r\n      >\r\n        {damageConditionOptions}\r\n      </select>\r\n      {\": \"}\r\n      <div>\r\n        <span className=\"input\">\r\n          {\"Dice: (\"}\r\n          <select\r\n            value={dieTrend}\r\n            onChange={(e) =>\r\n              dispatch(\r\n                damageUpdated({\r\n                  id,\r\n                  changes: { dieTrend: e.target.value },\r\n                })\r\n              )\r\n            }\r\n          >\r\n            {dieTrendOptions}\r\n          </select>\r\n          +{dieLevelList})\r\n        </span>\r\n        <span className=\"input\">\r\n          {\" d\"}\r\n          <select\r\n            value={diceSize}\r\n            onChange={(e) =>\r\n              dispatch(\r\n                damageUpdated({\r\n                  id,\r\n                  changes: { diceSize: parseInt(e.target.value) },\r\n                })\r\n              )\r\n            }\r\n          >\r\n            {diceSizeOptions}\r\n          </select>\r\n        </span>\r\n        <span className=\"input\">\r\n          {\" Fatal \"}\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={fatal}\r\n            onChange={(e) =>\r\n              dispatch(\r\n                damageUpdated({\r\n                  id,\r\n                  changes: { fatal: e.target.checked },\r\n                })\r\n              )\r\n            }\r\n          />\r\n          {fatal ? (\r\n            <select\r\n              value={fatalDie}\r\n              onChange={(e) =>\r\n                dispatch(\r\n                  damageUpdated({\r\n                    id,\r\n                    changes: { fatalDie: parseInt(e.target.value) },\r\n                  })\r\n                )\r\n              }\r\n            >\r\n              {diceSizeOptions}\r\n            </select>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </span>\r\n        <div>\r\n          <span className=\"input\">\r\n            {\"Static: (\"}\r\n            {damageTrendList}\r\n            <button\r\n              key=\"addButton\"\r\n              className=\"add\"\r\n              onClick={() => {\r\n                let newdt = damageTrend.slice();\r\n                newdt.push(damageTrends.NONE);\r\n                dispatch(\r\n                  damageUpdated({\r\n                    id,\r\n                    changes: {\r\n                      damageTrend: newdt,\r\n                    },\r\n                  })\r\n                );\r\n              }}\r\n            >\r\n              +\r\n            </button>\r\n            +{damageLevelList})\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <span className=\"input\">\r\n        {\" Type: \"}\r\n        <select\r\n          value={damageType}\r\n          onChange={(e) => {\r\n            dispatch(\r\n              damageUpdated({ id, changes: { damageType: e.target.value } })\r\n            );\r\n          }}\r\n        >\r\n          {damageTypeOptions}\r\n        </select>\r\n        <select\r\n          value={material}\r\n          onChange={(e) => {\r\n            dispatch(\r\n              damageUpdated({ id, changes: { material: e.target.value } })\r\n            );\r\n          }}\r\n        >\r\n          {materialOptions}\r\n        </select>\r\n      </span>\r\n      <span className=\"input\">\r\n        {\" Persistent: \"}\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={persistent}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              damageUpdated({\r\n                id,\r\n                changes: { persistent: e.target.checked },\r\n              })\r\n            )\r\n          }\r\n        />\r\n      </span>{\" \"}\r\n      <span className=\"input\">\r\n        {\" x \"}\r\n        <select\r\n          value={multiplier}\r\n          onChange={(e) => {\r\n            dispatch(\r\n              damageUpdated({\r\n                id,\r\n                changes: { multiplier: parseFloat(e.target.value) },\r\n              })\r\n            );\r\n          }}\r\n        >\r\n          {multiplierOptions}\r\n        </select>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  conditionOptions,\r\n  effectTypeOptions,\r\n  levelOptions,\r\n} from \"../Model/options\";\r\nimport { effectRemoved, effectUpdated, selecteffectById } from \"./routineSlice\";\r\n\r\nexport const Effect = ({ parentId, id }) => {\r\n  const { effectCondition, effectType, startLevel, endLevel } = useSelector(\r\n    (state) => selecteffectById(state, id)\r\n  );\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"box\">\r\n      <button\r\n        className=\"delete\"\r\n        onClick={(e) => {\r\n          dispatch(effectRemoved({ id, parentId }));\r\n        }}\r\n      >\r\n        -\r\n      </button>\r\n      <select\r\n        value={effectCondition}\r\n        onChange={(e) =>\r\n          dispatch(\r\n            effectUpdated({ id, changes: { effectCondition: e.target.value } })\r\n          )\r\n        }\r\n      >\r\n        {conditionOptions}\r\n      </select>\r\n      {\": \"}\r\n      <select\r\n        value={effectType}\r\n        onChange={(e) =>\r\n          dispatch(\r\n            effectUpdated({ id, changes: { effectType: e.target.value } })\r\n          )\r\n        }\r\n      >\r\n        {effectTypeOptions}\r\n      </select>\r\n      <span className=\"input\">\r\n        @\r\n        <select\r\n          value={startLevel}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              effectUpdated({\r\n                id,\r\n                changes: { startLevel: parseInt(e.target.value) },\r\n              })\r\n            )\r\n          }\r\n        >\r\n          {levelOptions}\r\n        </select>\r\n        to\r\n        <select\r\n          value={endLevel}\r\n          onChange={(e) =>\r\n            dispatch(\r\n              effectUpdated({\r\n                id,\r\n                changes: { endLevel: parseInt(e.target.value) },\r\n              })\r\n            )\r\n          }\r\n        >\r\n          {levelOptions}\r\n        </select>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { LevelList } from \"./LevelList\";\r\nimport { damageCreated } from \"./routineSlice\";\r\nimport {\r\n  activityTypeOptions,\r\n  profTrendOptions,\r\n  conditionOptions,\r\n  defenseOptions,\r\n  MAPOptions,\r\n  rollOptions,\r\n  statTrendOptions,\r\n  itemBTrendOptions,\r\n} from \"../Model/options\";\r\nimport {\r\n  activityPathCreated,\r\n  activityPathRemoved,\r\n  activityPathUpdated,\r\n  selectactivityPathById,\r\n} from \"./routineSlice\";\r\nimport { activityTypes } from \"../Model/types\";\r\nimport { Damage } from \"./Damage\";\r\nimport { Effect } from \"./Effect\";\r\nimport { effectCreated } from \"./routineSlice\";\r\n\r\nexport const ActivityPath = ({\r\n  id,\r\n  parentId,\r\n  routineId,\r\n  displayCondition = true,\r\n}) => {\r\n  const {\r\n    condition,\r\n\r\n    rollType,\r\n    type,\r\n    profTrend,\r\n    statTrend,\r\n    itemTrend,\r\n    bonusAdjustments,\r\n    MAP,\r\n    targetType,\r\n\r\n    damages,\r\n    effects,\r\n    apIds,\r\n  } = useSelector((state) => selectactivityPathById(state, id));\r\n  const dispatch = useDispatch();\r\n\r\n  const bonusLevelList = LevelList(\r\n    \"bonusAdjustments\",\r\n    dispatch,\r\n    activityPathUpdated,\r\n    id,\r\n    bonusAdjustments\r\n  );\r\n\r\n  return (\r\n    <div className=\"ImportantBox\">\r\n      {displayCondition ? (\r\n        <div>\r\n          {\"Condition: \"}\r\n          <select\r\n            value={condition}\r\n            onChange={(e) =>\r\n              dispatch(\r\n                activityPathUpdated({\r\n                  id,\r\n                  changes: { condition: e.target.value },\r\n                })\r\n              )\r\n            }\r\n          >\r\n            {conditionOptions}\r\n          </select>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      <div className=\"\">\r\n        <div className=\"flexbox\">\r\n          <button\r\n            className=\"delete\"\r\n            onClick={(e) => {\r\n              dispatch(activityPathRemoved({ id, parentId, routineId }));\r\n            }}\r\n          >\r\n            -\r\n          </button>\r\n          <span className=\"input\">\r\n            <select\r\n              value={rollType}\r\n              onChange={(e) => {\r\n                dispatch(\r\n                  activityPathUpdated({\r\n                    id,\r\n                    changes: { rollType: e.target.value },\r\n                  })\r\n                );\r\n              }}\r\n            >\r\n              {rollOptions}\r\n            </select>\r\n          </span>\r\n          <span className=\"input\">\r\n            <select\r\n              value={type}\r\n              onChange={(e) =>\r\n                dispatch(\r\n                  activityPathUpdated({ id, changes: { type: e.target.value } })\r\n                )\r\n              }\r\n            >\r\n              {activityTypeOptions}\r\n            </select>\r\n          </span>{\" \"}\r\n          <span className=\"input\">\r\n            {type === activityTypes.SAVE ? \"DC: (10 + \" : \"Bonus: (\"}\r\n            <select\r\n              value={profTrend}\r\n              onChange={(e) =>\r\n                dispatch(\r\n                  activityPathUpdated({\r\n                    id,\r\n                    changes: { profTrend: e.target.value },\r\n                  })\r\n                )\r\n              }\r\n            >\r\n              {profTrendOptions}\r\n            </select>\r\n            <select\r\n              value={statTrend}\r\n              onChange={(e) =>\r\n                dispatch(\r\n                  activityPathUpdated({\r\n                    id,\r\n                    changes: { statTrend: e.target.value },\r\n                  })\r\n                )\r\n              }\r\n            >\r\n              {statTrendOptions}\r\n            </select>\r\n            <select\r\n              value={itemTrend}\r\n              onChange={(e) =>\r\n                dispatch(\r\n                  activityPathUpdated({\r\n                    id,\r\n                    changes: { itemTrend: e.target.value },\r\n                  })\r\n                )\r\n              }\r\n            >\r\n              {itemBTrendOptions}\r\n            </select>\r\n            +{bonusLevelList})\r\n          </span>\r\n          {type === activityTypes.STRIKE ? (\r\n            <span className=\"input\">\r\n              {\" MAP: \"}\r\n              <select\r\n                value={MAP}\r\n                onChange={(e) =>\r\n                  dispatch(\r\n                    activityPathUpdated({\r\n                      id,\r\n                      changes: { MAP: e.target.value },\r\n                    })\r\n                  )\r\n                }\r\n              >\r\n                {MAPOptions}\r\n              </select>\r\n            </span>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <span className=\"input\">\r\n            {\" VS: \"}\r\n            <select\r\n              value={targetType}\r\n              onChange={(e) => {\r\n                dispatch(\r\n                  activityPathUpdated({\r\n                    id,\r\n                    changes: { targetType: e.target.value },\r\n                  })\r\n                );\r\n              }}\r\n            >\r\n              {defenseOptions}\r\n            </select>\r\n          </span>\r\n        </div>\r\n        <div className=\"box\">\r\n          {\"Damage: \"}\r\n          {damages.map((damageId) => (\r\n            <Damage parentId={id} id={damageId} key={damageId} />\r\n          ))}\r\n          <button\r\n            className=\"add\"\r\n            onClick={() => dispatch(damageCreated({ parentId: id }))}\r\n          >\r\n            +\r\n          </button>\r\n        </div>\r\n        <div className=\"box\">\r\n          {\"Effects: \"}\r\n          {effects.map((effectId) => (\r\n            <Effect parentId={id} id={effectId} key={effectId} />\r\n          ))}\r\n          <button\r\n            className=\"add\"\r\n            onClick={() => dispatch(effectCreated({ parentId: id }))}\r\n          >\r\n            +\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"box\">\r\n        {apIds.map((apId) => (\r\n          <ActivityPath id={apId} parentId={id} key={apId} />\r\n        ))}\r\n        <button\r\n          className=\"add\"\r\n          onClick={() =>\r\n            dispatch(\r\n              activityPathCreated({\r\n                parentId: id,\r\n                isStrike: true,\r\n                applyMAP: true,\r\n              })\r\n            )\r\n          }\r\n        >\r\n          + Strike\r\n        </button>\r\n        <button\r\n          className=\"add\"\r\n          onClick={() =>\r\n            dispatch(activityPathCreated({ parentId: id, isStrike: false }))\r\n          }\r\n        >\r\n          + Save\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  activityPathCreated,\r\n  routineUpdated,\r\n  selectRoutineById,\r\n} from \"./routineSlice\";\r\nimport { levelOptions } from \"../Model/options\";\r\nimport { ActivityPath } from \"./ActivityPath\";\r\n\r\nfunction SelectedRoutine({ routineId }) {\r\n  // const selectedRoutine = useSelector(selectSelectedRoutine);\r\n  const { name, startLevel, endLevel, description, apIds } = useSelector(\r\n    (state) => selectRoutineById(state, routineId)\r\n  );\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"selectedRoutine\">\r\n      <div className=\"box\">\r\n        <div>\r\n          <NameInput id={routineId} name={name} />\r\n          <span className=\"input\">\r\n            @\r\n            <select\r\n              value={startLevel}\r\n              onChange={(e) =>\r\n                dispatch(\r\n                  routineUpdated({\r\n                    id: routineId,\r\n                    changes: { startLevel: parseInt(e.target.value) },\r\n                  })\r\n                )\r\n              }\r\n            >\r\n              {levelOptions}\r\n            </select>\r\n            to\r\n            <select\r\n              value={endLevel}\r\n              onChange={(e) =>\r\n                dispatch(\r\n                  routineUpdated({\r\n                    id: routineId,\r\n                    changes: { endLevel: parseInt(e.target.value) },\r\n                  })\r\n                )\r\n              }\r\n            >\r\n              {levelOptions}\r\n            </select>\r\n          </span>\r\n        </div>\r\n        <DescriptionInput id={routineId} description={description} />\r\n      </div>\r\n      {apIds.map((apId) => (\r\n        <ActivityPath\r\n          id={apId}\r\n          routineId={routineId}\r\n          key={apId}\r\n          displayCondition={false}\r\n        />\r\n      ))}\r\n      <button\r\n        className=\"add\"\r\n        onClick={() =>\r\n          dispatch(activityPathCreated({ routineId, isStrike: true }))\r\n        }\r\n      >\r\n        + Strike\r\n      </button>\r\n      <button\r\n        className=\"add\"\r\n        onClick={() =>\r\n          dispatch(activityPathCreated({ routineId, isStrike: false }))\r\n        }\r\n      >\r\n        + Save\r\n      </button>\r\n      {/* <EffectInput /> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst NameInput = ({ id, name: baseName }) => {\r\n  const dispatch = useDispatch();\r\n  let [name, setName] = useState(baseName);\r\n  useEffect(() => setName(baseName), [baseName]);\r\n  // const name = useSelector((state) => selectRoutineById(state, id)).name;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <label htmlFor=\"routineName\">Routine Name:</label>\r\n      <input\r\n        id=\"routineName\"\r\n        type=\"text\"\r\n        placeholder=\"Enter routine name\"\r\n        value={name}\r\n        onChange={(e) => setName(e.target.value)}\r\n        onBlur={() => dispatch(routineUpdated({ id, changes: { name } }))}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n};\r\nconst DescriptionInput = ({ id, description: baseDescription }) => {\r\n  const dispatch = useDispatch();\r\n  const [description, setDescription] = useState(baseDescription);\r\n  useEffect(() => setDescription(baseDescription), [baseDescription]);\r\n\r\n  return (\r\n    <div>\r\n      <textarea\r\n        className=\"routineDescription\"\r\n        id=\"routineDescription\"\r\n        placeholder=\"Enter routine description\"\r\n        value={description}\r\n        onChange={(e) => setDescription(e.target.value)}\r\n        onBlur={() =>\r\n          dispatch(routineUpdated({ id, changes: { description } }))\r\n        }\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectedRoutine;\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  routineCreated,\r\n  routineRemoved,\r\n  routineUpdated,\r\n  selectAllRoutines,\r\n  selectSelectedRoutine,\r\n  setRoutine,\r\n} from \"./routineSlice\";\r\n\r\nconst Routines = () => {\r\n  const routines = useSelector(selectAllRoutines);\r\n  const selectedRoutine = useSelector(selectSelectedRoutine);\r\n  const dispatch = useDispatch();\r\n\r\n  const routineOptions = [];\r\n  const routineDisplays = [];\r\n  routines.forEach((routine) => {\r\n    routineOptions.push(\r\n      <option value={routine.id} key={routine.id}>\r\n        {routine.name}\r\n      </option>\r\n    );\r\n    routineDisplays.push(\r\n      <div className=\"flexbox\" key={routine.id}>\r\n        <button\r\n          className=\"remove\"\r\n          onClick={() => dispatch(routineRemoved(routine.id))}\r\n        >\r\n          -\r\n        </button>\r\n        <span\r\n          className={routine.display ? \"routineOn\" : \"routineOff\"}\r\n          onClick={() =>\r\n            dispatch(\r\n              routineUpdated({\r\n                id: routine.id,\r\n                changes: { display: !routine.display },\r\n              })\r\n            )\r\n          }\r\n        >\r\n          {routine.name}\r\n        </span>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"box\">\r\n      Selected Routine:\r\n      <select\r\n        value={selectedRoutine}\r\n        onChange={(e) => dispatch(setRoutine(e.target.value))}\r\n      >\r\n        {routineOptions}\r\n      </select>\r\n      <button\r\n        className=\"add\"\r\n        onClick={() => dispatch(routineCreated({ copy: false }))}\r\n      >\r\n        +\r\n      </button>\r\n      <button\r\n        className=\"add\"\r\n        onClick={() => dispatch(routineCreated({ copy: true }))}\r\n      >\r\n        Copy Selected Routine\r\n      </button>\r\n      <div className=\"routines\">{routineDisplays}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Routines;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  importRoutine,\r\n  selectSelectedRoutineObject,\r\n} from \"../Routines/routineSlice\";\r\n// import { useSelector } from \"react-redux\";\r\n\r\nconst ImportExport = () => {\r\n  const routine = useSelector(selectSelectedRoutineObject);\r\n  const textAreaRef = useRef(null);\r\n  const [textValue, setTextValue] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n\r\n  const tryToAddRoutine = () => {\r\n    dispatch(importRoutine(textValue));\r\n  };\r\n  const paste = () => {\r\n    setTextValue(JSON.stringify(routine));\r\n  };\r\n  const copy = () => {\r\n    textAreaRef.current.select();\r\n    textAreaRef.current.setSelectionRange(0, 99999); /* For mobile devices */\r\n    navigator.clipboard.writeText(textAreaRef.current.value);\r\n    // document.execCommand(\"copy\");\r\n  };\r\n  return (\r\n    <div className=\"box\">\r\n      Import and Export Here:\r\n      <button onClick={tryToAddRoutine}>Import</button>\r\n      <button onClick={paste}>Export</button>\r\n      <button onClick={copy}>Copy</button>\r\n      <div>\r\n        <textarea\r\n          className=\"export\"\r\n          ref={textAreaRef}\r\n          value={textValue}\r\n          onChange={(e) => setTextValue(e.target.value)}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImportExport;\r\n","import React from \"react\";\r\nimport ReactGA from \"react-ga4\";\r\n\r\nimport TargetInput from \"./Target/TargetInput\";\r\nimport Display from \"./Display/Display\";\r\nimport SelectedRoutine from \"./Routines/SelectedRoutine\";\r\nimport Routines from \"./Routines/Routines\";\r\nimport Export from \"./Sharing/Export\";\r\n\r\nimport \"./PF2App.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectSelectedRoutine } from \"./Routines/routineSlice\";\r\n\r\n// Initialize google analytics\r\nReactGA.initialize(\"G-JR2YK097BG\");\r\n\r\nfunction PF2App(props) {\r\n  const selectedRoutine = useSelector(selectSelectedRoutine);\r\n  ReactGA.send(\"pageview\");\r\n\r\n  return (\r\n    <div className=\"PF2App\">\r\n      <TargetInput id={0} />\r\n      <Display />\r\n      <Routines />\r\n      {selectedRoutine !== undefined ? (\r\n        <SelectedRoutine routineId={selectedRoutine} />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <Export />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PF2App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport routineReducer, {\r\n  activityPathAdded,\r\n  damageAdded,\r\n  effectAdded,\r\n  importRoutine,\r\n  routineAdded,\r\n  setRoutine,\r\n} from \"./Routines/routineSlice\";\r\nimport targetReducer, { targetAdded } from \"./Target/targetSlice\";\r\nimport weaknessReducer from \"./Target/weaknessSlice\";\r\nimport {\r\n  activityTypes,\r\n  ACTrends,\r\n  conditions,\r\n  damageTrends,\r\n  damageTypes,\r\n  dCond,\r\n  defenses,\r\n  dieTrends,\r\n  effectTypes,\r\n  itemTrends,\r\n  MAPs,\r\n  materials,\r\n  profTrends,\r\n  rollTypes,\r\n  SaveTrends,\r\n  statTrends,\r\n} from \"./Model/types\";\r\nimport { exampleRoutines } from \"./Model/exampleRoutines\";\r\n\r\nconst empty = {};\r\nconst pickCritSpec = {};\r\nconst one = {};\r\nfor (let i = 1; i <= 20; i++) {\r\n  empty[i] = 0;\r\n  one[i] = 1;\r\n  pickCritSpec[i] = 0;\r\n  if (i >= 5) {\r\n    pickCritSpec[i] = 4;\r\n  }\r\n  if (i >= 12) {\r\n    pickCritSpec[i] = 6;\r\n  }\r\n  if (i >= 19) {\r\n    pickCritSpec[i] = 8;\r\n  }\r\n}\r\n\r\n// const activityPathRemoved = createAction(\r\n//   \"RemoveActivityPath\",\r\n//   (id, parentId) => ({ payload: { id, parentId } })\r\n// );\r\n// const globalReducer = createReducer(, (builder) => {\r\n//   builder.addCase(activityPathRemoved, (state, action) => {\r\n//     const { id, parentId } = action.payload;\r\n//     // activityPathAdapter.removeMany(state, state.entities[id].apIds);\r\n//     activityPathAdapter.removeOne(state, id);\r\n//     if (parentId !== undefined) {\r\n//       state.entities[parentId].apIds = state.entities[parentId].apIds.filter(\r\n//         (apId) => apId !== id\r\n//       );\r\n//     }\r\n//   });\r\n// });\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    routines: routineReducer,\r\n    weaknesses: weaknessReducer,\r\n    targets: targetReducer,\r\n  },\r\n});\r\n// default damages and effects\r\nstore.dispatch(\r\n  damageAdded({\r\n    id: 0,\r\n    damageCondition: dCond.STRIKE,\r\n\r\n    dieTrend: dieTrends.WEAPON,\r\n    dieAdjustments: { ...empty },\r\n    diceSize: 8,\r\n    fatal: false,\r\n    fatalDie: 10,\r\n    damageTrend: [damageTrends.AS18a, damageTrends.MARTIALWEAPONSPEC],\r\n    damageAdjustments: { ...empty },\r\n\r\n    damageType: damageTypes.S,\r\n    material: materials.NONE,\r\n    persistent: false,\r\n    multiplier: 1,\r\n  })\r\n);\r\nstore.dispatch(\r\n  damageAdded({\r\n    id: 1,\r\n    damageCondition: dCond.STRIKE,\r\n\r\n    dieTrend: dieTrends.RUNE,\r\n    dieAdjustments: { ...empty },\r\n    diceSize: 6,\r\n    fatal: false,\r\n    fatalDie: 10,\r\n    damageTrend: [],\r\n    damageAdjustments: { ...empty },\r\n\r\n    damageType: damageTypes.FIRE,\r\n    material: materials.NONE,\r\n    persistent: false,\r\n    multiplier: 1,\r\n  })\r\n);\r\nstore.dispatch(\r\n  damageAdded({\r\n    id: 2,\r\n    damageCondition: dCond.BASIC,\r\n\r\n    dieTrend: dieTrends.SPELLLEVEL2,\r\n    dieAdjustments: { ...empty },\r\n    diceSize: 6,\r\n    fatal: false,\r\n    fatalDie: 10,\r\n    damageTrend: [],\r\n    damageAdjustments: { ...empty },\r\n\r\n    damageType: damageTypes.FIRE,\r\n    material: materials.NONE,\r\n    persistent: false,\r\n    multiplier: 1,\r\n  })\r\n);\r\nstore.dispatch(\r\n  effectAdded({\r\n    id: 0,\r\n    effectCondition: conditions.CRIT,\r\n    effectType: effectTypes.FLATFOOT,\r\n    startLevel: 5,\r\n    endLevel: 20,\r\n  })\r\n);\r\n\r\nstore.dispatch(\r\n  targetAdded({\r\n    id: 0,\r\n    name: \"AC: High, Saves: Moderate\",\r\n\r\n    levelDiff: 0,\r\n\r\n    ACTrend: ACTrends.HIGH,\r\n    FortTrend: SaveTrends.MODERATE,\r\n    RefTrend: SaveTrends.MODERATE,\r\n    WillTrend: SaveTrends.MODERATE,\r\n    PerTrend: SaveTrends.MODERATE,\r\n\r\n    flatfooted: false,\r\n    weaknesses: [],\r\n  })\r\n);\r\n\r\n// add in some example routines\r\nstore.dispatch(\r\n  routineAdded({\r\n    id: 0,\r\n    name: \"Baseline\",\r\n    display: true,\r\n    apIds: [],\r\n    levelDiff: 0,\r\n    description: \"No damage. Just so graphs display 0 with autoscalling.\",\r\n    startLevel: 1,\r\n    endLevel: 20,\r\n  })\r\n);\r\n\r\nstore.dispatch(\r\n  routineAdded({\r\n    id: 1,\r\n    name: \"Greatsword Fighter 2 strikes\",\r\n    display: true,\r\n    apIds: [0],\r\n    levelDiff: 0,\r\n    description:\r\n      \"A simple Fighter making 2 strikes with a greatsword. 1d6 damage runes at 8 and 15. Crit specialization at 5.\",\r\n    startLevel: 1,\r\n    endLevel: 20,\r\n  })\r\n);\r\nstore.dispatch(\r\n  activityPathAdded({\r\n    id: 0,\r\n    condition: conditions.ALWAYS,\r\n\r\n    rollType: rollTypes.NORMAL,\r\n    type: activityTypes.STRIKE,\r\n    profTrend: profTrends.FIGHTERWEAPON,\r\n    statTrend: statTrends.AS18a,\r\n    itemTrend: itemTrends.WEAPON,\r\n    bonusAdjustments: { ...empty },\r\n    MAP: MAPs.N1,\r\n\r\n    targetType: defenses.AC,\r\n    targetInfoId: 0,\r\n\r\n    damages: [3, 4],\r\n    effects: [1],\r\n    apIds: [1],\r\n  })\r\n);\r\nstore.dispatch(\r\n  damageAdded({\r\n    id: 3,\r\n    damageCondition: dCond.STRIKE,\r\n\r\n    dieTrend: dieTrends.WEAPON,\r\n    dieAdjustments: { ...empty },\r\n    diceSize: 12,\r\n    fatal: false,\r\n    fatalDie: 10,\r\n    damageTrend: [damageTrends.AS18a, damageTrends.FIGHTERWEAPONSPEC],\r\n    damageAdjustments: { ...empty },\r\n\r\n    damageType: damageTypes.S,\r\n    material: materials.NONE,\r\n    persistent: false,\r\n    multiplier: 1,\r\n  })\r\n);\r\nstore.dispatch(\r\n  damageAdded({\r\n    id: 4,\r\n    damageCondition: dCond.STRIKE,\r\n\r\n    dieTrend: dieTrends.RUNE,\r\n    dieAdjustments: { ...empty },\r\n    diceSize: 6,\r\n    fatal: false,\r\n    fatalDie: 10,\r\n    damageTrend: [],\r\n    damageAdjustments: { ...empty },\r\n\r\n    damageType: damageTypes.FIRE,\r\n    material: materials.NONE,\r\n    persistent: false,\r\n    multiplier: 1,\r\n  })\r\n);\r\nstore.dispatch(\r\n  effectAdded({\r\n    id: 1,\r\n    effectCondition: conditions.CRIT,\r\n    effectType: effectTypes.FLATFOOT,\r\n    startLevel: 5,\r\n    endLevel: 20,\r\n  })\r\n);\r\nstore.dispatch(\r\n  activityPathAdded({\r\n    id: 1,\r\n    condition: conditions.ALWAYS,\r\n\r\n    rollType: rollTypes.NORMAL,\r\n    type: activityTypes.STRIKE,\r\n    profTrend: profTrends.FIGHTERWEAPON,\r\n    statTrend: statTrends.AS18a,\r\n    itemTrend: itemTrends.WEAPON,\r\n    bonusAdjustments: { ...empty },\r\n    MAP: MAPs.N2,\r\n\r\n    targetType: defenses.AC,\r\n    targetInfoId: 0,\r\n\r\n    damages: [5, 6],\r\n    effects: [2],\r\n    apIds: [],\r\n  })\r\n);\r\nstore.dispatch(\r\n  damageAdded({\r\n    id: 5,\r\n    damageCondition: dCond.STRIKE,\r\n\r\n    dieTrend: dieTrends.WEAPON,\r\n    dieAdjustments: { ...empty },\r\n    diceSize: 12,\r\n    fatal: false,\r\n    fatalDie: 10,\r\n    damageTrend: [damageTrends.AS18a, damageTrends.FIGHTERWEAPONSPEC],\r\n    damageAdjustments: { ...empty },\r\n\r\n    damageType: damageTypes.S,\r\n    material: materials.NONE,\r\n    persistent: false,\r\n    multiplier: 1,\r\n  })\r\n);\r\nstore.dispatch(\r\n  damageAdded({\r\n    id: 6,\r\n    damageCondition: dCond.STRIKE,\r\n\r\n    dieTrend: dieTrends.RUNE,\r\n    dieAdjustments: { ...empty },\r\n    diceSize: 6,\r\n    fatal: false,\r\n    fatalDie: 10,\r\n    damageTrend: [],\r\n    damageAdjustments: { ...empty },\r\n\r\n    damageType: damageTypes.FIRE,\r\n    material: materials.NONE,\r\n    persistent: false,\r\n    multiplier: 1,\r\n  })\r\n);\r\nstore.dispatch(\r\n  effectAdded({\r\n    id: 2,\r\n    effectCondition: conditions.CRIT,\r\n    effectType: effectTypes.FLATFOOT,\r\n    startLevel: 5,\r\n    endLevel: 20,\r\n  })\r\n);\r\n\r\nstore.dispatch(\r\n  routineAdded({\r\n    id: 2,\r\n    name: \"Fireball\",\r\n    display: true,\r\n    apIds: [2],\r\n    levelDiff: 0,\r\n    description: \"A 2d6 / spell level basic reflex save.\",\r\n    startLevel: 1,\r\n    endLevel: 20,\r\n  })\r\n);\r\nstore.dispatch(\r\n  activityPathAdded({\r\n    id: 2,\r\n    condition: conditions.ALWAYS,\r\n\r\n    rollType: rollTypes.NORMAL,\r\n    type: activityTypes.SAVE,\r\n    profTrend: profTrends.CASTERSPELL,\r\n    statTrend: statTrends.AS18a,\r\n    itemTrend: itemTrends.NONE,\r\n    bonusAdjustments: { ...empty },\r\n    MAP: MAPs.N1,\r\n\r\n    targetType: defenses.REF,\r\n    targetInfoId: 0,\r\n\r\n    damages: [7],\r\n    effects: [],\r\n    apIds: [],\r\n  })\r\n);\r\nstore.dispatch(\r\n  damageAdded({\r\n    id: 7,\r\n    damageCondition: dCond.BASIC,\r\n\r\n    dieTrend: dieTrends.SPELLLEVEL2,\r\n    dieAdjustments: { ...empty },\r\n    diceSize: 6,\r\n    fatal: false,\r\n    fatalDie: 10,\r\n    damageTrend: [],\r\n    damageAdjustments: { ...empty },\r\n\r\n    damageType: damageTypes.FIRE,\r\n    material: materials.NONE,\r\n    persistent: false,\r\n    multiplier: 1,\r\n  })\r\n);\r\n\r\nstore.dispatch(\r\n  routineAdded({\r\n    id: 3,\r\n    name: \"Pick Fighter Double Slice\",\r\n    display: false,\r\n    apIds: [3, 4],\r\n    levelDiff: 0,\r\n    description:\r\n      \"A Fighter using Double Slice with a pick and a light pick. 1d6 damage runes at 8 and 15. Crit specialization at 5.\",\r\n    startLevel: 1,\r\n    endLevel: 20,\r\n  })\r\n);\r\nstore.dispatch(\r\n  activityPathAdded({\r\n    id: 3,\r\n    condition: conditions.ALWAYS,\r\n\r\n    rollType: rollTypes.NORMAL,\r\n    type: activityTypes.STRIKE,\r\n    profTrend: profTrends.FIGHTERWEAPON,\r\n    statTrend: statTrends.AS18a,\r\n    itemTrend: itemTrends.WEAPON,\r\n    bonusAdjustments: { ...empty },\r\n    MAP: MAPs.N1,\r\n\r\n    targetType: defenses.AC,\r\n    targetInfoId: 0,\r\n\r\n    damages: [8, 9, 10],\r\n    effects: [],\r\n    apIds: [],\r\n  })\r\n);\r\nstore.dispatch(\r\n  damageAdded({\r\n    id: 8,\r\n    damageCondition: dCond.STRIKE,\r\n\r\n    dieTrend: dieTrends.WEAPON,\r\n    dieAdjustments: { ...empty },\r\n    diceSize: 6,\r\n    fatal: true,\r\n    fatalDie: 10,\r\n    damageTrend: [damageTrends.AS18a, damageTrends.FIGHTERWEAPONSPEC],\r\n    damageAdjustments: { ...empty },\r\n\r\n    damageType: damageTypes.P,\r\n    material: materials.NONE,\r\n    persistent: false,\r\n    multiplier: 1,\r\n  })\r\n);\r\nstore.dispatch(\r\n  damageAdded({\r\n    id: 9,\r\n    damageCondition: dCond.CRIT,\r\n\r\n    dieTrend: dieTrends.NONE,\r\n    dieAdjustments: { ...one },\r\n    diceSize: 10,\r\n    fatal: false,\r\n    fatalDie: 10,\r\n    damageTrend: [],\r\n    damageAdjustments: { ...pickCritSpec },\r\n\r\n    damageType: damageTypes.P,\r\n    material: materials.NONE,\r\n    persistent: false,\r\n    multiplier: 1,\r\n  })\r\n);\r\nstore.dispatch(\r\n  damageAdded({\r\n    id: 10,\r\n    damageCondition: dCond.STRIKE,\r\n\r\n    dieTrend: dieTrends.RUNE,\r\n    dieAdjustments: { ...empty },\r\n    diceSize: 6,\r\n    fatal: false,\r\n    fatalDie: 10,\r\n    damageTrend: [],\r\n    damageAdjustments: { ...empty },\r\n\r\n    damageType: damageTypes.FIRE,\r\n    material: materials.NONE,\r\n    persistent: false,\r\n    multiplier: 1,\r\n  })\r\n);\r\nstore.dispatch(\r\n  activityPathAdded({\r\n    id: 4,\r\n    condition: conditions.ALWAYS,\r\n\r\n    rollType: rollTypes.NORMAL,\r\n    type: activityTypes.STRIKE,\r\n    profTrend: profTrends.FIGHTERWEAPON,\r\n    statTrend: statTrends.AS18a,\r\n    itemTrend: itemTrends.WEAPON,\r\n    bonusAdjustments: { ...empty },\r\n    MAP: MAPs.A1,\r\n\r\n    targetType: defenses.AC,\r\n    targetInfoId: 0,\r\n\r\n    damages: [11, 12, 13],\r\n    effects: [],\r\n    apIds: [],\r\n  })\r\n);\r\nstore.dispatch(\r\n  damageAdded({\r\n    id: 11,\r\n    damageCondition: dCond.STRIKE,\r\n\r\n    dieTrend: dieTrends.WEAPON,\r\n    dieAdjustments: { ...empty },\r\n    diceSize: 4,\r\n    fatal: true,\r\n    fatalDie: 8,\r\n    damageTrend: [damageTrends.AS18a, damageTrends.FIGHTERWEAPONSPEC],\r\n    damageAdjustments: { ...empty },\r\n\r\n    damageType: damageTypes.P,\r\n    material: materials.NONE,\r\n    persistent: false,\r\n    multiplier: 1,\r\n  })\r\n);\r\nstore.dispatch(\r\n  damageAdded({\r\n    id: 12,\r\n    damageCondition: dCond.CRIT,\r\n\r\n    dieTrend: dieTrends.NONE,\r\n    dieAdjustments: { ...one },\r\n    diceSize: 8,\r\n    fatal: false,\r\n    fatalDie: 10,\r\n    damageTrend: [],\r\n    damageAdjustments: { ...pickCritSpec },\r\n\r\n    damageType: damageTypes.P,\r\n    material: materials.NONE,\r\n    persistent: false,\r\n    multiplier: 1,\r\n  })\r\n);\r\nstore.dispatch(\r\n  damageAdded({\r\n    id: 13,\r\n    damageCondition: dCond.STRIKE,\r\n\r\n    dieTrend: dieTrends.RUNE,\r\n    dieAdjustments: { ...empty },\r\n    diceSize: 6,\r\n    fatal: false,\r\n    fatalDie: 10,\r\n    damageTrend: [],\r\n    damageAdjustments: { ...empty },\r\n\r\n    damageType: damageTypes.FIRE,\r\n    material: materials.NONE,\r\n    persistent: false,\r\n    multiplier: 1,\r\n  })\r\n);\r\nfor (let r of exampleRoutines) {\r\n  store.dispatch(importRoutine(r));\r\n}\r\nstore.dispatch(setRoutine(1));\r\n// store.dispatch(weaknessAdded({ id: 0, type: damageTypes.FIRE, value: 10 }));\r\n// store.dispatch(\r\n//   damageAdded({\r\n//     id: 0,\r\n//     damageCondition: dCond.STRIKE,\r\n//     diceNum: 1,\r\n//     diceSize: 8,\r\n//     staticDamage: 4,\r\n//     damageType: damageTypes.B,\r\n//     material: materials.COLD_IRON,\r\n//     persistent: false,\r\n//   })\r\n// );\r\n\r\nexport default store;\r\n","const thaum2strikes = `{\"id\":101,\"name\":\"Thaumaturge 2 strikes\",\"display\":false,\"apIds\":[{\"id\":1002,\"condition\":\"Always\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"16 to 22 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"0 (0x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1004,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"16 to 22 apex(17)\",\"Martial Weapon Specializaton\",\"Implement's Empowerment\"],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1005,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1006,\"damageCondition\":\"Success or better\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"None\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"1/2 Level\"],\"damageAdjustments\":{\"1\":2,\"2\":2,\"3\":2,\"4\":2,\"5\":2,\"6\":2,\"7\":2,\"8\":2,\"9\":2,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2}}],\"effects\":[{\"id\":1002,\"effectCondition\":\"On Crit\",\"effectType\":\"Flatfooted\",\"startLevel\":5,\"endLevel\":20}],\"apIds\":[{\"id\":1001,\"condition\":\"Always\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"16 to 22 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-5 (1x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1001,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"16 to 22 apex(17)\",\"Martial Weapon Specializaton\",\"Implement's Empowerment\"],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1002,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1003,\"damageCondition\":\"Success or better\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"None\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"1/2 Level\"],\"damageAdjustments\":{\"1\":2,\"2\":2,\"3\":2,\"4\":2,\"5\":2,\"6\":2,\"7\":2,\"8\":2,\"9\":2,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2}}],\"effects\":[{\"id\":1001,\"effectCondition\":\"On Crit\",\"effectType\":\"Flatfooted\",\"startLevel\":5,\"endLevel\":20}],\"apIds\":[]}]}],\"levelDiff\":0,\"description\":\"A playtest Thaumaturge making 2 strikes with a longsword. 1d6 damage runes at 8 and 15. Critical specialization at 5 from weapon implement. After they succeeded in giving the target a 1/2 level +2 weakness.\",\"startLevel\":1,\"endLevel\":20}`;\r\nconst disintigrate = `{\"id\":102,\"name\":\"Disintigrate\",\"display\":false,\"apIds\":[{\"id\":1003,\"condition\":\"Always\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Caster Spell (7, 15, 19)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"None\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"0 (0x-5)\",\"targetType\":\"AC\",\"damages\":[],\"effects\":[],\"apIds\":[{\"id\":1004,\"condition\":\"On Crit\",\"rollType\":\"Normal\",\"type\":\"Save\",\"profTrend\":\"Caster Spell (7, 15, 19)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"None\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"0 (0x-5)\",\"targetType\":\"Fort\",\"damages\":[{\"id\":1009,\"damageCondition\":\"On Failure\",\"dieTrend\":\"2 x Spell Level\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"None\",\"material\":\"none\",\"persistent\":false,\"multiplier\":2},{\"id\":1010,\"damageCondition\":\"On Success\",\"damageType\":\"None\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"2 x Spell Level\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1011,\"damageCondition\":\"On Crit\",\"damageType\":\"None\",\"material\":\"none\",\"persistent\":false,\"multiplier\":0.5,\"dieTrend\":\"2 x Spell Level\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[]},{\"id\":1005,\"condition\":\"On Success\",\"rollType\":\"Normal\",\"type\":\"Save\",\"profTrend\":\"Caster Spell (7, 15, 19)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"None\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"0 (0x-5)\",\"targetType\":\"Fort\",\"damages\":[{\"id\":1012,\"damageCondition\":\"Basic save\",\"dieTrend\":\"2 x Spell Level\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"None\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1}],\"effects\":[],\"apIds\":[]}]}],\"levelDiff\":0,\"description\":\"If the spell attack crits then the save is one degree worse example. \",\"startLevel\":11,\"endLevel\":20}`;\r\nconst giantBarb3 = `{\"id\":103,\"name\":\"Giant Barbarian 3 Strikes\",\"display\":false,\"apIds\":[{\"id\":1006,\"condition\":\"Always\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"0 (0x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1011,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":12,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"18 to 24 apex(17)\",\"Martial Weapon Specializaton\",\"Giant Rage\"],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1012,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1}],\"effects\":[{\"id\":1003,\"effectCondition\":\"On Crit\",\"effectType\":\"Flatfooted\",\"startLevel\":5,\"endLevel\":20}],\"apIds\":[{\"id\":1007,\"condition\":\"Always\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-5 (1x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1013,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":12,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"18 to 24 apex(17)\",\"Martial Weapon Specializaton\",\"Giant Rage\"],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1014,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1}],\"effects\":[{\"id\":1004,\"effectCondition\":\"On Crit\",\"effectType\":\"Flatfooted\",\"startLevel\":5,\"endLevel\":20}],\"apIds\":[{\"id\":1009,\"condition\":\"Always\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-10 (2x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1017,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":12,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"18 to 24 apex(17)\",\"Martial Weapon Specializaton\",\"Giant Rage\"],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1018,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1}],\"effects\":[{\"id\":1006,\"effectCondition\":\"On Crit\",\"effectType\":\"Flatfooted\",\"startLevel\":5,\"endLevel\":20}],\"apIds\":[]}]}]}],\"levelDiff\":0,\"description\":\"A Barbarian making 3 strikes with a greatsword. 1d6 damage runes at 8 and 15. Crit specialization at 5.\",\"startLevel\":1,\"endLevel\":20}`;\r\nconst flurryRanger4 = `{\"id\":104,\"name\":\"Melee Flurry Ranger 4 strikes\",\"display\":false,\"apIds\":[{\"id\":1009,\"condition\":\"Always\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":1,\"18\":1,\"19\":1,\"20\":1},\"MAP\":\"0 (0x-3)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1017,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"18 to 24 apex(17)\",\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1018,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1}],\"effects\":[{\"id\":1006,\"effectCondition\":\"On Crit\",\"effectType\":\"Flatfooted\",\"startLevel\":5,\"endLevel\":20}],\"apIds\":[{\"id\":1010,\"condition\":\"Always\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":1,\"18\":1,\"19\":1,\"20\":1},\"MAP\":\"-2 (1x-2)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1019,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"18 to 24 apex(17)\",\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1020,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1}],\"effects\":[{\"id\":1007,\"effectCondition\":\"On Crit\",\"effectType\":\"Flatfooted\",\"startLevel\":5,\"endLevel\":20}],\"apIds\":[{\"id\":1011,\"condition\":\"Always\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"MAP\":\"-4 (2x-2)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1021,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"18 to 24 apex(17)\",\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1022,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1}],\"effects\":[{\"id\":1008,\"effectCondition\":\"On Crit\",\"effectType\":\"Flatfooted\",\"startLevel\":5,\"endLevel\":20}],\"apIds\":[{\"id\":1012,\"condition\":\"Always\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"MAP\":\"-4 (2x-2)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1023,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"18 to 24 apex(17)\",\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1024,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1}],\"effects\":[{\"id\":1009,\"effectCondition\":\"On Crit\",\"effectType\":\"Flatfooted\",\"startLevel\":5,\"endLevel\":20}],\"apIds\":[]}]}]}]}],\"levelDiff\":0,\"description\":\"A longsword shortsword ranger with flurry edge making an attack with a longsword, then 3 shortsword attacks. improvement at 17 included. Crit spec at 5. \",\"startLevel\":1,\"endLevel\":20}`;\r\nconst doubleSliceRogue = `{\"id\":105,\"name\":\"Rogue Double Slice Sneak Attack\",\"display\":false,\"apIds\":[{\"id\":1013,\"condition\":\"Always\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"0 (0x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1025,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"18 to 24 apex(17)\",\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1026,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1028,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[{\"id\":1010,\"effectCondition\":\"On Crit\",\"effectType\":\"Flatfooted\",\"startLevel\":5,\"endLevel\":20}],\"apIds\":[{\"id\":1014,\"condition\":\"On Crit\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"0 (0x-4)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1029,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"18 to 24 apex(17)\",\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1030,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1032,\"damageCondition\":\"Always\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":2,\"dieTrend\":\"Sneak Attack (1, 5, 11, 17)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[{\"id\":1011,\"effectCondition\":\"On Crit\",\"effectType\":\"Flatfooted\",\"startLevel\":5,\"endLevel\":20}],\"apIds\":[]},{\"id\":1015,\"condition\":\"On Success\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"0 (0x-4)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1033,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"18 to 24 apex(17)\",\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1034,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1036,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":2,\"dieTrend\":\"Sneak Attack (1, 5, 11, 17)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1037,\"damageCondition\":\"Success or worse\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Sneak Attack (1, 5, 11, 17)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[{\"id\":1012,\"effectCondition\":\"On Crit\",\"effectType\":\"Flatfooted\",\"startLevel\":5,\"endLevel\":20}],\"apIds\":[]},{\"id\":1016,\"condition\":\"Failure or worse\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"0 (0x-4)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1038,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"18 to 24 apex(17)\",\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1039,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1041,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Sneak Attack (1, 5, 11, 17)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[{\"id\":1013,\"effectCondition\":\"On Crit\",\"effectType\":\"Flatfooted\",\"startLevel\":5,\"endLevel\":20}],\"apIds\":[]}]}],\"levelDiff\":0,\"description\":\"Using double slice on a Rogue. Only applying sneak attack damage to at most one attack. rapier and shortsword. Crit Spec at 5.\",\"startLevel\":1,\"endLevel\":20}`;\r\nconst rogue2strikes = `{\"id\":106,\"name\":\"Rogue 2 Strikes Sneak Attack\",\"display\":false,\"apIds\":[{\"id\":1017,\"condition\":\"Always\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"0 (0x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1038,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"18 to 24 apex(17)\",\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1039,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1040,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1044,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Sneak Attack (1, 5, 11, 17)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[{\"id\":1014,\"effectCondition\":\"On Crit\",\"effectType\":\"Flatfooted\",\"startLevel\":5,\"endLevel\":20}],\"apIds\":[{\"id\":1018,\"condition\":\"Always\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-4 (1x-4)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1041,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"18 to 24 apex(17)\",\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1042,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1045,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Sneak Attack (1, 5, 11, 17)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[{\"id\":1015,\"effectCondition\":\"On Crit\",\"effectType\":\"Flatfooted\",\"startLevel\":5,\"endLevel\":20}],\"apIds\":[]}]}],\"levelDiff\":0,\"description\":\"Two strikes with sneak attack applied. \",\"startLevel\":1,\"endLevel\":20}`;\r\nconst preRanger4bow = `{\"id\":107,\"name\":\"Precision Ranger Shortbow 4 Strikes\",\"display\":false,\"apIds\":[{\"id\":1019,\"condition\":\"Always\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"0 (0x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1045,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1046,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1047,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1048,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 1(1, 11, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[{\"id\":1020,\"condition\":\"Success or better\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-5 (1x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1049,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1050,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1051,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1052,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 2(17, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[{\"id\":1022,\"condition\":\"Success or better\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-10 (2x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1057,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1058,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1059,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1060,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 3(19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[{\"id\":1024,\"condition\":\"Success or better\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-10 (2x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1065,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1066,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1067,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[]},{\"id\":1025,\"condition\":\"Failure or worse\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-10 (2x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1069,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1070,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1071,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1072,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 3(19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[]}]},{\"id\":1023,\"condition\":\"Failure or worse\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-10 (2x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1061,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1062,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1063,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1064,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 2(17, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[{\"id\":1026,\"condition\":\"Success or better\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-10 (2x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1073,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1074,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1075,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1076,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 3(19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[]},{\"id\":1027,\"condition\":\"Failure or worse\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-10 (2x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1077,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1078,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1079,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1080,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 2(17, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[]}]}]},{\"id\":1021,\"condition\":\"Failure or worse\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-5 (1x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1053,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1054,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1055,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1056,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 1(1, 11, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[{\"id\":1029,\"condition\":\"Success or better\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-10 (2x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1085,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1086,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1087,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1088,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 2(17, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[{\"id\":1031,\"condition\":\"Success or better\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-10 (2x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1093,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1094,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1095,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1096,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 3(19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[]},{\"id\":1032,\"condition\":\"Failure or worse\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-10 (2x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1097,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1098,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1099,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1100,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 2(17, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[]}]},{\"id\":1030,\"condition\":\"Failure or worse\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-10 (2x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1089,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1090,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1091,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1092,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 1(1, 11, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[{\"id\":1033,\"condition\":\"Success or better\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-10 (2x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1101,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1102,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1103,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1104,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 2(17, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[]},{\"id\":1034,\"condition\":\"Failure or worse\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-10 (2x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1105,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1106,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1107,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1108,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 1(1, 11, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[]}]}]}]}],\"levelDiff\":0,\"description\":\"4 Strikes for a Ranger with Precision Edge using a shortbow. Composite bow at 2. Str 14 boosted to 18 at 10. Runes at 8 and 15. \",\"startLevel\":1,\"endLevel\":20}`;\r\nconst preRanger2bow = `{\"id\":107,\"name\":\"Precision Ranger Shortbow 2 Strikes\",\"display\":false,\"apIds\":[{\"id\":1033,\"condition\":\"Always\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"0 (0x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1100,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1101,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1102,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1103,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 1(1, 11, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[{\"id\":1025,\"condition\":\"Success or better\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-5 (1x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1068,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1069,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1070,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1071,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 2(17, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[]},{\"id\":1032,\"condition\":\"Failure or worse\",\"rollType\":\"Normal\",\"type\":\"Strike\",\"profTrend\":\"Martial Weapon (5, 13)\",\"statTrend\":\"18 to 24 apex(17)\",\"itemTrend\":\"Weapon (2, 10, 16)\",\"bonusAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"MAP\":\"-5 (1x-5)\",\"targetType\":\"AC\",\"damages\":[{\"id\":1096,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Weapon (1, 4, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[\"Martial Weapon Specializaton\"],\"damageAdjustments\":{\"1\":0,\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":2,\"11\":2,\"12\":2,\"13\":2,\"14\":2,\"15\":2,\"16\":2,\"17\":2,\"18\":2,\"19\":2,\"20\":2},\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1097,\"damageCondition\":\"x1 hit, x2 crit\",\"dieTrend\":\"Runes (8, 15)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":6,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"damageType\":\"fire\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1},{\"id\":1098,\"damageCondition\":\"On Crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Deadly (1, 12, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":10,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}},{\"id\":1099,\"damageCondition\":\"x1 hit, x2 crit\",\"damageType\":\"slashing\",\"material\":\"none\",\"persistent\":false,\"multiplier\":1,\"dieTrend\":\"Precision Edge 1(1, 11, 19)\",\"dieAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0},\"diceSize\":8,\"fatal\":false,\"fatalDie\":10,\"damageTrend\":[],\"damageAdjustments\":{\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0}}],\"effects\":[],\"apIds\":[]}]}],\"levelDiff\":0,\"description\":\"2 Strikes for a Ranger with Precision Edge using a shortbow. Composite bow at 2. Str 14 boosted to 18 at 10. Runes at 8 and 15. \",\"startLevel\":1,\"endLevel\":20}`;\r\n\r\nexport const exampleRoutines = [\r\n  thaum2strikes,\r\n  disintigrate,\r\n  giantBarb3,\r\n  flurryRanger4,\r\n  doubleSliceRogue,\r\n  rogue2strikes,\r\n  preRanger4bow,\r\n  preRanger2bow,\r\n];\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport PF2App from \"./PF2App\";\r\nimport store from \"./store\";\r\nimport { Provider } from \"react-redux\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PF2App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}