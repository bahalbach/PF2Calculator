(this.webpackJsonppf2=this.webpackJsonppf2||[]).push([[0],{23:function(e,t,a){e.exports=a(34)},28:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);for(var n,r,c,i,l,s,o,u,d=a(0),m=a.n(d),f=a(10),p=a.n(f),v=(a(28),a(5)),E=a(1),g=a(2),h=a(3),b=a(4),A={DISTRIBUTION:"Damage Distribution",PMDEFENSE:"+/- AC/Save Bonus"},R={STRIKE:"Strike",SAVE:"Save"},C={FIGHTER:"Fighter Melee",MARTIAL:"Martial Melee",CASTER:"Caster(16str) Melee",ALCH:"Alchemist(16str) Melee",FIGHTERR:"Fighter Ranged",MARTIALR:"Martial Ranged",CASTERR:"Caster(16dex) Ranged",ALCHR:"Alchemist(16dex) Ranged",CASTERCA:"Caster Cantrip Attack",CASTERCS:"Caster Cantrip Save",CASTERBR:"Caster 2dX Basic Save",CASTERSA:"Caster Spell Attack",CASTERS:"Caster Save"},O={LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},I={TERRIBLE:"Terrible",LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},T={AC:"AC",FORT:"Fort",REF:"Ref",WILL:"Will",PER:"Perception"},S={N1:"0 (0x-5)",N2:"-5 (1x-5)",N3:"-10 (2x-5)",A1:"0 (0x-4)",A2:"-4 (1x-4)",A3:"-8 (2x-4)",R1:"0 (0x-3)",R2:"-3 (1x-3)",R3:"-6 (2x-3)",RA1:"0 (0x-2)",RA2:"-2 (1x-2)",RA3:"-4 (2x-2)",RAA1:"0 (0x-1)",RAA2:"-1 (1x-1)",RAA3:"-2 (2x-1)"},y={"0 (0x-5)":"-5 (1x-5)","-5 (1x-5)":"-10 (2x-5)","-10 (2x-5)":"-10 (2x-5)","0 (0x-4)":"-4 (1x-4)","-4 (1x-4)":"-8 (2x-4)","-8 (2x-4)":"-8 (2x-4)","0 (0x-3)":"-3 (1x-3)","-3 (1x-3)":"-6 (2x-3)","-6 (2x-3)":"-6 (2x-3)","0 (0x-2)":"-2 (1x-2)","-2 (1x-2)":"-4 (2x-2)","-4 (2x-2)":"-4 (2x-2)","0 (0x-1)":"-1 (1x-1)","-1 (1x-1)":"-2 (2x-1)","-2 (2x-1)":"-2 (2x-1)"},j={"0 (0x-5)":0,"-5 (1x-5)":-5,"-10 (2x-5)":-10,"0 (0x-4)":0,"-4 (1x-4)":-4,"-8 (2x-4)":-8,"0 (0x-3)":0,"-3 (1x-3)":-3,"-6 (2x-3)":-6,"0 (0x-2)":0,"-2 (1x-2)":-2,"-4 (2x-2)":-4,"0 (0x-1)":0,"-1 (1x-1)":-1,"-2 (2x-1)":-2},x={NORMAL:"Normal",ADVANTAGE:"Advantage",DISADVANTAGE:"Disadvantage"},N={NONE:"None",B:"bludgeoning",P:"piercing",S:"slashing",FIRE:"fire"},k={NONE:"none",COLD_IRON:"cold iron",SILVER:"silver",ADAMANTINE:"adamantine"},F={FLATFOOT:"Flatfooted",FRIGHTENED1:"Frightened 1",FRIGHTENED2:"Frightened 2",FRIGHTENED3:"Frightened 3",FRIGHTENED4:"Frightened 4"},D={ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},L={STRIKE:"x1 hit, x2 crit",BASIC:"Basic save",ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},M=(n={},Object(E.a)(n,C.FIGHTER,R.STRIKE),Object(E.a)(n,C.MARTIAL,R.STRIKE),Object(E.a)(n,C.CASTER,R.STRIKE),Object(E.a)(n,C.ALCH,R.STRIKE),Object(E.a)(n,C.FIGHTERR,R.STRIKE),Object(E.a)(n,C.MARTIALR,R.STRIKE),Object(E.a)(n,C.CASTERR,R.STRIKE),Object(E.a)(n,C.ALCHR,R.STRIKE),Object(E.a)(n,C.CASTERCA,R.STRIKE),Object(E.a)(n,C.CASTERCS,R.SAVE),Object(E.a)(n,C.CASTERSA,R.STRIKE),Object(E.a)(n,C.CASTERS,R.SAVE),Object(E.a)(n,C.CASTERBR,R.SAVE),n),P=(r={},Object(E.a)(r,C.FIGHTER,T.AC),Object(E.a)(r,C.MARTIAL,T.AC),Object(E.a)(r,C.CASTER,T.AC),Object(E.a)(r,C.ALCH,T.AC),Object(E.a)(r,C.FIGHTERR,T.AC),Object(E.a)(r,C.MARTIALR,T.AC),Object(E.a)(r,C.CASTERR,T.AC),Object(E.a)(r,C.ALCHR,T.AC),Object(E.a)(r,C.CASTERCA,T.AC),Object(E.a)(r,C.CASTERCS,T.REF),Object(E.a)(r,C.CASTERSA,T.AC),Object(E.a)(r,C.CASTERS,T.REF),Object(E.a)(r,C.CASTERBR,T.REF),r),H=(c={},Object(E.a)(c,C.FIGHTER,L.STRIKE),Object(E.a)(c,C.MARTIAL,L.STRIKE),Object(E.a)(c,C.CASTER,L.STRIKE),Object(E.a)(c,C.ALCH,L.STRIKE),Object(E.a)(c,C.FIGHTERR,L.STRIKE),Object(E.a)(c,C.MARTIALR,L.STRIKE),Object(E.a)(c,C.CASTERR,L.STRIKE),Object(E.a)(c,C.ALCHR,L.STRIKE),Object(E.a)(c,C.CASTERC,L.STRIKE),Object(E.a)(c,C.CASTERS,L.BASIC),Object(E.a)(c,C.CASTERCA,L.STRIKE),Object(E.a)(c,C.CASTERCS,L.BASIC),Object(E.a)(c,C.CASTERSA,L.STRIKE),Object(E.a)(c,C.CASTERS,L.BASIC),Object(E.a)(c,C.CASTERBR,L.BASIC),c),w={},W={},B={},G={},K={},U={},_={},z={},V={},Y={},X={},J=1;J<=20;J++)Y[J]=Math.floor((J+1)/2),X[J]=2*Math.floor((J+1)/2);for(var $={},q={},Q={},Z={},ee={},te={},ae={},ne={},re={},ce={},ie={},le={},se={},oe={},ue=1;ue<=20;ue++)w[ue]=0,W[ue]=4,B[ue]=3,G[ue]=2,K[ue]=2,U[ue]=2,_[ue]=2,z[ue]=0,V[ue]=1,$[ue]=0,q[ue]=0,ue>=2&&(z[ue]=1),ue>=4&&(V[ue]=2),ue>=5&&(G[ue]=4,B[ue]=4),ue>=7&&(K[ue]=4,$[ue]=1,_[ue]=4),ue>=10&&(z[ue]=2,W[ue]=5),ue>=11&&(U[ue]=4),ue>=12&&(V[ue]=3),ue>=13&&(G[ue]=6,q[ue]=1),ue>=15&&($[ue]=2,B[ue]=5,_[ue]=6),ue>=16&&(z[ue]=3),ue>=17&&(W[ue]=6),ue>=19&&(V[ue]=4,_[ue]=8),ue>=20&&(W[ue]=7),Q[ue]=ue+G[ue]+W[ue]+z[ue]+2,Z[ue]=ue+G[ue]+W[ue]+z[ue],ee[ue]=ue+U[ue]+B[ue]+z[ue],te[ue]=ue+K[ue]+B[ue]+z[ue],ae[ue]=ue+_[ue]+W[ue],ne[ue]=10+ue+_[ue]+W[ue],re[ue]=W[ue]+$[ue]*(G[ue]+2)/2,ce[ue]=$[ue]*(G[ue]+2)/2,ie[ue]=W[ue]+$[ue]*G[ue]/2,le[ue]=$[ue]*G[ue]/2,se[ue]=B[ue]+q[ue]*U[ue]/2,oe[ue]=q[ue]*U[ue]/2;var de=(i={},Object(E.a)(i,C.FIGHTER,Q),Object(E.a)(i,C.MARTIAL,Z),Object(E.a)(i,C.CASTER,ee),Object(E.a)(i,C.ALCH,te),Object(E.a)(i,C.FIGHTERR,Q),Object(E.a)(i,C.MARTIALR,Z),Object(E.a)(i,C.CASTERR,ee),Object(E.a)(i,C.ALCHR,te),Object(E.a)(i,C.CASTERCA,ae),Object(E.a)(i,C.CASTERCS,ne),Object(E.a)(i,C.CASTERSA,ae),Object(E.a)(i,C.CASTERS,ne),Object(E.a)(i,C.CASTERBR,ne),i),me=(l={},Object(E.a)(l,C.FIGHTER,V),Object(E.a)(l,C.MARTIAL,V),Object(E.a)(l,C.CASTER,V),Object(E.a)(l,C.ALCH,V),Object(E.a)(l,C.FIGHTERR,V),Object(E.a)(l,C.MARTIALR,V),Object(E.a)(l,C.CASTERR,V),Object(E.a)(l,C.ALCHR,V),Object(E.a)(l,C.CASTERCA,Y),Object(E.a)(l,C.CASTERCS,Y),Object(E.a)(l,C.CASTERSA,w),Object(E.a)(l,C.CASTERS,w),Object(E.a)(l,C.CASTERBR,X),l),fe=(s={},Object(E.a)(s,C.FIGHTER,re),Object(E.a)(s,C.MARTIAL,ie),Object(E.a)(s,C.CASTER,se),Object(E.a)(s,C.ALCH,se),Object(E.a)(s,C.FIGHTERR,ce),Object(E.a)(s,C.MARTIALR,le),Object(E.a)(s,C.CASTERR,oe),Object(E.a)(s,C.ALCHR,oe),Object(E.a)(s,C.CASTERCA,W),Object(E.a)(s,C.CASTERCS,W),Object(E.a)(s,C.CASTERSA,w),Object(E.a)(s,C.CASTERS,w),Object(E.a)(s,C.CASTERBR,w),s),pe={"-1":18,0:19,1:19,2:21,3:22,4:24,5:25,6:27,7:28,8:30,9:31,10:33,11:34,12:36,13:37,14:39,15:40,16:42,17:43,18:45,19:46,20:48,21:49,22:51,23:52,24:54},ve=Object(b.a)({},pe);for(var Ee in ve)ve[Ee]-=3;var ge=Object(b.a)({},pe);for(var he in ge)ge[he]-=4;var be=Object(b.a)({},pe);for(var Ae in be)be[Ae]-=6;var Re=(o={},Object(E.a)(o,O.EXTREME,pe),Object(E.a)(o,O.HIGH,ve),Object(E.a)(o,O.MODERATE,ge),Object(E.a)(o,O.LOW,be),o),Ce=(u={},Object(E.a)(u,I.EXTREME,{"-1":9,0:10,1:11,2:12,3:14,4:15,5:17,6:18,7:20,8:21,9:23,10:24,11:26,12:27,13:29,14:30,15:32,16:33,17:35,18:36,19:38,20:39,21:41,22:43,23:44,24:46}),Object(E.a)(u,I.HIGH,{"-1":8,0:9,1:10,2:11,3:12,4:14,5:15,6:17,7:18,8:19,9:21,10:22,11:24,12:25,13:26,14:28,15:29,16:30,17:32,18:33,19:35,20:36,21:38,22:39,23:40,24:42}),Object(E.a)(u,I.MODERATE,{"-1":5,0:6,1:7,2:8,3:9,4:11,5:12,6:14,7:15,8:16,9:18,10:19,11:21,12:22,13:23,14:25,15:26,16:28,17:29,18:30,19:32,20:33,21:35,22:36,23:37,24:38}),Object(E.a)(u,I.LOW,{"-1":2,0:3,1:4,2:5,3:6,4:8,5:9,6:11,7:12,8:13,9:15,10:16,11:18,12:19,13:20,14:22,15:23,16:25,17:26,18:27,19:29,20:30,21:32,22:33,23:34,24:36}),Object(E.a)(u,I.TERRIBLE,{"-1":0,0:1,1:2,2:3,3:4,4:6,5:7,6:8,7:10,8:11,9:12,10:14,11:15,12:16,13:18,14:19,15:20,16:22,17:23,18:24,19:26,20:27,21:28,22:30,23:31,24:32}),u),Oe=Object(h.b)(),Ie=0,Te=Object(h.c)({name:"weaknesses",initialState:Oe.getInitialState(),reducers:{weaknessAdded:Oe.addOne,weaknessUpdated:Oe.updateOne,weaknessCreated:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.type,c=a.value;Oe.addOne(e,{id:n,type:r,value:c})},prepare:function(e){var t=e.parentId,a=e.type,n=e.value;return{payload:{id:++Ie,parentId:t,type:a,value:n}}}},weaknessRemoved:Oe.removeOne}}),Se=Te.actions,ye=Se.weaknessRemoved,je=Se.weaknessCreated,xe=(Se.weaknessAdded,Se.weaknessUpdated),Ne=Te.reducer,ke=Oe.getSelectors((function(e){return e.weaknesses})),Fe=ke.selectById,De=(ke.selectIds,ke.selectEntities),Le=(ke.selectAll,ke.selectTotal,Object(h.b)()),Me=Object(h.c)({name:"targets",initialState:Le.getInitialState(),reducers:{targetAdded:Le.addOne,targetUpdated:{prepare:function(e){var t=e.id,a=e.changes,n=e.match,r=e.level;return r||(r=1),r<1&&(r=1),r>20&&(r=20),{payload:{id:t,changes:a,match:n,level:r}}},reducer:function(e,t){Le.updateOne(e,t.payload);var a=e.entities[t.payload.id];a.level||(a.level=0),a.level<-1&&(a.level=-1),a.level>24&&(a.level=24),a.useDefaultAC&&(a[T.AC]=Re[a.defaultAC][a.level]),a.useDefaultFort&&(a[T.FORT]=Ce[a.defaultFort][a.level]),a.useDefaultRef&&(a[T.REF]=Ce[a.defaultRef][a.level]),a.useDefaultWill&&(a[T.WILL]=Ce[a.defaultWill][a.level]),a.useDefaultPer&&(a[T.PER]=Ce[a.defaultPer][a.level])}}},extraReducers:function(e){e.addCase(je,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].weaknesses.push(r)})).addCase(ye,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].weaknesses=e.entities[n].weaknesses.filter((function(e){return e!==r}))}))}}),Pe=Me.actions,He=Pe.targetAdded,we=Pe.targetUpdated,We=Me.reducer,Be=Le.getSelectors((function(e){return e.targets})),Ge=Be.selectById,Ke=(Be.selectIds,Be.selectEntities);Be.selectAll,Be.selectTotal;var Ue=function(e){var t=e.id,a=e.parentId,n=Object(g.c)((function(e){return Fe(e,t)})),r=n.type,c=n.value,i=Object(g.b)();return m.a.createElement("span",{className:"input"},m.a.createElement(Ve,{value:r,onChange:function(e){e.target.value===N.NONE?i(ye({id:t,parentId:a})):i(xe({id:t,changes:{type:e.target.value}}))}}),m.a.createElement("input",{type:"number",value:c,onChange:function(e){isNaN(e.target.value)||i(xe({id:t,changes:{value:parseInt(e.target.value)}}))}}))},_e=0,ze=function(e){var t=e.parentId,a=Object(g.b)(),n=Object(d.useState)(0),r=Object(v.a)(n,2),c=r[0],i=r[1];return m.a.createElement("span",{className:"input"},m.a.createElement(Ve,{value:N.NONE,onChange:function(e){e.target.value!==N.NONE&&(_e++,a(je({id:_e,type:e.target.value,value:c,parentId:t})))}}),m.a.createElement("input",{type:"number",value:c,onChange:function(e){return i(parseInt(e.target.value))}}))},Ve=function(e){var t=e.value,a=e.onChange,n=[];for(var r in N)n.push(m.a.createElement("option",{key:r},N[r]));for(var c in k)k[c]!==k.NONE&&n.push(m.a.createElement("option",{key:c},k[c]));return m.a.createElement("span",null,m.a.createElement("select",{value:t,onChange:function(e){return a(e)}},n))},Ye=function(e){var t=e.id,a=Object(g.c)((function(e){return Ge(e,0)})),n=a.name,r=a.level,c=a.matchRoutines,i=a.levelDiff,l=a[T.AC],s=a.defaultAC,o=a.useDefaultAC,u=a[T.FORT],d=a.defaultFort,f=a.useDefaultFort,p=a[T.REF],v=a.defaultRef,h=a.useDefaultRef,b=a[T.WILL],A=a.defaultWill,R=a.useDefaultWill,C=a[T.PER],S=a.defaultPer,y=a.useDefaultPer,j=a.flatfooted,x=a.weaknesses,N=Object(g.b)(),k=[];for(var F in O)k.push(m.a.createElement("option",{key:F},O[F]));var D=[];for(var L in I)D.push(m.a.createElement("option",{key:L},I[L]));return m.a.createElement("div",{className:"box flexbox"},m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"targetName"},"Target Name: "),m.a.createElement("input",{id:"targetName",type:"text",placeholder:"Enter Target name",value:n,onChange:function(e){return N(we({id:t,changes:{name:e.target.value}}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"Level"}," Level: "),m.a.createElement("input",{id:"Level",type:"number",value:r,onChange:function(e){return N(we({id:t,changes:{level:parseInt(e.target.value)},match:c,level:parseInt(e.target.value)-i}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"match"}," Match routine levels: "),m.a.createElement("input",{type:"checkbox",checked:c,onChange:function(e){return N(we({id:t,changes:{matchRoutines:e.target.checked},match:e.target.checked,level:r-i}))}}),m.a.createElement("input",{type:"number",value:i,onChange:function(e){return N(we({id:t,changes:{levelDiff:parseInt(e.target.value)},match:c,level:r-parseInt(e.target.value)}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"AC"}," AC: "),m.a.createElement("input",{type:"checkbox",checked:o,onChange:function(e){return N(we({id:t,changes:{useDefaultAC:e.target.checked}}))}}),m.a.createElement("select",{value:s,onChange:function(e){return N(we({id:t,changes:{defaultAC:e.target.value}}))}},k),m.a.createElement("input",{id:"AC",type:"number",value:l,onChange:function(e){return N(we({id:t,changes:Object(E.a)({useDefaultAC:!1},T.AC,parseInt(e.target.value))}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"Fort"}," Fort: "),m.a.createElement("input",{type:"checkbox",checked:f,onChange:function(e){return N(we({id:t,changes:{useDefaultFort:e.target.checked}}))}}),m.a.createElement("select",{value:d,onChange:function(e){return N(we({id:t,changes:{defaultFort:e.target.value}}))}},D),m.a.createElement("input",{id:"Fort",type:"number",value:u,onChange:function(e){return N(we({id:t,changes:Object(E.a)({},T.FORT,parseInt(e.target.value))}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"Ref"}," Ref: "),m.a.createElement("input",{type:"checkbox",checked:h,onChange:function(e){return N(we({id:t,changes:{useDefaultRef:e.target.checked}}))}}),m.a.createElement("select",{value:v,onChange:function(e){return N(we({id:t,changes:{defaultRef:e.target.value}}))}},D),m.a.createElement("input",{id:"Ref",type:"number",value:p,onChange:function(e){return N(we({id:t,changes:Object(E.a)({},T.REF,parseInt(e.target.value))}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"Will"}," Will: "),m.a.createElement("input",{type:"checkbox",checked:R,onChange:function(e){return N(we({id:t,changes:{useDefaultWill:e.target.checked}}))}}),m.a.createElement("select",{value:A,onChange:function(e){return N(we({id:t,changes:{defaultWill:e.target.value}}))}},D),m.a.createElement("input",{id:"Will",type:"number",value:b,onChange:function(e){return N(we({id:t,changes:Object(E.a)({},T.WILL,parseInt(e.target.value))}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"Perception"}," Perception: "),m.a.createElement("input",{type:"checkbox",checked:y,onChange:function(e){return N(we({id:t,changes:{useDefaultPer:e.target.checked}}))}}),m.a.createElement("select",{value:S,onChange:function(e){return N(we({id:t,changes:{defaultPer:e.target.value}}))}},D),m.a.createElement("input",{id:"Perception",type:"number",value:C,onChange:function(e){return N(we({id:t,changes:Object(E.a)({},T.PER,parseInt(e.target.value))}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"Flatfooted"}," Flatfooted: "),m.a.createElement("input",{id:"Flatfooted",type:"checkbox",checked:j,onChange:function(e){return N(we({id:t,changes:{flatfooted:e.target.checked}}))}})),m.a.createElement("div",{className:"box flexbox"}," Resistance/Weakness: ",x.map((function(e){return m.a.createElement(Ue,{parentId:t,id:e,key:e})})),m.a.createElement(ze,{parentId:t})))},Xe=a(8),Je=a(22),$e=function(e,t){if(0===e.length||0===t.length)throw new Error("Vectors can not be empty!");for(var a=e,n=t,r=0,c=[],i=0;i<a.length;i++){for(var l=0;l<n.length;l++)r+l!==c.length?c[r+l]=c[r+l]+a[i]*n[l]:c.push(a[i]*n[l]);r++}return c},qe=function(){for(var e=0,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];for(var r=0,c=a;r<c.length;r++){var i=c[r];e=Math.max(e,i[0].staticDamage+i[0].damageDist.length)}for(var l=[],s=0;s<e;s++){l.push(0);var o,u=Object(Xe.a)(a);try{for(u.s();!(o=u.n()).done;){var d=o.value;if(d[0].staticDamage<=s){var m=s-d[0].staticDamage;m<d[0].damageDist.length&&(l[s]+=d[0].damageDist[m]*d[1])}}}catch(f){u.e(f)}finally{u.f()}}return l},Qe=function(e,t,a){for(;e<a;)t.length>=2&&(t[1]+=t[0],t.shift()),e++;return[e,t]},Ze=Object(h.b)(),et=1,tt=Object(h.c)({name:"damages",initialState:Ze.getInitialState(),reducers:{damageAdded:Ze.addOne,damageUpdated:Ze.updateOne,damageCreated:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.damageCondition,c=a.diceNum,i=a.diceSize,l=a.staticDamage,s=a.damageType,o=a.material,u=a.persistent;Ze.addOne(e,{id:n,damageCondition:r,diceNum:c,diceSize:i,staticDamage:l,damageType:s,material:o,persistent:u})},prepare:function(e){var t=e.parentId;return{payload:{id:++et,parentId:t,damageCondition:L.STRIKE,diceNum:0,diceSize:8,staticDamage:0,damageType:N.S,material:k.NONE,persistent:!1}}}},damageRemoved:function(e,t){Ze.removeOne(e,t.payload.id)}}}),at=tt.actions,nt=at.damageRemoved,rt=at.damageCreated,ct=(at.damageAdded,at.damageUpdated),it=tt.reducer,lt=Ze.getSelectors((function(e){return e.damages})),st=lt.selectById,ot=(lt.selectIds,lt.selectEntities),ut=(lt.selectAll,lt.selectTotal,Object(h.b)()),dt=1,mt=Object(h.c)({name:"effects",initialState:ut.getInitialState(),reducers:{effectAdded:ut.addOne,effectUpdated:ut.updateOne,effectCreated:{reducer:function(e,t){var a=t.payload.id;ut.addOne(e,{id:a,effectCondition:D.ALWAYS,effectType:F.FLATFOOT})},prepare:function(e){var t=e.parentId;return{payload:{id:++dt,parentId:t}}}},effectRemoved:function(e,t){ut.removeOne(e,t.payload.id)}}}),ft=mt.actions,pt=(ft.effectAdded,ft.effectUpdated),vt=ft.effectCreated,Et=ft.effectRemoved,gt=mt.reducer,ht=ut.getSelectors((function(e){return e.effects})),bt=ht.selectById,At=(ht.selectIds,ht.selectEntities);ht.selectAll,ht.selectTotal;function Rt(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];function n(t){var r=e.entities[t];if(!r.override){var c=r.defaultActivity;if(r.type=M[c],r.targetType=P[c],r.value=de[c][r.level],r.damageCondition=H[c],r.diceNum=me[c][r.level],r.staticDamage=fe[c][r.level],a){var i,l=Object(Xe.a)(r.apIds);try{for(l.s();!(i=l.n()).done;){var s=i.value;e.entities[s].level=r.level,n(s)}}catch(o){l.e(o)}finally{l.f()}}}}n(t)}var Ct=Object(h.b)(),Ot=1,It={level:1,useDefault:!1,defaultActivity:C.FIGHTER,type:R.STRIKE,targetType:T.AC,value:9,MAP:S.N1,damageCondition:L.STRIKE,diceNum:1,diceSize:8,staticDamage:4,damageType:N.S,material:k.NONE},Tt=Object(h.c)({name:"activityPaths",initialState:Ct.getInitialState(),reducers:{activityPathAdded:Ct.addOne,activityPathUpdated:function(e,t){Ct.updateOne(e,t.payload),Rt(e,t.payload.id)},activityPathRemoved:function(e,t){var a=t.payload,n=a.id,r=a.parentId;Ct.removeOne(e,n),void 0!==r&&(e.entities[r].apIds=e.entities[r].apIds.filter((function(e){return e!==n})))},activityPathCreated:{reducer:function(e,t){var a,n=t.payload,r=n.id,c=n.parentId,i=n.applyMAP;a=void 0!==c?e.entities[c]:It,Ct.addOne(e,{id:r,condition:D.ALWAYS,override:!1,level:a.level,useDefault:a.useDefault,defaultActivity:a.defaultActivity,type:a.type,targetType:a.targetType,targetInfoId:0,value:a.value,MAP:i?y[a.MAP]:a.MAP,damageCondition:a.damageCondition,diceNum:a.diceNum,diceSize:a.diceSize,staticDamage:a.staticDamage,damageType:a.damageType,material:a.material,damages:[],effects:[],apIds:[]}),void 0!==c&&e.entities[c].apIds.push(r)},prepare:function(e){var t=e.parentId,a=e.routineId,n=e.applyMAP;return{payload:{id:++Ot,parentId:t,routineId:a,applyMAP:n}}}}},extraReducers:function(e){e.addCase(rt,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].damages.push(r)})).addCase(nt,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].damages=e.entities[n].damages.filter((function(e){return e!==r}))})).addCase(vt,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].effects.push(r)})).addCase(Et,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].effects=e.entities[n].effects.filter((function(e){return e!==r}))})).addCase(we,(function(e,t){var a=t.payload,n=a.match,r=a.level;if(It.level=r,n){var c,i=Object(Xe.a)(e.ids);try{for(i.s();!(c=i.n()).done;){var l=c.value;e.entities[l].level=r,Rt(e,l,!1)}}catch(s){i.e(s)}finally{i.f()}}}))}}),St=Tt.actions,yt=St.activityPathCreated,jt=St.activityPathAdded,xt=St.activityPathUpdated,Nt=St.activityPathRemoved,kt=Tt.reducer,Ft=Ct.getSelectors((function(e){return e.activityPaths})),Dt=Ft.selectById,Lt=(Ft.selectIds,Ft.selectEntities),Mt=(Ft.selectAll,Ft.selectTotal,Object(h.b)()),Pt=1,Ht=Object(h.c)({name:"routines",initialState:Mt.getInitialState({selectedRoutine:0}),reducers:{setRoutine:function(e,t){e.selectedRoutine=t.payload||0},routineAdded:Mt.addOne,routineUpdated:Mt.updateOne,routineRemoved:function(e,t){Mt.removeOne(e,t),t.payload===e.selectedRoutine&&(e.selectedRoutine=e.ids?e.ids[0]:void 0)},routineCreated:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.name,c=a.apIds;e.selectedRoutine=n,Mt.addOne(e,{id:n,name:r,display:!0,apIds:c})},prepare:function(){return{payload:{id:++Pt,name:"New Routine",apIds:[]}}}}},extraReducers:function(e){e.addCase(yt,(function(e,t){var a=t.payload,n=a.routineId,r=a.id;void 0!==n&&e.entities[n].apIds.push(r)})).addCase(Nt,(function(e,t){var a=t.payload,n=a.routineId,r=a.id;void 0!==n&&(e.entities[n].apIds=e.entities[n].apIds.filter((function(e){return e!==r})))}))}}),wt=Ht.actions,Wt=wt.routineCreated,Bt=wt.setRoutine,Gt=(wt.updateSelected,wt.routineAdded),Kt=wt.routineUpdated,Ut=wt.routineRemoved,_t=Ht.reducer,zt=Mt.getSelectors((function(e){return e.routines})),Vt=zt.selectById,Yt=(zt.selectIds,zt.selectEntities),Xt=zt.selectAll,Jt=(zt.selectTotal,function(e){return e.routines.selectedRoutine}),$t=a(18),qt=a(19);var Qt=function(e,t,a,n,r,c,i){e=n?e.persistent:e.normal;var l=function(e,t,a){if(0===a)return[0,[1]];if(1===a)return[e,Object(Je.a)(t)];var n,r=[0],c=0,i=Math.floor(e*a),l=0,s=i,o=Object(Xe.a)(t);try{for(o.s();!(n=o.n()).done;){var u=n.value,d=Math.floor((e+l)*a);if(d===s)r[c]+=u;else{if(d>s+1)for(var m=0;m<d-(s+1);m++)r[++c]=0;r[++c]=u}s=d,l++}}catch(f){o.e(f)}finally{o.f()}return[i,r]}(r,c,i),s=Object(v.a)(l,2);r=s[0],c=s[1],t in e?(e[t].staticDamage+=r,e[t].damageDist=$e(e[t].damageDist,c),a!==k.NONE&&(e[t].material=a)):e[t]={material:a,staticDamage:r,damageDist:c}};function Zt(e,t){var a=[];switch(e){case D.ALWAYS:a=[0,1,2,3];break;case D.AT_LEAST_FAIL:a=[0,1,2];break;case D.AT_LEAST_SUCC:a=[0,1];break;case D.CRIF:a=[3];break;case D.CRIT:a=[0];break;case D.FAIL:a=[2];break;case D.FAIL_WORSE:a=[2,3];break;case D.SUCC:a=[1];break;case D.SUCC_WORSE:a=[1,2,3]}return a.includes(t)}var ea=function(){function e(t,a,n,r,c){Object($t.a)(this,e),this.activityPaths=t,this.targets=a,this.damages=n,this.effects=r,this.weaknesses=c}return Object(qt.a)(e,[{key:"evalPath",value:function(e,t,a){var n=this,r=this.targets[0],c=e.damages.map((function(e){return n.damages[e]}));c.push(e);for(var i=e.effects.map((function(e){return n.effects[e]})),l=r.weaknesses.map((function(e){return n.weaknesses[e]})),s=function(e,t,a,n,r,c){var i,l;switch(e.type){case R.STRIKE:i=e.value,i+=j[e.MAP],l=a[e.targetType]+c-n.frightened,e.targetType===T.AC?(a.flatfooted||n.flatfooted)&&(l-=2):l+=10;break;case R.SAVE:i=a[e.targetType]+c-n.frightened,l=e.value,e.targetType===T.AC&&(i-=10);break;default:console.log("Activity type ".concat(e.type," not implemented"))}var s=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e-t;return n<-20?0:-20===n?5:n<-9?a?10:5:n<8?5*(11+n):95}(i,l),o=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e-t;return n<-29?0:n<-20?5:-20===n?0:n<-9?5*(a?19:20+n):n<-1?50:n<9?5*(8-n):5}(i,l),u=function(e,t){var a=e-t;return a<-29?5:a<-20?5*(29+a):a<-10?45:a<-1?5*(-2-a):a<9?5:0}(i,l),d=function(e,t){var a=e-t;return a<-29?95:a<-10?5*(-10-a):a<-1?5:0}(i,l);if(e.rollType===x.ADVANTAGE){var m=100-s,f=m-o,p=f-u;u=100-p*p/100-(o=100-f*f/100-(s=100-m*m/100))-s,d=d*d/100}else if(e.rollType===x.DISADVANTAGE){var E=100-d,g=E-u,h=g-o;o=100-h*h/100-(u=100-g*g/100-(d=100-E*E/100))-d,s=s*s/100}var b=[s/100,o/100,u/100,d/100],A={normal:{},persistent:{}},C={normal:{},persistent:{}},O={normal:{},persistent:{}},I={normal:{},persistent:{}},S=[A,C,O,I];t.forEach((function(e){var t=e.damageCondition,a=e.diceNum,n=e.diceSize,r=e.staticDamage,c=e.damageType,i=e.material,l=e.persistent;r||(r=0);for(var s=[1],o=[],u=0;u<n;u++)o.push(1/n);for(var d=0;d<a;d++)s=$e(s,o);switch(r+=a,t){case L.STRIKE:Qt(C,c,i,l,r,s,1),Qt(A,c,i,l,r,s,2);break;case L.BASIC:Qt(C,c,i,l,r,s,.5),Qt(O,c,i,l,r,s,1),Qt(I,c,i,l,r,s,2);break;case L.CRIF:Qt(I,c,i,l,r,s,1);break;case L.FAIL:Qt(O,c,i,l,r,s,1);break;case L.SUCC:Qt(C,c,i,l,r,s,1);break;case L.CRIT:Qt(A,c,i,l,r,s,1);break;case L.AT_LEAST_SUCC:Qt(C,c,i,l,r,s,1),Qt(A,c,i,l,r,s,1);break;case L.AT_LEAST_FAIL:Qt(O,c,i,l,r,s,1),Qt(C,c,i,l,r,s,1),Qt(A,c,i,l,r,s,1);break;case L.FAIL_WORSE:Qt(I,c,i,l,r,s,1),Qt(O,c,i,l,r,s,1);break;case L.SUCC_WORSE:Qt(I,c,i,l,r,s,1),Qt(O,c,i,l,r,s,1),Qt(C,c,i,l,r,s,1);break;case L.ALWAYS:Qt(I,c,i,l,r,s,1),Qt(O,c,i,l,r,s,1),Qt(C,c,i,l,r,s,1),Qt(A,c,i,l,r,s,1);break;default:console.log("Damage condition ".concat(e.condition," not implemented yet."))}}));for(var y=0,N=S;y<N.length;y++)for(var k=N[y],F=0,D=["normal","persistent"];F<D.length;F++){var M=D[F],P=0,H=[1],w=function(e){var t=k[M][e],a=t.material,n=t.staticDamage,c=t.damageDist;if(1===c.length&&n<=0)return"continue";var i=Qe(n,c,1),l=Object(v.a)(i,2);n=l[0],c=l[1];var s=0,o=0;r.forEach((function(t){t.type!==e&&t.type!==a||(t.value<0?s=Math.min(s,t.value):t.value>0&&(o=Math.max(o,t.value)))}));var u=Qe(n-=o+s,c,0),d=Object(v.a)(u,2);n=d[0],c=d[1],P+=n,H=$e(H,c)};for(var W in k[M])w(W);k[M].staticDamage=P,k[M].damageDist=H}return[S,b]}(e,c,r,t,l,a),o=Object(v.a)(s,2),u=o[0],d=o[1],m=[t,t,t,t],f=function(e){i.forEach((function(t){var a=t.effectCondition,n=t.effectType;if(Zt(a,e))switch(n){case F.FLATFOOT:!0!==m[e].flatfooted&&(m[e]=Object(b.a)(Object(b.a)({},m[e]),{},{flatfooted:!0}));break;case F.FRIGHTENED1:m[e].frightened<1&&(m[e]=Object(b.a)(Object(b.a)({},m[e]),{},{frightened:1}));break;case F.FRIGHTENED2:m[e].frightened<2&&(m[e]=Object(b.a)(Object(b.a)({},m[e]),{},{frightened:2}));break;case F.FRIGHTENED3:m[e].frightened<3&&(m[e]=Object(b.a)(Object(b.a)({},m[e]),{},{frightened:3}));break;case F.FRIGHTENED4:m[e].frightened<4&&(m[e]=Object(b.a)(Object(b.a)({},m[e]),{},{frightened:4}));break;default:console.log("Effect type ".concat(n," not implemented"))}}))},p=0;p<4;p++)f(p);return e.apIds.forEach((function(e){for(var t=n.activityPaths[e],r=new Map,c=0;c<4;c++)if(Zt(t.condition,c)){if(r.has(m[c]));else{var i=n.evalPath(t,m[c],a),l=Object(v.a)(i,2),s=l[0],o=l[1];r.set(m[c],{pathDist:s,pathPDist:o})}u[c].normal.damageDist=$e(u[c].normal.damageDist,r.get(m[c]).pathDist),u[c].persistent.damageDist=$e(u[c].persistent.damageDist,r.get(m[c]).pathPDist)}})),[qe([u[0].normal,d[0]],[u[1].normal,d[1]],[u[2].normal,d[2]],[u[3].normal,d[3]]),qe([u[0].persistent,d[0]],[u[1].persistent,d[1]],[u[2].persistent,d[2]],[u[3].persistent,d[3]])]}}]),e}(),ta=a(20),aa=a.n(ta),na=a(21),ra=a.n(na)()(aa.a),ca=function(){var e=Object(d.useState)(!1),t=Object(v.a)(e,2),a=t[0],n=t[1],r=Object(d.useState)(A.DISTRIBUTION),c=Object(v.a)(r,2),i=c[0],l=c[1],s=Object(g.c)(Yt),o=Object(g.c)(Lt),u=Object(g.c)(Ke),f=Object(g.c)(ot),p=Object(g.c)(At),E=Object(g.c)(De),h=u[0],b="Expected Damage";i!==A.DISTRIBUTION&&i!==A.PMDEFENSE||(b+=" Vs ",b+=" AC: "+h[T.AC],b+=" Fort: "+h[T.FORT],b+=" Ref: "+h[T.REF],b+=" Will: "+h[T.WILL],b+=" Per: "+h[T.PER]);var R=new ea(o,u,f,p,E),C={flatfooted:!1,frightened:0},O=0,I=0;i===A.PMDEFENSE&&(O=-5,I=5);var S=0,y=0,j=[],x=[],N=[],k=[];for(var F in s){var D=s[F];if(D.display){for(var L=[],M=[],P=[],H=O;H<=I;H++){L.push(H);for(var w=0,W=0,B=[1],G=[1],K=0;K<D.apIds.length;K++){var U=o[D.apIds[K]],_=R.evalPath(U,C,H),z=Object(v.a)(_,2),V=z[0],Y=z[1];B=$e(B,V),G=$e(G,Y)}S=Math.max(S,B.length-1),y=Math.max(y,G.length-1);for(var X=[],J=[],$=[],q=[],Q=1,Z=0;Z<B.length;Z++)i===A.DISTRIBUTION&&(X.push(Z),J.push(Q),Q-=B[Z]),w+=B[Z]*Z;Q=1;for(var ee=0;ee<G.length;ee++)i===A.DISTRIBUTION&&($.push(ee),q.push(Q),Q-=G[ee]),W+=G[ee]*ee;0===H&&(N.push(m.a.createElement("div",{key:D.id},D.name,": ",w.toFixed(2))),k.push(m.a.createElement("div",{key:D.id},D.name,": ",W.toFixed(2)))),i===A.DISTRIBUTION?(j.push({type:"scatter",name:D.name,x:X,y:J,yaxis:"y"}),j.push({type:"bar",name:w.toFixed(2),x:X,y:B}),x.push({type:"scatter",name:D.name,x:$,y:q}),x.push({type:"bar",name:W.toFixed(2),x:$,y:G})):i===A.PMDEFENSE&&(M.push(w),P.push(W))}i===A.PMDEFENSE&&(j.push({type:"scatter",name:D.name,x:L,y:M,yaxis:"y"}),x.push({type:"scatter",name:D.name,x:L,y:P,yaxis:"y"}))}}var te,ae,ne=[],re=[];if(i===A.DISTRIBUTION){te="damage",ae="chance";for(var ce=0;ce<=S;ce++)ne.push(ce);for(var ie=0;ie<=y;ie++)re.push(ie)}else if(i===A.PMDEFENSE){te="+/- AC/Save Bonus",ae="Expected Damage";for(var le=O;le<=I;le++)ne.push(le),re.push(le)}var se=m.a.createElement(ra,{classname:"plot",data:j,layout:{title:b,autosize:!0,xaxis:{title:te},yaxis:{title:ae},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}}),oe=m.a.createElement(ra,{classname:"plot",data:x,layout:{title:"Expected Persistent Damage",autosize:!0,xaxis:{title:"persistent damage"},yaxis:{title:"chance"},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}}),ue=[];for(var de in A)ue.push(m.a.createElement("option",{key:de},A[de]));return m.a.createElement("div",{className:"box"},"Graph Type: ",m.a.createElement("select",{value:i,onChange:function(e){return l(e.target.value)}},ue)," Show persistent damage: ",m.a.createElement("input",{type:"checkbox",checked:a,onChange:function(e){return n(e.target.checked)}}),m.a.createElement("div",null,"Expected Damage:",N),se,a?m.a.createElement("div",null,m.a.createElement("div",null,"Expected Persistent Damage:",k),oe):"")},ia=[];for(var la in D)ia.push(m.a.createElement("option",{key:la},D[la]));var sa=[];for(var oa in C)sa.push(m.a.createElement("option",{key:oa},C[oa]));var ua=[];for(var da in R)ua.push(m.a.createElement("option",{key:da},R[da]));var ma=[];for(var fa in S)ma.push(m.a.createElement("option",{key:fa},S[fa]));var pa=[];for(var va in T)pa.push(m.a.createElement("option",{key:va},T[va]));var Ea=[];for(var ga in x)Ea.push(m.a.createElement("option",{key:ga},x[ga]));var ha=[];for(var ba in L)ha.push(m.a.createElement("option",{key:ba},L[ba]));var Aa=[];for(var Ra in{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20})Aa.push(m.a.createElement("option",{key:Ra},Ra));var Ca=[];for(var Oa in{4:4,6:6,8:8,10:10,12:12})Ca.push(m.a.createElement("option",{key:Oa},Oa));var Ia=[];for(var Ta in N)Ia.push(m.a.createElement("option",{key:Ta},N[Ta]));var Sa=[];for(var ya in k)Sa.push(m.a.createElement("option",{key:ya},k[ya]));var ja=[];for(var xa in F)ja.push(m.a.createElement("option",{key:xa},F[xa]));var Na=function(e){var t=e.id,a=Object(g.b)(),n=Object(g.c)((function(e){return Vt(e,t)})).name;return m.a.createElement("div",{className:"box"},m.a.createElement("label",{htmlFor:"routineName"},"Routine Name:"),m.a.createElement("input",{id:"routineName",type:"text",placeholder:"Enter routine name",value:n,onChange:function(e){return a(Kt({id:t,changes:{name:e.target.value}}))}}))},ka=function e(t){var a=t.id,n=t.parentId,r=t.routineId,c=t.displayCondition,i=void 0===c||c,l=Object(g.c)((function(e){return Dt(e,a)})),s=l.condition,o=l.level,u=l.override,d=l.defaultActivity,f=l.type,p=l.targetType,v=l.value,E=l.MAP,h=l.rollType,b=l.damageCondition,A=l.diceNum,C=l.diceSize,O=l.staticDamage,I=l.damageType,T=l.material,S=l.damages,y=l.effects,j=l.apIds,x=Object(g.b)();return m.a.createElement("div",{className:"box"},i?m.a.createElement("div",null,"Condition: ",m.a.createElement("select",{value:s,onChange:function(e){return x(xt({id:a,changes:{condition:e.target.value}}))}},ia)):"",m.a.createElement("div",{className:""},m.a.createElement("div",{className:"flexbox"},m.a.createElement("button",{className:"delete",onClick:function(e){x(Nt({id:a,parentId:n,routineId:r}))}},"-"),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"override"},"Override: "),m.a.createElement("input",{id:"override",type:"checkbox",checked:u,onChange:function(e){return x(xt({id:a,changes:{override:e.target.checked}}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"Level"}," Level: "),m.a.createElement("input",{id:"Level",type:"number",value:o,min:1,max:20,onChange:function(e){var t=parseInt(e.target.value)||1;t>20&&(t=20),x(xt({id:a,changes:{level:t}}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("select",{value:d,onChange:function(e){return x(xt({id:a,changes:{defaultActivity:e.target.value}}))}},sa)),m.a.createElement("span",{className:"input"},m.a.createElement("select",{value:f,onChange:function(e){return x(xt({id:a,changes:{type:e.target.value}}))}},ua),f===R.STRIKE?" +":" DC: ",m.a.createElement("input",{type:"number",value:v||0,onChange:function(e){return x(xt({id:a,changes:{value:parseInt(e.target.value)}}))}})),m.a.createElement("span",{className:"input"}," MAP: ",m.a.createElement("select",{value:E,onChange:function(e){return x(xt({id:a,changes:{MAP:e.target.value}}))}},ma)),m.a.createElement("span",{className:"input"}," VS: ",m.a.createElement("select",{value:p,onChange:function(e){x(xt({id:a,changes:{targetType:e.target.value}}))}},pa)),m.a.createElement("span",{className:"input"},m.a.createElement("select",{value:h,onChange:function(e){x(xt({id:a,changes:{rollType:e.target.value}}))}},Ea))),m.a.createElement("div",{className:"flexbox"},"Damage:",m.a.createElement("select",{value:b,onChange:function(e){return x(xt({id:a,changes:{damageCondition:e.target.value}}))}},ha),m.a.createElement("select",{value:A,onChange:function(e){return x(xt({id:a,changes:{diceNum:parseInt(e.target.value)}}))}},Aa),"d",m.a.createElement("select",{value:C,onChange:function(e){return x(xt({id:a,changes:{diceSize:parseInt(e.target.value)}}))}},Ca)," + ",m.a.createElement("input",{type:"number",value:O||0,onChange:function(e){return x(xt({id:a,changes:{staticDamage:parseInt(e.target.value)}}))}}),m.a.createElement("select",{value:I,onChange:function(e){x(xt({id:a,changes:{damageType:e.target.value}}))}},Ia),m.a.createElement("select",{value:T,onChange:function(e){x(ct({id:a,changes:{material:e.target.value}}))}},Sa)),m.a.createElement("div",{className:"box"},"Additional Damage: ",S.map((function(e){return m.a.createElement(Fa,{parentId:a,id:e,key:e})})),m.a.createElement("button",{className:"add",onClick:function(){return x(rt({parentId:a}))}},"+")),m.a.createElement("div",{className:"box"},"Effects: ",y.map((function(e){return m.a.createElement(Da,{parentId:a,id:e,key:e})})),m.a.createElement("button",{className:"add",onClick:function(){return x(vt({parentId:a}))}},"+"))),m.a.createElement("div",{className:"box"},j.map((function(t){return m.a.createElement(e,{id:t,parentId:a,key:t})})),m.a.createElement("button",{className:"add",onClick:function(){return x(yt({parentId:a}))}},"+"),m.a.createElement("button",{className:"add",onClick:function(){return x(yt({parentId:a,applyMAP:!0}))}},"+MAP")))},Fa=function(e){var t=e.parentId,a=e.id,n=Object(g.c)((function(e){return st(e,a)})),r=n.damageCondition,c=n.diceNum,i=n.diceSize,l=n.staticDamage,s=n.damageType,o=n.material,u=n.persistent,d=Object(g.b)();return m.a.createElement("div",{className:"box"},m.a.createElement("button",{className:"delete",onClick:function(e){d(nt({id:a,parentId:t}))}},"-"),m.a.createElement("select",{value:r,onChange:function(e){return d(ct({id:a,changes:{damageCondition:e.target.value}}))}},ha),m.a.createElement("select",{value:c,onChange:function(e){return d(ct({id:a,changes:{diceNum:parseInt(e.target.value)}}))}},Aa),"d",m.a.createElement("select",{value:i,onChange:function(e){return d(ct({id:a,changes:{diceSize:parseInt(e.target.value)}}))}},Ca)," + ",m.a.createElement("input",{type:"number",value:l,onChange:function(e){return d(ct({id:a,changes:{staticDamage:parseInt(e.target.value)}}))}}),m.a.createElement("select",{value:s,onChange:function(e){d(ct({id:a,changes:{damageType:e.target.value}}))}},Ia),m.a.createElement("select",{value:o,onChange:function(e){d(ct({id:a,changes:{material:e.target.value}}))}},Sa)," Persistent: ",m.a.createElement("input",{type:"checkbox",checked:u,onChange:function(e){return d(ct({id:a,changes:{persistent:e.target.checked}}))}}))},Da=function(e){var t=e.parentId,a=e.id,n=Object(g.c)((function(e){return bt(e,a)})),r=n.effectCondition,c=n.effectType,i=Object(g.b)();return m.a.createElement("div",{className:"box"},m.a.createElement("button",{className:"delete",onClick:function(e){i(Et({id:a,parentId:t}))}},"-"),m.a.createElement("select",{value:r,onChange:function(e){return i(pt({id:a,changes:{effectCondition:e.target.value}}))}},ia),m.a.createElement("select",{value:c,onChange:function(e){return i(pt({id:a,changes:{effectType:e.target.value}}))}},ja))},La=function(e){var t=e.routineId,a=Object(g.c)((function(e){return Vt(e,t)})).apIds,n=Object(g.b)();return m.a.createElement("div",{className:"selectedRoutine"},m.a.createElement(Na,{id:t}),a.map((function(e){return m.a.createElement(ka,{id:e,routineId:t,key:e,displayCondition:!1})})),m.a.createElement("button",{className:"add",onClick:function(){return n(yt({routineId:t}))}},"+"))},Ma=function(){var e=Object(g.c)(Xt),t=Object(g.c)(Jt),a=Object(g.b)(),n=[],r=[];return e.forEach((function(e){n.push(m.a.createElement("option",{value:e.id,key:e.id},e.name)),r.push(m.a.createElement("div",{className:"flexbox",key:e.id},m.a.createElement("button",{className:"remove",onClick:function(){return a(Ut(e.id))}},"-"),m.a.createElement("span",{className:e.display?"routineOn":"routineOff",onClick:function(){return a(Kt({id:e.id,changes:{display:!e.display}}))}},e.name)))})),m.a.createElement("div",{className:"box"},"Selected Routine:",m.a.createElement("select",{value:t,onChange:function(e){return a(Bt(e.target.value))}},n),m.a.createElement("button",{className:"add",onClick:function(){return a(Wt())}},"+"),m.a.createElement("div",{className:"routines"},r))},Pa=function(){return m.a.createElement("div",{className:"box"},"Import and Export Here")};a(33);var Ha,wa=function(e){var t=Object(g.c)(Jt);return m.a.createElement("div",{className:"PF2App"},m.a.createElement(Ye,{id:0}),m.a.createElement(ca,null),m.a.createElement(Ma,null),void 0!==t?m.a.createElement(La,{routineId:t}):"",m.a.createElement(Pa,null))},Wa=Object(h.a)({reducer:{routines:_t,activityPaths:kt,damages:it,effects:gt,weaknesses:Ne,targets:We}});Wa.dispatch(Gt({id:0,name:"Fighter",display:!0,apIds:[0]})),Wa.dispatch(jt({id:0,condition:D.ALWAYS,override:!1,level:1,useDefault:!1,defaultActivity:C.FIGHTER,type:R.STRIKE,targetType:T.AC,targetInfoId:0,value:9,MAP:S.N1,rollType:x.NORMAL,damageCondition:L.STRIKE,diceNum:1,diceSize:8,staticDamage:4,damageType:N.S,material:k.NONE,damages:[],effects:[],apIds:[]})),Wa.dispatch(He((Ha={id:0,name:"Custom Target",overrideDefault:!0,addMods:!1,level:1,matchRoutines:!0,levelDiff:0,useDefaultAC:!0,defaultAC:O.HIGH},Object(E.a)(Ha,T.AC,16),Object(E.a)(Ha,"useDefaultFort",!0),Object(E.a)(Ha,"defaultFort",I.MODERATE),Object(E.a)(Ha,T.FORT,7),Object(E.a)(Ha,"useDefaultRef",!0),Object(E.a)(Ha,"defaultRef",I.MODERATE),Object(E.a)(Ha,T.REF,7),Object(E.a)(Ha,"useDefaultWill",!0),Object(E.a)(Ha,"defaultWill",I.MODERATE),Object(E.a)(Ha,T.WILL,7),Object(E.a)(Ha,"useDefaultPer",!0),Object(E.a)(Ha,"defaultPer",I.MODERATE),Object(E.a)(Ha,T.PER,7),Object(E.a)(Ha,"flatfooted",!1),Object(E.a)(Ha,"weaknesses",[]),Ha)));var Ba=Wa;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));p.a.render(m.a.createElement(m.a.StrictMode,null,m.a.createElement(g.a,{store:Ba},m.a.createElement(wa,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.a06be495.chunk.js.map