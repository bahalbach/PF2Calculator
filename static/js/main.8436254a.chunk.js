(this.webpackJsonppf2=this.webpackJsonppf2||[]).push([[0],{157:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);for(var i,n,r,c,s,l,d,o=a(223),u=a(1),p=a.n(u),f=a(35),m=a.n(f),j=(a(157),a(232)),g=a(222),h=a(237),b=a(231),O=a(20),v=a.n(O),S=a(225),x=a(97),y=a(241),A=a(245),T=a(243),C=a(244),E=a(216),I=a(10),R=a(4),w={DISTRIBUTION:"Damage Distribution",PMDEFENSE:"+/- AC/Save Bonus",PMRES:"+/- Resistance/Weakness"},L="Importing",k="Successful",P="Failure",W="Message Seen",D={LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},N={TERRIBLE:"Terrible",LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},F={ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},z={NORMAL:"Normal",ADVANTAGE:"Advantage",DISADVANTAGE:"Disadvantage"},M={STRIKE:"Strike",SAVE:"Save",SKILL:"Skill Check",SPELLATTACK:"Spell Attack"},B={UNTRAINED:"Untrained",TRAINED:"Trained Proficiency",FIGHTERWEAPON:"Fighter Weapon (1, 5, 13)",MARTIALWEAPON:"Martial Weapon (5, 13)",CASTERWEAPON:"Caster Weapon (11)",ALCHWEAPON:"Alchemist Weapon (7)",CASTERSPELL:"Caster Spell (7, 15, 19)",CLASSDC1:"Class/Spell (9, 17)",CLASSDC2:"Class/Spell (11, 19)",MCSPELL:"MC Spell (12, 18)",MAXSKILL:"Max skill (3, 7, 15)",ANIMALCOMPANION:"Animal/Construct Companion (14)",SAVAGEACATHLETICS:"Construct/Savage AC Atheletics (8, 14)"},G={AS10:"10",AS18a:"18 to 24 apex(17)",AS18:"18 to 22",AS16a:"16 to 22 apex(17)",AS16pp:"16 to 20",AS16p:"16 to 18",AS14pp:"14 to 20",AS14p:"14 to 18",AS12p:"12 to 18",AS10p:"10 to 18",NIMBLEAC:"Dex 16 Nimble AC",SAVAGEAC:"Str 16 Construct/Savage AC"},V={NONE:"None",WEAPON:"Weapon (2, 10, 16)",SKILL:"Skill (3, 9, 17)",BOMB:"Bomb (3, 11, 17)",MUTAGEN:"Mutagen (1, 3, 11, 17)"},U={N1:"0 (0x-5)",N2:"-5 (1x-5)",N3:"-10 (2x-5)",A1:"0 (0x-4)",A2:"-4 (1x-4)",A3:"-8 (2x-4)",R1:"0 (0x-3)",R2:"-3 (1x-3)",R3:"-6 (2x-3)",RA1:"0 (0x-2)",RA2:"-2 (1x-2)",RA3:"-4 (2x-2)",RAA1:"0 (0x-1)",RAA2:"-1 (1x-1)",RAA3:"-2 (2x-1)"},_={"0 (0x-5)":"-5 (1x-5)","-5 (1x-5)":"-10 (2x-5)","-10 (2x-5)":"-10 (2x-5)","0 (0x-4)":"-4 (1x-4)","-4 (1x-4)":"-8 (2x-4)","-8 (2x-4)":"-8 (2x-4)","0 (0x-3)":"-3 (1x-3)","-3 (1x-3)":"-6 (2x-3)","-6 (2x-3)":"-6 (2x-3)","0 (0x-2)":"-2 (1x-2)","-2 (1x-2)":"-4 (2x-2)","-4 (2x-2)":"-4 (2x-2)","0 (0x-1)":"-1 (1x-1)","-1 (1x-1)":"-2 (2x-1)","-2 (2x-1)":"-2 (2x-1)"},H={AC:"AC",FORT:"Fort",REF:"Ref",WILL:"Will",PER:"Perception",selfDC:"Self Standard DC",targetDC:"Target Standard DC"},K={STRIKE:"x1 hit, x2 crit",BASIC:"Basic save",ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},Y={NONE:"None",WEAPON:"Weapon (1, 4, 12, 19)",SPELLLEVEL1:"1 x Spell Level",SPELLLEVEL2:"2 x Spell Level",LEVEL:"Level",HALFLEVEL:"1/2 Level",RUNE:"Runes (8, 15)",RUNE2:"Runes (8, 10, 16)",DEADLY:"Deadly (1, 12, 19)",BOMB:"Bomb (1, 3, 11, 17)",SNEAK:"Sneak Attack (1, 5, 11, 17)",STRATEGIC:"Strategic Strike (1, 5, 9, 13, 17)",PRECISE:"Precise Strike (1, 1, 5, 9, 13, 17)",PRECISIONEDGE:"Precision Edge 1(1, 11, 19)",PRECISIONEDGE2:"Precision Edge 2(17, 19)",PRECISIONEDGE3:"Precision Edge 3(19)",KISTRIKE:"Ki Strike (1, 9, 17)",ANIMALCOMPANION:"Animal/Construct Companion (1, 4, 14)"},J=Object(R.a)(Object(R.a)({NONE:"None",FIGHTERWEAPONSPEC:"Fighter Weapon Specialization",MARTIALWEAPONSPEC:"Martial Weapon Specializaton",CASTERWEAPONSPEC:"Caster Weapon Specializaton"},G),{},{WEAPON:"Weapon (1, 4, 12, 19)",SPELLLEVEL1:"1 x Spell Level",LEVEL:"Level",HALFLEVEL:"1/2 Level",BOMB:"Bomb Splash (1, 3, 11, 17)",BOMBPLUS:"Max Int Calculated/Expanded Splash",RAGE:"Rage",ANIMALRAGE:"Animal Rage",DRAGONRAGE:"Dragon Rage",GIANTRAGE:"Giant Rage",SPIRITRAGE:"Spirit Rage",PRECISE:"Precise Strike (1, 1, 5, 9, 13, 17)",ARCANECASCADE:"Arcane Cascade",OVERDRIVES:"Overdrive Success",OVERDRIVEC:"Overdrive Critical",IMPLEMENT:"Implement's Empowerment",CONSTRUCT:"Construct Companion Damage",NIMBLE:"Str 14 Nimble AC Damage",SAVAGE:"Str 16 Savage AC Damage"}),X={NONE:"None",B:"bludgeoning",P:"piercing",S:"slashing",BLEED:"bleed",FIRE:"fire",COLD:"cold",MENTAL:"mental",FORCE:"force",PRECISION:"precision"},$={NONE:"none",COLD_IRON:"cold iron",SILVER:"silver",ADAMANTINE:"adamantine"},q={FLATFOOT:"Flatfooted",PRONE:"Prone",GRAPPLED:"Grappled",RESTRAINED:"Restrained"},Q={FRIGHTENED:"Frightened",CLUMSY:"Clumsy",BONUSC1:"Cicumstance Bonus to next attack",BONUSSA:"Status Bonus to all attacks"},Z=Object(R.a)(Object(R.a)({},q),Q),ee=Object(R.a)(Object(R.a)({Always:"Always"},q),Q),te={4:4,6:6,8:8,10:10,12:12},ae=a(239),ie=a(240),ne=a(227),re=a(229),ce=a(77),se=function(){return Object(ce.b)()},le=ce.c,de=a(25),oe=Object(de.b)(),ue=0,pe=Object(de.c)({name:"weaknesses",initialState:oe.getInitialState(),reducers:{weaknessAdded:oe.addOne,weaknessUpdated:oe.updateOne,weaknessCreated:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.type,r=a.value;oe.addOne(e,{id:i,type:n,value:r})},prepare:function(e){var t=e.parentId,a=e.type,i=e.value;return{payload:{id:++ue,parentId:t,type:a,value:i}}}},weaknessRemoved:function(e,t){oe.removeOne(e,t.payload.id)}}}),fe=pe.actions,me=fe.weaknessRemoved,je=fe.weaknessCreated,ge=(fe.weaknessAdded,fe.weaknessUpdated),he=pe.reducer,be=oe.getSelectors((function(e){return e.weaknesses})),Oe=be.selectById,ve=(be.selectIds,be.selectEntities),Se=(be.selectAll,be.selectTotal,a(3)),xe=a(15),ye=function(e){return Ae(e.concat(e),!0)},Ae=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=0,i={},n=1;n<=20;n++){var r,c=Object(xe.a)(e);try{for(c.s();!(r=c.n()).done;){var s=r.value;s===n&&(a+=1)}}catch(l){c.e(l)}finally{c.f()}i[n]=t?a+n:a}return i},Te=function(e){for(var t=0,a={},i=1;i<=20;i++){var n,r=Object(xe.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;c[0]===i&&(t+=c[1])}}catch(s){r.e(s)}finally{r.f()}a[i]=t}return a},Ce={},Ee={},Ie={},Re={},we={},Le={},ke={},Pe={},We={},De={},Ne={},Fe={},ze={},Me={},Be={},Ge={},Ve={},Ue={},_e={},He={},Ke={},Ye={},Je={},Xe={},$e={},qe={},Qe=1;Qe<=20;Qe++)$e[Qe]=Math.floor((Qe+1)/2),qe[Qe]=2*Math.floor((Qe+1)/2);for(var Ze={},et={},tt={},at={},it={},nt={},rt={},ct={},st={},lt={},dt={},ot={},ut={},pt={},ft={},mt={},jt={},gt={},ht={},bt={},Ot={},vt={},St={},xt={},yt={},At={},Tt={},Ct={},Et={},It={},Rt={},wt={},Lt={},kt={},Pt={},Wt={},Dt={},Nt={},Ft={},zt={},Mt={},Bt={},Gt={},Vt=1;Vt<=20;Vt++)Ce[Vt]=0,Ee[Vt]=Vt,Ie[Vt]=Math.floor(Vt/2),Re[Vt]=Vt+2,we[Vt]=Vt+2,Le[Vt]=4,ke[Vt]=3,Pe[Vt]=3,We[Vt]=3,De[Vt]=2,Ne[Vt]=2,Fe[Vt]=1,ze[Vt]=0,Me[Vt]=3,Be[Vt]=3,Ge[Vt]=2,Ve[Vt]=2,Ue[Vt]=2,_e[Vt]=2,Lt[Vt]=Vt+2,kt[Vt]=Vt+2,Pt[Vt]=Vt+2,Wt[Vt]=Vt+2,Dt[Vt]=Vt+2,He[Vt]=0,Ke[Vt]=0,Ye[Vt]=0,Je[Vt]=1,Xe[Vt]=1,Ze[Vt]=0,et[Vt]=0,tt[Vt]=1,at[Vt]=1,it[Vt]=1,nt[Vt]=2,rt[Vt]=1,dt[Vt]=1,ct[Vt]=1,st[Vt]=0,lt[Vt]=0,ot[Vt]=0,ut[Vt]=0,pt[Vt]=3,ft[Vt]=2,mt[Vt]=3,jt[Vt]=1,gt[Vt]=2,ht[Vt]=2,bt[Vt]=4,Ot[Vt]=6,vt[Vt]=3,St[Vt]=1,xt[Vt]=2,yt[Vt]=4,At[Vt]=2,Vt>=2&&(He[Vt]=1),Vt>=3&&(we[Vt]=Vt+4,Ke[Vt]=1,Ye[Vt]=1,Je[Vt]=2,jt[Vt]=2,xt[Vt]=3,yt[Vt]=5,At[Vt]=4),Vt>=4&&(Xe[Vt]=2,dt[Vt]=2,pt[Vt]=4,ft[Vt]=3,mt[Vt]=4,jt[Vt]=4,Me[Vt]=4,Be[Vt]=4),Vt>=5&&(Ge[Vt]=4,ke[Vt]=4,Pe[Vt]=4,We[Vt]=4,De[Vt]=3,Ne[Vt]=3,Fe[Vt]=2,ze[Vt]=1,at[Vt]=2,it[Vt]=2,nt[Vt]=3),Vt>=7&&(Ve[Vt]=4,ot[Vt]=1,_e[Vt]=4,we[Vt]=Vt+6,gt[Vt]=6,ht[Vt]=5,bt[Vt]=8,Ot[Vt]=10,vt[Vt]=7,St[Vt]=2,xt[Vt]=4,yt[Vt]=6),Vt>=8&&(Dt[Vt]=Vt+4,Ze[Vt]=1,et[Vt]=1,pt[Vt]=8,ft[Vt]=6,mt[Vt]=9,Me[Vt]=6,Be[Vt]=6),Vt>=9&&(Ke[Vt]=2,Lt[Vt]=Vt+4,it[Vt]=3,nt[Vt]=4,rt[Vt]=2),Vt>=10&&(He[Vt]=2,Le[Vt]=5,De[Vt]=4,Ne[Vt]=4,Fe[Vt]=3,ze[Vt]=2,et[Vt]=2,jt[Vt]=7,yt[Vt]=7),Vt>=11&&(Ue[Vt]=4,kt[Vt]=Vt+4,Ye[Vt]=2,Je[Vt]=3,jt[Vt]=8,at[Vt]=3,At[Vt]=6,ct[Vt]=2),Vt>=12&&(Xe[Vt]=3,Pt[Vt]=Vt+4,tt[Vt]=2),Vt>=13&&(Ge[Vt]=6,ut[Vt]=1,it[Vt]=4,nt[Vt]=5),Vt>=14&&(Wt[Vt]=Vt+4,Dt[Vt]=Vt+6,dt[Vt]=3,pt[Vt]=11,ft[Vt]=8,mt[Vt]=13,Me[Vt]=8,Be[Vt]=7),Vt>=15&&(ot[Vt]=2,ke[Vt]=5,Pe[Vt]=5,Fe[Vt]=4,ze[Vt]=3,_e[Vt]=6,we[Vt]=Vt+8,Ze[Vt]=2,gt[Vt]=12,ht[Vt]=12,bt[Vt]=16,Ot[Vt]=18,vt[Vt]=13,St[Vt]=1,xt[Vt]=5,yt[Vt]=8),Vt>=16&&(He[Vt]=3,et[Vt]=3),Vt>=17&&(ke[Vt]=6,Le[Vt]=6,Ke[Vt]=3,Lt[Vt]=Vt+6,Ye[Vt]=3,Je[Vt]=4,jt[Vt]=10,at[Vt]=4,it[Vt]=5,nt[Vt]=6,rt[Vt]=3,st[Vt]=1,xt[Vt]=6,yt[Vt]=9),Vt>=18&&(Pt[Vt]=Vt+6),Vt>=19&&(Xe[Vt]=4,_e[Vt]=8,kt[Vt]=Vt+6,tt[Vt]=3,At[Vt]=8,ct[Vt]=3,st[Vt]=2,lt[Vt]=1),Vt>=20&&(Le[Vt]=7,ze[Vt]=4,jt[Vt]=11,yt[Vt]=10),Tt[Vt]=Vt+Ge[Vt]+2,Ct[Vt]=Vt+Ge[Vt],Et[Vt]=Vt+Ue[Vt],It[Vt]=Vt+Ve[Vt],Rt[Vt]=Vt+_e[Vt],wt[Vt]=10+Vt+_e[Vt]+Le[Vt],Nt[Vt]=Le[Vt]+ot[Vt]*(Ge[Vt]+2)/2,Ft[Vt]=ot[Vt]*(Ge[Vt]+2)/2,zt[Vt]=Le[Vt]+ot[Vt]*Ge[Vt]/2,Mt[Vt]=ot[Vt]*Ge[Vt]/2,Bt[Vt]=We[Vt]+ut[Vt]*Ue[Vt]/2,Gt[Vt]=ut[Vt]*Ue[Vt]/2;var Ut=(i={},Object(Se.a)(i,B.UNTRAINED,Ae([])),Object(Se.a)(i,B.TRAINED,ye([1])),Object(Se.a)(i,B.FIGHTERWEAPON,ye([1,1,5,13])),Object(Se.a)(i,B.MARTIALWEAPON,ye([1,5,13])),Object(Se.a)(i,B.CASTERWEAPON,ye([1,11])),Object(Se.a)(i,B.ALCHWEAPON,ye([1,7])),Object(Se.a)(i,B.CASTERSPELL,ye([1,7,15,19])),Object(Se.a)(i,B.CLASSDC1,ye([1,9,17])),Object(Se.a)(i,B.CLASSDC2,ye([1,11,19])),Object(Se.a)(i,B.MCSPELL,ye([1,12,18])),Object(Se.a)(i,B.MAXSKILL,ye([1,3,7,15])),Object(Se.a)(i,B.ANIMALCOMPANION,ye([1,14])),Object(Se.a)(i,B.SAVAGEACATHLETICS,ye([1,4,14])),i),_t=(n={},Object(Se.a)(n,G.AS10,Ae([])),Object(Se.a)(n,G.AS18,Ae([1,1,1,1,10,20])),Object(Se.a)(n,G.AS18a,Ae([1,1,1,1,10,17,20])),Object(Se.a)(n,G.AS16a,Ae([1,1,1,5,15,17])),Object(Se.a)(n,G.AS16pp,Ae([1,1,1,5,15])),Object(Se.a)(n,G.AS16p,Ae([1,1,1,5])),Object(Se.a)(n,G.AS14pp,Ae([1,1,5,10,20])),Object(Se.a)(n,G.AS14p,Ae([1,1,5,10])),Object(Se.a)(n,G.AS12p,Ae([1,5,10,15])),Object(Se.a)(n,G.AS10p,Ae([5,10,15,20])),Object(Se.a)(n,G.NIMBLEAC,Me),Object(Se.a)(n,G.SAVAGEAC,Be),n),Ht=(r={},Object(Se.a)(r,V.NONE,Ae([])),Object(Se.a)(r,V.WEAPON,He),Object(Se.a)(r,V.SKILL,Ke),Object(Se.a)(r,V.BOMB,Ye),Object(Se.a)(r,V.MUTAGEN,Je),r),Kt={"0 (0x-5)":0,"-5 (1x-5)":-5,"-10 (2x-5)":-10,"0 (0x-4)":0,"-4 (1x-4)":-4,"-8 (2x-4)":-8,"0 (0x-3)":0,"-3 (1x-3)":-3,"-6 (2x-3)":-6,"0 (0x-2)":0,"-2 (1x-2)":-2,"-4 (2x-2)":-4,"0 (0x-1)":0,"-1 (1x-1)":-1,"-2 (2x-1)":-2},Yt=(c={},Object(Se.a)(c,Y.NONE,Ce),Object(Se.a)(c,Y.WEAPON,Xe),Object(Se.a)(c,Y.SPELLLEVEL1,$e),Object(Se.a)(c,Y.SPELLLEVEL2,qe),Object(Se.a)(c,Y.LEVEL,Ee),Object(Se.a)(c,Y.HALFLEVEL,Ie),Object(Se.a)(c,Y.RUNE,Ze),Object(Se.a)(c,Y.RUNE2,et),Object(Se.a)(c,Y.DEADLY,tt),Object(Se.a)(c,Y.BOMB,Je),Object(Se.a)(c,Y.SNEAK,at),Object(Se.a)(c,Y.STRATEGIC,it),Object(Se.a)(c,Y.PRECISE,nt),Object(Se.a)(c,Y.PRECISIONEDGE,ct),Object(Se.a)(c,Y.PRECISIONEDGE2,st),Object(Se.a)(c,Y.PRECISIONEDGE3,lt),Object(Se.a)(c,Y.KISTRIKE,rt),Object(Se.a)(c,Y.ANIMALCOMPANION,dt),c),Jt=Object(R.a)(Object(R.a)({},_t),{},(s={},Object(Se.a)(s,J.NONE,Ce),Object(Se.a)(s,J.FIGHTERWEAPONSPEC,Ft),Object(Se.a)(s,J.MARTIALWEAPONSPEC,Mt),Object(Se.a)(s,J.CASTERWEAPONSPEC,Gt),Object(Se.a)(s,J.WEAPON,Xe),Object(Se.a)(s,J.SPELLLEVEL1,$e),Object(Se.a)(s,J.LEVEL,Ee),Object(Se.a)(s,J.HALFLEVEL,Ie),Object(Se.a)(s,J.BOMB,Je),Object(Se.a)(s,J.BOMBPLUS,jt),Object(Se.a)(s,J.RAGE,gt),Object(Se.a)(s,J.ANIMALRAGE,ht),Object(Se.a)(s,J.DRAGONRAGE,bt),Object(Se.a)(s,J.GIANTRAGE,Ot),Object(Se.a)(s,J.SPIRITRAGE,vt),Object(Se.a)(s,J.PRECISE,nt),Object(Se.a)(s,J.ARCANECASCADE,St),Object(Se.a)(s,J.OVERDRIVES,xt),Object(Se.a)(s,J.OVERDRIVEC,yt),Object(Se.a)(s,J.IMPLEMENT,At),Object(Se.a)(s,J.CONSTRUCT,pt),Object(Se.a)(s,J.NIMBLE,ft),Object(Se.a)(s,J.SAVAGE,mt),s)),Xt={"-1":18,0:19,1:19,2:21,3:22,4:24,5:25,6:27,7:28,8:30,9:31,10:33,11:34,12:36,13:37,14:39,15:40,16:42,17:43,18:45,19:46,20:48,21:49,22:51,23:52,24:54},$t=Object(R.a)({},Xt);for(var qt in $t)$t[qt]-=3;var Qt=Object(R.a)({},Xt);for(var Zt in Qt)Qt[Zt]-=4;var ea=Object(R.a)({},Xt);for(var ta in ea)ea[ta]-=6;var aa,ia=(l={},Object(Se.a)(l,D.EXTREME,Xt),Object(Se.a)(l,D.HIGH,$t),Object(Se.a)(l,D.MODERATE,Qt),Object(Se.a)(l,D.LOW,ea),l),na=(d={},Object(Se.a)(d,N.EXTREME,{"-1":9,0:10,1:11,2:12,3:14,4:15,5:17,6:18,7:20,8:21,9:23,10:24,11:26,12:27,13:29,14:30,15:32,16:33,17:35,18:36,19:38,20:39,21:41,22:43,23:44,24:46}),Object(Se.a)(d,N.HIGH,{"-1":8,0:9,1:10,2:11,3:12,4:14,5:15,6:17,7:18,8:19,9:21,10:22,11:24,12:25,13:26,14:28,15:29,16:30,17:32,18:33,19:35,20:36,21:38,22:39,23:40,24:42}),Object(Se.a)(d,N.MODERATE,{"-1":5,0:6,1:7,2:8,3:9,4:11,5:12,6:14,7:15,8:16,9:18,10:19,11:21,12:22,13:23,14:25,15:26,16:28,17:29,18:30,19:32,20:33,21:35,22:36,23:37,24:38}),Object(Se.a)(d,N.LOW,{"-1":2,0:3,1:4,2:5,3:6,4:8,5:9,6:11,7:12,8:13,9:15,10:16,11:18,12:19,13:20,14:22,15:23,16:25,17:26,18:27,19:29,20:30,21:32,22:33,23:34,24:36}),Object(Se.a)(d,N.TERRIBLE,{"-1":0,0:1,1:2,2:3,3:4,4:6,5:7,6:8,7:10,8:11,9:12,10:14,11:15,12:16,13:18,14:19,15:20,16:22,17:23,18:24,19:26,20:27,21:28,22:30,23:31,24:32}),d),ra={"-1":12,0:14,1:15,2:16,3:18,4:19,5:20,6:22,7:23,8:24,9:26,10:27,11:28,12:30,13:31,14:32,15:34,16:35,17:36,18:38,19:39,20:40,21:42,22:44,23:46,24:48,25:50},ca=Object(de.b)(),sa=Object(de.c)({name:"targets",initialState:ca.getInitialState(),reducers:{targetAdded:ca.addOne,targetUpdated:function(e,t){ca.updateOne(e,t.payload),"targetLevel"in t.payload.changes&&ja(e,t.payload.changes.targetLevel)}},extraReducers:function(e){e.addCase(je,(function(e,t){var a=t.payload,i=a.parentId,n=a.id;e.entities[i].weaknesses.push(n)})).addCase(me,(function(e,t){var a=t.payload,i=a.parentId,n=a.id;e.entities[i].weaknesses=e.entities[i].weaknesses.filter((function(e){return e!==n}))}))}}),la=sa.actions,da=la.targetAdded,oa=la.targetUpdated,ua=sa.reducer,pa=ca.getSelectors((function(e){return e.targets})),fa=pa.selectById,ma=(pa.selectIds,pa.selectEntities),ja=(pa.selectAll,pa.selectTotal,function(e,t){e.entities[0].overrideAC=ia[e.entities[0].ACTrend][t],e.entities[0].overrideFort=na[e.entities[0].FortTrend][t],e.entities[0].overrideRef=na[e.entities[0].RefTrend][t],e.entities[0].overrideWill=na[e.entities[0].WillTrend][t],e.entities[0].overridePer=na[e.entities[0].PerTrend][t]}),ga=a(238),ha=a(0),ba=function(e){var t,a=[];for(t in e)a.push(Object(ha.jsx)(ga.a,{value:e[t],children:e[t]},t));return a},Oa=[];for(aa in w)Oa.push(Object(ha.jsx)("option",{children:w[aa]},aa));for(var va,Sa=[],xa=1;xa<=20;xa++)Sa.push(Object(ha.jsx)(ga.a,{value:xa,children:xa},xa));var ya,Aa=[];for(va in F)Aa.push(Object(ha.jsx)(ga.a,{value:F[va],children:F[va]},va));var Ta,Ca=[];for(ya in z)Ca.push(Object(ha.jsx)(ga.a,{value:z[ya],children:z[ya]},ya));var Ea,Ia=[];for(Ta in M)Ia.push(Object(ha.jsx)(ga.a,{value:M[Ta],children:M[Ta]},Ta));var Ra,wa=[];for(Ea in B)wa.push(Object(ha.jsx)(ga.a,{value:B[Ea],children:B[Ea]},Ea));var La,ka=[];for(Ra in G)ka.push(Object(ha.jsx)(ga.a,{value:G[Ra],children:G[Ra]},Ra));var Pa,Wa=[];for(La in V)Wa.push(Object(ha.jsx)(ga.a,{value:V[La],children:V[La]},La));var Da,Na=[];for(Pa in U)Na.push(Object(ha.jsx)(ga.a,{value:U[Pa],children:U[Pa]},Pa));var Fa,za=[];for(Da in H)za.push(Object(ha.jsx)(ga.a,{value:H[Da],children:H[Da]},Da));var Ma,Ba=[];for(Fa in D)Ba.push(Object(ha.jsx)(ga.a,{value:D[Fa],children:D[Fa]},Fa));var Ga,Va=[];for(Ma in N)Va.push(Object(ha.jsx)(ga.a,{value:N[Ma],children:N[Ma]},Ma));var Ua,_a=[];for(Ga in K)_a.push(Object(ha.jsx)(ga.a,{value:K[Ga],children:K[Ga]},Ga));var Ha,Ka=[];for(Ua in Y)Ka.push(Object(ha.jsx)(ga.a,{value:Y[Ua],children:Y[Ua]},Ua));var Ya,Ja=[];for(Ha in te)Ja.push(Object(ha.jsx)(ga.a,{value:Ha,children:"d"+Ha},Ha));var Xa,$a=[];for(Ya in J)$a.push(Object(ha.jsx)(ga.a,{value:J[Ya],children:J[Ya]},Ya));var qa,Qa=[];for(Xa in X)Qa.push(Object(ha.jsx)(ga.a,{value:X[Xa],children:X[Xa]},Xa));var Za=[];for(qa in $)Za.push(Object(ha.jsx)(ga.a,{value:$[qa],children:$[qa]},qa));var ei=[];for(Xa in X)ei.push(Object(ha.jsx)(ga.a,{value:X[Xa],children:X[Xa]},Xa));for(qa in $)$[qa]!==$.NONE&&ei.push(Object(ha.jsx)(ga.a,{value:$[qa],children:$[qa]},qa));for(var ti=[],ai=0,ii=[.5,1,2];ai<ii.length;ai++){var ni=ii[ai];ti.push(Object(ha.jsx)(ga.a,{value:ni,children:ni},ni))}var ri,ci,si=[];for(ri in q)si.push(Object(ha.jsx)(ga.a,{value:q[ri],children:q[ri]},ri));for(ci in Q)si.push(Object(ha.jsx)(ga.a,{value:Q[ci],children:Q[ci]},ci));function li(){var e=le((function(e){return fa(e,0)})),t=e.name,a=e.levelDiff,i=e.ACTrend,n=e.FortTrend,r=e.RefTrend,c=e.WillTrend,s=e.PerTrend,l=Object(u.useState)(t),d=Object(I.a)(l,2),o=d[0],p=d[1],f=se();return Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},sx:{my:0,py:1},children:[Object(ha.jsx)(b.a,{item:!0,xs:12,sm:6,md:12,lg:6,children:Object(ha.jsx)(re.a,{fullWidth:!0,label:"Graph Name",placeholder:"Enter the name that will display on the graph",value:o,onChange:function(e){p(e.target.value)},onBlur:function(){return f(oa({id:0,changes:{name:o}}))}})}),Object(ha.jsxs)(b.a,{item:!0,xs:6,sm:3,md:6,lg:3,children:[Object(ha.jsxs)(x.a,{children:["Level Diff: ",a]}),Object(ha.jsx)(ne.a,{value:a,step:1,min:-5,max:5,marks:!0,onChange:function(e,t){f(oa({id:0,changes:{levelDiff:t}}))}})]}),Object(ha.jsx)(b.a,{item:!0,xs:6,sm:3,md:6,lg:3,children:Object(ha.jsxs)(ae.a,{fullWidth:!0,children:[Object(ha.jsx)(ie.a,{id:"AC-input",children:"AC"}),Object(ha.jsx)(S.a,{labelId:"AC-input",id:"AC",value:i,label:"AC",onChange:function(e){return f(oa({id:0,changes:{ACTrend:e.target.value}}))},children:Ba})]})}),Object(ha.jsx)(b.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(ha.jsxs)(ae.a,{fullWidth:!0,children:[Object(ha.jsx)(ie.a,{id:"Fort-input",children:"Fort"}),Object(ha.jsx)(S.a,{labelId:"Fort-input",id:"Fort",value:n,label:"Fort",onChange:function(e){return f(oa({id:0,changes:{FortTrend:e.target.value}}))},children:Va})]})}),Object(ha.jsx)(b.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(ha.jsxs)(ae.a,{fullWidth:!0,children:[Object(ha.jsx)(ie.a,{id:"Ref-input",children:"Reflex"}),Object(ha.jsx)(S.a,{labelId:"Ref-input",id:"Ref",value:r,label:"Reflex",onChange:function(e){return f(oa({id:0,changes:{RefTrend:e.target.value}}))},children:Va})]})}),Object(ha.jsx)(b.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(ha.jsxs)(ae.a,{fullWidth:!0,children:[Object(ha.jsx)(ie.a,{id:"Will-input",children:"Will"}),Object(ha.jsx)(S.a,{labelId:"Will-input",id:"Will",value:c,label:"Will",onChange:function(e){return f(oa({id:0,changes:{WillTrend:e.target.value}}))},children:Va})]})}),Object(ha.jsx)(b.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(ha.jsxs)(ae.a,{fullWidth:!0,children:[Object(ha.jsx)(ie.a,{id:"Per-input",children:"Perception"}),Object(ha.jsx)(S.a,{labelId:"Per-input",id:"Per",value:s,label:"Perception",onChange:function(e){return f(oa({id:0,changes:{PerTrend:e.target.value}}))},children:Va})]})})]})}var di=a(16),oi={Strike:"Strike",Skill:"Skill Action",Cantrip:"Cantrip",Spell:"Spell"},ui=[Y.NONE,Y.RUNE,Y.RUNE2],pi=["Alchemist","Barbarian","Bard","Champion","Cleric","Druid","Fighter","Gunslinger","Inventor","Investigator","Magus","Monk","Oracle","Ranger","Rogue","Sorcerer","Summoner","Swashbuckler","Witch","Wizard"],fi=[],mi=["Strike","Double Slice","Power Attack","Spell Strike","Ki Strike"],ji={Alchemist:["Normal","Bomb Strike","Bomb w/ feats","Perpetual Bomb","Perpetual Bomb w/ feats"],Barbarian:["Normal","animal rage","dragon rage","rage","giant rage","spirit rage"],Bard:fi,Champion:fi,Cleric:["Cloistered","Warpriest"],Druid:fi,Fighter:fi,Gunslinger:fi,Inventor:["Normal","Overdrive Success","Overdrive Critical"],Investigator:["Normal","Strategic Strike"],Magus:["Normal","Arcane Cascade"],Monk:fi,Oracle:fi,Ranger:["Normal","Flurry Edge","Precision Edge"],Rogue:["Normal","Sneak Attack"],Sorcerer:fi,Summoner:fi,Swashbuckler:["Normal","Precise Strike","Precise Finisher"],Witch:fi,Wizard:fi},gi=["agile","backswing","deadly","fatal","forceful","ranged","propulsive"],hi=["Sword","Hammer","Spear","Other","Pick","Knife"],bi=[B.TRAINED,B.MAXSKILL],Oi=[B.TRAINED,B.CASTERSPELL,B.MCSPELL,B.CLASSDC1,B.CLASSDC2],vi=["Trip","Grapple","Demoralize"],Si=["Electric Arc","Daze","Gouging Claw","Produce Flame","Ray of Frost","Telekinetic Projectile"],xi=["Fear","Fireball","Heroism"],yi=["Gouging Claw","Produce Flame","Ray of Frost","Telekinetic Projectile"],Ai=function(e){var t="d"+e.dieSize;for(var a in e.traits)e.traits[a]&&(t+=" "+a,"fatal"===a&&(t+=" d"+e.fatalSize),"deadly"===a&&(t+=" d"+e.deadlySize));return e.critSpec&&(t+=" "+e.critSpecType),t},Ti=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1,i=e.cClass;for(var n in""!==e.classOption&&(i+=" ("+e.classOption+")"),i+=" - ",i+=e.activity+" - d"+a.dieSize,a.traits)a.traits[n]&&(i+=" "+n,"fatal"===n&&(i+=" d"+a.fatalSize),"deadly"===n&&(i+=" d"+a.deadlySize));return a.critSpec&&(i+=" "+a.critSpecType),i},Ci=function(e,t){return["Fighter","Gunslinger"].includes(e)?B.FIGHTERWEAPON:["Bard","Druid","Oracle","Sorcerer","Summoner","Witch","Wizard"].includes(e)?B.CASTERWEAPON:["Alchemist"].includes(e)?B.ALCHWEAPON:"Cleric"===e?"Warpriest"===t?B.ALCHWEAPON:B.CASTERWEAPON:B.MARTIALWEAPON},Ei=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return"Ranger"===e.cClass&&"Flurry Edge"===e.classOption?a.traits.agile?U.RA1:U.R1:a.traits.agile?U.A1:U.N1},Ii=function(e,t){for(var a={},i=0,n=1;n<=20;n++)i=0,"Perpetual Bomb"!==e.classOption&&"Perpetual Bomb w/ feats"!==e.classOption||(i-=1),"Ranger"===e.cClass&&"Flurry Edge"===e.classOption&&n>=17&&(i+=Math.min(t+e.numPrevStrikes,2)),"Ki Strike"===e.activity&&(i+=1),"Double Slice"!==e.activity||1!==t||(e.twf?e.weapon2.traits.agile:e.weapon1.traits.agile)||(i-=2),a[n]=i;return a},Ri=function(e){for(var t={},a=0,i=1;i<=20;i++)a=0,"Power Attack"===e.activity&&i>=1&&(a+=1),"Power Attack"===e.activity&&i>=10&&(a+=1),"Power Attack"===e.activity&&i>=18&&(a+=1),"Perpetual Bomb"!==e.classOption&&"Perpetual Bomb w/ feats"!==e.classOption||(a-=1),t[i]=a;return t},wi=function(e,t){return"Ranger"===e.cClass&&"Precision Edge"===e.classOption&&t<3||("Rogue"===e.cClass&&"Sneak Attack"===e.classOption||("Investigator"===e.cClass&&"Strategic Strike"===e.classOption||"Swashbuckler"===e.cClass&&("Precise Finisher"===e.classOption||"Precise Strike"===e.classOption)))},Li=function(e,t){if("Ranger"===e.cClass&&"Precision Edge"===e.classOption&&t<3){var a=Y.PRECISIONEDGE;return 1===t&&(a=Y.PRECISIONEDGE2),2===t&&(a=Y.PRECISIONEDGE3),{dieTrend:a,diceSize:te[8],damageWhen:[ee.Always],damageTrend:[]}}return"Rogue"===e.cClass&&"Sneak Attack"===e.classOption?{dieTrend:Y.SNEAK,diceSize:te[6],damageWhen:[ee.FLATFOOT],damageTrend:[]}:"Investigator"===e.cClass&&"Strategic Strike"===e.classOption?{dieTrend:Y.STRATEGIC,diceSize:te[6],damageWhen:[ee.Always],damageTrend:[]}:"Swashbuckler"===e.cClass&&"Precise Finisher"===e.classOption?{dieTrend:Y.PRECISE,diceSize:te[6],damageWhen:[ee.Always],damageTrend:[]}:"Swashbuckler"===e.cClass&&"Precise Strike"===e.classOption?{dieTrend:Y.NONE,diceSize:te[6],damageWhen:[ee.Always],damageTrend:[J.PRECISE]}:{dieTrend:Y.NONE,diceSize:te[6],damageWhen:[ee.Always],damageTrend:[]}},ki=function(e){return"Ki Strike"===e.activity||"Spell Strike"===e.activity},Pi=function(e){return"Ki Strike"===e.activity?{dieTrend:Y.KISTRIKE,diceSize:te[6],damageType:X.FORCE}:"Spell Strike"===e.activity?Ni(e.spell,e.cantripScore):{dieTrend:Y.NONE,diceSize:te[6],damageType:X.NONE}},Wi=function(e){return"Bomb Strike"===e.classOption||"Bomb w/ feats"===e.classOption||("Perpetual Bomb"===e.classOption||"Perpetual Bomb w/ feats"===e.classOption)},Di=function(e){return"Bomb Strike"===e.classOption?{damageTrend:[J.BOMB]}:"Bomb w/ feats"===e.classOption?{damageTrend:[J.BOMBPLUS]}:"Perpetual Bomb"===e.classOption?{damageTrend:[J.BOMB],damageAdjustments:Te([[1,-1]])}:"Perpetual Bomb w/ feats"===e.classOption?{damageTrend:[J.BOMBPLUS],damageAdjustments:Te([[1,-1],[4,1],[10,-1]])}:{}},Ni=function(e,t){var a=X.B,i=te[4];return"Telekinetic Projectile"===e&&(i=te[6]),"Produce Flame"===e&&(a=X.FIRE),"Gouging Claw"===e&&(a=X.BLEED),"Ray of Frost"===e&&(a=X.COLD),{damageType:a,dieTrend:Y.SPELLLEVEL1,diceSize:i,damageTrend:[t]}},Fi=function(e){return"Spell Strike"===e.activity&&("Produce Flame"===e.spell||"Gouging Claw"===e.spell)},zi=function(e){var t=X.B,a=te[4];return"Produce Flame"===e.spell&&(t=X.FIRE),"Gouging Claw"===e.spell&&(t=X.BLEED),{damageType:t,diceSize:a,dieTrend:Y.SPELLLEVEL1,persistent:!0}},Mi=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=a?e.weapon2:e.weapon1,n=[];i.traits.propulsive||i.traits.ranged||n.push(e.damageScore),["Fighter","Gunslinger"].includes(e.cClass)?n.push(J.FIGHTERWEAPONSPEC):["Bard","Cleric","Druid","Oracle","Sorcerer","Summoner","Witch","Wizard"].includes(e.cClass)||["Alchemist"].includes(e.cClass)?n.push(J.CASTERWEAPONSPEC):n.push(J.MARTIALWEAPONSPEC);var r=0;if(e.twf){r=i.numPrevStrikes;var c,s=Object(xe.a)(e.isStrikeSecondaryWeapon);try{for(s.s();!(c=s.n()).done;){var l=c.value;(l&&a||!l&&!a)&&(r+=1)}}catch(d){s.e(d)}finally{s.f()}}else r=t+e.numPrevStrikes;if(i.traits.forceful&&(1===r?n.push(J.WEAPON):r>=2&&(n.push(J.WEAPON),n.push(J.WEAPON))),"Barbarian"===e.cClass)switch(e.classOption){case"animal rage":n.push(J.ANIMALRAGE);break;case"dragon rage":n.push(J.DRAGONRAGE);break;case"rage":n.push(J.RAGE);break;case"giant rage":n.push(J.GIANTRAGE);break;case"spirit rage":n.push(J.SPIRITRAGE)}if("Magus"===e.cClass&&"Arcane Cascade"===e.classOption)n.push(J.ARCANECASCADE);return n},Bi=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1,i={},n=0,r=1;r<=20;r++){if(n=0,a.traits.propulsive&&(n+=Math.floor(_t[e.damageScore][r]/2)),"Gunslinger"===e.cClass&&(n+=1),"Inventor"===e.cClass){var c=0;switch(r>=3&&(c=1),r>=7&&(c=2),r>=15&&(c=3),e.classOption){case"Overdrive Success":n+=Math.floor(_t[e.cantripScore][r]/2)+c;break;case"Overdrive Critical":n+=_t[e.cantripScore][r]+c}}i[r]=n}return i},Gi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.traits.backswing},Vi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.traits.deadly},Ui=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.traits.fatal},_i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.critSpec&&"Pick"===a.critSpecType},Hi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.critSpec&&"Knife"===a.critSpecType},Ki=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Yi(e,t)||Ji(e,t)||Xi(e,t)},Yi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.critSpec&&"Sword"===a.critSpecType},Ji=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.critSpec&&"Hammer"===a.critSpecType},Xi=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1;return a.critSpec&&"Spear"===a.critSpecType},$i=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1,i={},n=0,r=1;r<=20;r++)r>=a.critSpecLevel&&a.critSpec&&"Knife"===a.critSpecType&&r>=1&&(n=1),i[r]=n;return i},qi=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?e.weapon2:e.weapon1,i={},n=0,r=1;r<=20;r++)r>=a.critSpecLevel&&(a.critSpec&&"Pick"===a.critSpecType&&(r>=1&&(n=2),r>=4&&(n=4),r>=12&&(n=6),r>=19&&(n=8)),a.critSpec&&"Knife"===a.critSpecType&&(r>=2&&(n=1),r>=10&&(n=2),r>=16&&(n=3))),i[r]=n;return i},Qi=function(e){switch(e.skillActivity){case"Trip":return H.REF;case"Grapple":return H.FORT;case"Demoralize":return H.WILL;default:return H.selfDC}};function Zi(e){return"object"===typeof e&&"string"===typeof e.name&&"boolean"===typeof e.display&&"number"===typeof e.levelDiff&&"string"===typeof e.description&&en(e.apIds)&&"number"===typeof e.startLevel&&"number"===typeof e.endLevel}function en(e){if(Array.isArray(e)){var t,a=Object(xe.a)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(!(Object.values(F).includes(i.condition)&&Object.values(z).includes(i.rollType)&&Object.values(M).includes(i.type)&&Object.values(B).includes(i.profTrend)&&Object.values(G).includes(i.statTrend)&&Object.values(V).includes(i.itemTrend)&&tn(i.bonusAdjustments)&&Object.values(U).includes(i.MAP)&&Object.values(H).includes(i.targetType)&&en(i.apIds)&&an(i.damages)&&nn(i.effects)))return!1}}catch(n){a.e(n)}finally{a.f()}return!0}return!1}function tn(e){if("object"!==typeof e)return!1;for(var t=1;t<=20;t++)if("number"!==typeof e[t])return!1;return!0}function an(e){if(Array.isArray(e)){var t,a=Object(xe.a)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(Array.isArray(i.damageTrend)){var n,r=Object(xe.a)(i.damageTrend);try{for(r.s();!(n=r.n()).done;){var c=n.value;if(!Object.values(J).includes(c))return!1}}catch(o){r.e(o)}finally{r.f()}}if(Array.isArray(i.damageWhen)){var s,l=Object(xe.a)(i.damageWhen);try{for(l.s();!(s=l.n()).done;){var d=s.value;if(!Object.values(ee).includes(d))return!1}}catch(o){l.e(o)}finally{l.f()}}if(!(Object.values(K).includes(i.damageCondition)&&Object.values(Y).includes(i.dieTrend)&&tn(i.dieAdjustments)&&"number"===typeof i.diceSize&&"boolean"===typeof i.fatal&&"number"===typeof i.fatalDie&&tn(i.damageAdjustments)&&Object.values(X).includes(i.damageType)&&Object.values($).includes(i.material)&&"boolean"===typeof i.persistent&&[.5,1,2].includes(i.multiplier)))return!1}}catch(o){a.e(o)}finally{a.f()}return!0}return!1}function nn(e){if(Array.isArray(e)){var t,a=Object(xe.a)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(Array.isArray(i.damageWhen)){var n,r=Object(xe.a)(i.damageWhen);try{for(r.s();!(n=r.n()).done;){var c=n.value;if(!Object.values(ee).includes(c))return!1}}catch(s){r.e(s)}finally{r.f()}}if(!Object.values(F).includes(i.effectCondition)||!Object.values(Z).includes(i.effectType)||"number"!==typeof i.startLevel||"number"!==typeof i.endLevel)return!1}}catch(s){a.e(s)}finally{a.f()}return!0}return!1}for(var rn=Object(de.b)(),cn=Object(de.b)(),sn=Object(de.b)(),ln=Object(de.b)(),dn=1,on=1,un=1,pn=1,fn={},mn={},jn=1;jn<=20;jn++)fn[jn]=0,mn[jn]=1;var gn=function(){try{var e=localStorage.getItem("routineState");if(null!==e){var t=JSON.parse(e);return dn=Math.max.apply(Math,Object(di.a)(t.routines.ids)),on=Math.max.apply(Math,Object(di.a)(t.activityPaths.ids)),un=Math.max.apply(Math,Object(di.a)(t.damages.ids)),pn=Math.max.apply(Math,Object(di.a)(t.effects.ids)),t}return}catch(a){return void console.log(a)}}(),hn=gn||{selectedRoutine:0,selectedActivityPath:void 0,parentRoutine:0,parentActivity:void 0,routines:rn.getInitialState(),activityPaths:cn.getInitialState(),damages:sn.getInitialState(),effects:ln.getInitialState(),importRoutine:W},bn={name:"",type:M.STRIKE,condition:F.ALWAYS,rollType:z.NORMAL,profTrend:B.TRAINED,statTrend:G.AS10,itemTrend:V.NONE,bonusAdjustments:fn,MAP:U.N1,targetType:H.AC,damages:[],effects:[],apIds:[]},On={profTrend:B.MARTIALWEAPON,statTrend:G.AS18a,itemTrend:V.WEAPON,damages:[0,1],effects:[0]},vn={type:M.SAVE,profTrend:B.CASTERSPELL,statTrend:G.AS18a,targetType:H.REF,damages:[2],effects:[]},Sn={damageCondition:K.STRIKE,damageType:X.B,material:$.NONE,persistent:!1,multiplier:1,damageWhen:[ee.Always],dieTrend:Y.NONE,dieAdjustments:fn,diceSize:6,fatal:!1,fatalDie:10,damageTrend:[],damageAdjustments:fn},xn={effectCondition:F.ALWAYS,effectType:Z.FLATFOOT,effectValue:1,startLevel:1,endLevel:20,damageWhen:[ee.Always]},yn=Object(de.c)({name:"routines",initialState:hn,reducers:{setRoutine:function(e,t){e.selectedRoutine=t.payload,e.selectedActivityPath=void 0,e.parentActivity=void 0,e.parentRoutine=void 0,function(e){try{var t=JSON.stringify(e);localStorage.setItem("routineState",t)}catch(a){}}(e)},setActivityPath:function(e,t){e.selectedActivityPath===t.payload?e.selectedActivityPath=void 0:e.selectedActivityPath=t.payload,e.parentActivity=void 0,e.parentRoutine=void 0},routineAdded:function(e,t){rn.addOne(e.routines,t)},routineUpdated:function(e,t){rn.updateOne(e.routines,t)},activityPathAdded:function(e,t){cn.addOne(e.activityPaths,t)},activityPathUpdated:function(e,t){cn.updateOne(e.activityPaths,t)},damageAdded:function(e,t){sn.addOne(e.damages,t)},damageUpdated:function(e,t){sn.updateOne(e.damages,t)},effectAdded:function(e,t){ln.addOne(e.effects,t)},effectUpdated:function(e,t){ln.updateOne(e.effects,t)},routineCreated:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.copy;if(e.parentRoutine=void 0,n&&void 0!==e.selectedRoutine){var r=e.routines.entities[e.selectedRoutine],c=r.name+" Copy",s=Tr(e,r.apIds,void 0,i);rn.addOne(e.routines,Object(R.a)(Object(R.a)({},r),{},{id:i,name:c,apIds:s}))}else rn.addOne(e.routines,{id:i,name:"",display:!0,apIds:[],levelDiff:0,description:"",startLevel:1,endLevel:20}),e.parentRoutine=i;e.selectedRoutine=i,e.selectedActivityPath=void 0,e.parentActivity=void 0},prepare:function(e){var t=e.copy;return{payload:{id:++dn,copy:void 0!==t&&t}}}},routineRemoved:function(e,t){var a=t.payload,i=e.routines.entities[a].apIds;fr(e,i),rn.removeOne(e.routines,a),a===e.selectedRoutine&&(0===e.routines.ids.length?e.selectedRoutine=void 0:e.selectedRoutine=e.routines.entities[e.routines.ids[0]].id,e.selectedActivityPath=void 0,e.parentActivity=void 0,e.parentRoutine=void 0)},setNewActivityParent:function(e,t){e.parentRoutine=t.payload.routineId,e.parentActivity=t.payload.parentId,e.selectedActivityPath=void 0},emptyActivityPathCreated:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.routineId,r=a.activityType,c=Object(R.a)(Object(R.a)({},bn),{},{profTrend:B.UNTRAINED,id:i,routineId:n}),s="";if(void 0!==r){if(r===M.STRIKE){var l=Cr(e,On.damages),d=Er(e,On.effects);s="Martial - Strike - d8 Sword",c=Object(R.a)(Object(R.a)(Object(R.a)({},bn),On),{},{id:i,routineId:n,name:s,damages:l,effects:d}),s="Martial - 1 Strike - d8 Sword"}if(r===M.SAVE){var o=Cr(e,vn.damages),u=Er(e,vn.effects);s="Caster - Fireball",c=Object(R.a)(Object(R.a)(Object(R.a)({},bn),vn),{},{id:i,routineId:n,name:s,damages:o,effects:u})}}e.routines.entities[n].apIds.push(i),""===e.routines.entities[n].name&&(e.routines.entities[n].name=s),""===e.routines.entities[n].description&&(e.routines.entities[n].description=""),cn.addOne(e.activityPaths,c),e.selectedActivityPath=i,e.parentActivity=void 0,e.parentRoutine=void 0},prepare:function(e){var t=e.routineId,a=e.activityType;return{payload:{id:++on,routineId:t,activityType:a}}}},activityPathCreated:function(e,t){var a=e.parentActivity,i=e.parentRoutine,n=t.payload,r=n.strikeInfo,c=n.skillInfo,s=n.cantripInfo,l=n.spellInfo,d=0,o="",u="";if(void 0!==r){d=mr(e,a,i,r,0);var p=function(e){var t=e.weapon1,a=e.weapon2,i=e.cClass,n="".concat(e.numStrikes," ").concat(e.activity," with class ").concat(e.cClass," (").concat(e.classOption,") after ").concat(e.numPrevStrikes," previous strikes. Weapon is ").concat(Ai(t));return""!==e.classOption&&(i+=" ("+e.classOption+")"),i+=" - ","Double Slice"!==e.activity&&(i+=e.numStrikes+" "),i+=e.activity+" - "+Ai(t),e.twf&&(i+=" | "+Ai(a),n+=". Weapon two is "+Ai(a)),[i,n]}(r),f=Object(I.a)(p,2);o=f[0],u=f[1]}if(void 0!==c){var m=function(e){return[e.skillActivity,"Use action ".concat(e.skillActivity," with proficiency (").concat(e.proficiency,"), ability score (").concat(e.abilityScore,"), and item bonus (").concat(e.itemBonus,").")]}(c),j=Object(I.a)(m,2);o=j[0],u=j[1],d=hr(e,a,i,c)}if(void 0!==s){var g=function(e){return[e.cantrip,"Cast spell ".concat(e.cantrip," with proficiency (").concat(e.proficiency,") and ability score (").concat(e.abilityScore,").")]}(s),h=Object(I.a)(g,2);o=h[0],u=h[1],d=vr(e,a,i,s)}if(void 0!==l){var b=function(e){return[e.spell,"Cast spell ".concat(e.spell," with proficiency (").concat(e.proficiency,") and ability score (").concat(e.abilityScore,").")]}(l),O=Object(I.a)(b,2);o=O[0],u=O[1],d=xr(e,a,i,l)}void 0!==i&&(e.routines.entities[i].apIds.push(d),""===e.routines.entities[i].name&&(e.routines.entities[i].name=o),""===e.routines.entities[i].description&&(e.routines.entities[i].description=u)),void 0!==a&&e.activityPaths.entities[a].apIds.push(d),e.selectedActivityPath=d,e.parentActivity=void 0,e.parentRoutine=void 0},activityPathContinued:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.parentId;e.activityPaths.entities[n].apIds.push(i);var r=e.activityPaths.entities[n],c=Cr(e,r.damages),s=Er(e,r.effects);cn.addOne(e.activityPaths,Object(R.a)(Object(R.a)({},r),{},{id:i,parentId:n,routineId:void 0,MAP:_[r.MAP],damages:c,effects:s,apIds:[]})),e.selectedActivityPath=i},prepare:function(e){var t=e.parentId;return{payload:{id:++on,parentId:t}}}},activityPathRemoved:function(e,t){var a=t.payload,i=a.id,n=a.parentId,r=a.routineId;fr(e,[i]),void 0!==n&&(e.activityPaths.entities[n].apIds=e.activityPaths.entities[n].apIds.filter((function(e){return e!==i}))),void 0!==r&&(e.routines.entities[r].apIds=e.routines.entities[r].apIds.filter((function(e){return e!==i}))),e.selectedActivityPath=void 0},damageCreated:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.parentId;e.activityPaths.entities[n].damages.push(i),sn.addOne(e.damages,Object(R.a)({id:i},Sn))},prepare:function(e){var t=e.parentId;return{payload:{id:++un,parentId:t}}}},damageRemoved:function(e,t){var a=t.payload,i=a.id,n=a.parentId;e.activityPaths.entities[n].damages=e.activityPaths.entities[n].damages.filter((function(e){return e!==i})),sn.removeOne(e.damages,i)},effectCreated:{reducer:function(e,t){var a=t.payload,i=a.id,n=a.parentId;e.activityPaths.entities[n].effects.push(i),ln.addOne(e.effects,Object(R.a)(Object(R.a)({},xn),{},{id:i}))},prepare:function(e){var t=e.parentId;return{payload:{id:++pn,parentId:t}}}},effectRemoved:function(e,t){var a=t.payload,i=a.id,n=a.parentId;e.activityPaths.entities[n].effects=e.activityPaths.entities[n].effects.filter((function(e){return e!==i})),ln.removeOne(e.effects,i)},importRoutine:function(e,t){try{e.importRoutine=L;var a=JSON.parse(t.payload);Zi(a)?(e.selectedRoutine=Lr(e,a),e.selectedActivityPath=void 0,e.parentActivity=void 0,e.parentRoutine=void 0,e.importRoutine=k):e.importRoutine=P}catch(i){console.log(i),console.log("Parsing failed"),e.importRoutine=P}}}}),An=yn.actions,Tn=An.setRoutine,Cn=An.setActivityPath,En=An.setNewActivityParent,In=An.routineAdded,Rn=An.routineUpdated,wn=An.routineCreated,Ln=An.routineRemoved,kn=(An.activityPathAdded,An.activityPathUpdated),Pn=An.emptyActivityPathCreated,Wn=An.activityPathCreated,Dn=An.activityPathContinued,Nn=An.activityPathRemoved,Fn=An.damageAdded,zn=An.damageUpdated,Mn=An.damageCreated,Bn=An.damageRemoved,Gn=An.effectAdded,Vn=An.effectUpdated,Un=An.effectCreated,_n=An.effectRemoved,Hn=An.importRoutine,Kn=yn.reducer,Yn=rn.getSelectors((function(e){return e.routines.routines})),Jn=Yn.selectById,Xn=(Yn.selectIds,Yn.selectEntities),$n=Yn.selectAll,qn=(Yn.selectTotal,cn.getSelectors((function(e){return e.routines.activityPaths}))),Qn=qn.selectById,Zn=(qn.selectIds,qn.selectEntities),er=(qn.selectAll,qn.selectTotal,sn.getSelectors((function(e){return e.routines.damages}))),tr=er.selectById,ar=(er.selectIds,er.selectEntities),ir=(er.selectAll,er.selectTotal,ln.getSelectors((function(e){return e.routines.effects}))),nr=ir.selectById,rr=(ir.selectIds,ir.selectEntities),cr=(ir.selectAll,ir.selectTotal,function(e){return e.routines.selectedRoutine}),sr=function(e){return e.routines.selectedActivityPath},lr=function(e){return e.routines.parentActivity},dr=function(e){return void 0===e.routines.selectedActivityPath&&(void 0!==e.routines.parentRoutine||void 0!==e.routines.parentActivity)},or=function(e){if(void 0!==e.routines.selectedRoutine){var t=e.routines.routines.entities[e.routines.selectedRoutine];return Object(R.a)(Object(R.a)({},t),{},{apIds:Ir(e.routines,t.apIds)})}},ur=function(e){return Object.values(e.routines.routines.entities).filter((function(e){return null===e||void 0===e?void 0:e.display})).map((function(e){return(null===e||void 0===e?void 0:e.name)+": "+(null===e||void 0===e?void 0:e.description)}))},pr=function(e){return e.routines.importRoutine},fr=function(e,t){for(var a=0;a<t.length;){var i=e.activityPaths.entities[t[a]];t.push.apply(t,Object(di.a)(i.apIds)),sn.removeMany(e.damages,i.damages),ln.removeMany(e.effects,i.effects),cn.removeOne(e.activityPaths,i.id),a+=1}},mr=function e(t,a,i,n,r){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:F.ALWAYS,l=n.twf&&n.isStrikeSecondaryWeapon[r];n.twf&&"Double Slice"===n.activity&&(l=0!==r);var d=++on,o=[];if(r<n.numStrikes-1)if("Double Slice"===n.activity){var u=e(t,d,void 0,n,r+1,c+1,F.CRIT),p=e(t,d,void 0,n,r+1,c+1,F.SUCC),f=e(t,d,void 0,n,r+1,c,F.FAIL_WORSE);o.push(u,p,f)}else if("Ranger"===n.cClass&&"Precision Edge"===n.classOption){var m=e(t,d,void 0,n,r+1,c+1,F.AT_LEAST_SUCC),j=e(t,d,void 0,n,r+1,c,F.FAIL_WORSE);o.push(m,j)}else o.push(e(t,d,void 0,n,r+1));var g=Ti(n,l),h=[];h="Double Slice"===n.activity?r<n.numStrikes-1?[]:jr(t,n,r,l,c,!0,s):jr(t,n,r,l,c);var b=gr(t,n,r,l),O=Ei(n,l);r+n.numPrevStrikes===1?"Double Slice"!==n.activity&&(O=_[O]):r+n.numPrevStrikes>=2&&(O="Double Slice"===n.activity&&r+n.numPrevStrikes===2?_[O]:_[_[O]]);var v=V.WEAPON;return"Bomb Strike"!==n.classOption&&"Bomb w/ feats"!==n.classOption||(v=V.BOMB),"Perpetual Bomb"!==n.classOption&&"Perpetual Bomb w/ feats"!==n.classOption||(v=V.BOMB),cn.addOne(t.activityPaths,Object(R.a)(Object(R.a)({},bn),{},{id:d,parentId:a,routineId:i,condition:s,name:g,type:M.STRIKE,profTrend:Ci(n.cClass,n.classOption),statTrend:n.attackScore,itemTrend:v,bonusAdjustments:Ii(n,r),MAP:O,damages:h,effects:b,apIds:o})),d},jr=function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:F.FAIL_WORSE,s=i?t.weapon2:t.weapon1,l=[];if(r){var d=t.weapon1;if(c===F.CRIT){var o=++un,u=Y.WEAPON;"Bomb Strike"!==t.classOption&&"Bomb w/ feats"!==t.classOption||(u=Y.BOMB),"Perpetual Bomb"!==t.classOption&&"Perpetual Bomb w/ feats"!==t.classOption||(u=Y.BOMB);var p=Object(R.a)(Object(R.a)({},Sn),{},{damageCondition:K.ALWAYS,multiplier:2,id:o,dieTrend:u,dieAdjustments:Ri(t),diceSize:Ui(t)?d.fatalSize:d.dieSize,fatal:Ui(t),fatalDie:d.fatalSize,damageTrend:Mi(t,a-1),damageAdjustments:Bi(t)});if(sn.addOne(e.damages,p),l.push(o),"Alchemist"!==t.cClass||"Normal"===t.classOption){o=++un;var f=Object(R.a)(Object(R.a)({},Sn),{},{damageCondition:K.ALWAYS,multiplier:2,id:o,dieTrend:d.runes,diceSize:te[6],damageType:X.FIRE});sn.addOne(e.damages,f),l.push(o)}if(wi(t,n)){var m=Li(t,n),j=m.dieTrend,g=m.diceSize,h=m.damageWhen,b=m.damageTrend;o=++un;var O=Object(R.a)(Object(R.a)({},Sn),{},{damageCondition:K.ALWAYS,multiplier:2,id:o,dieTrend:j,diceSize:g,damageType:X.PRECISION,damageWhen:h,damageTrend:b});sn.addOne(e.damages,O),l.push(o)}if(Vi(t)){var v=fn;!Ui(t)&&_i(t)&&(v=qi(t)),o=++un;var S=Object(R.a)(Object(R.a)({},Sn),{},{damageCondition:K.ALWAYS,id:o,dieTrend:Y.DEADLY,diceSize:d.deadlySize,damageAdjustments:v});sn.addOne(e.damages,S),l.push(o)}if(Ui(t)){var x=fn;_i(t)&&(x=qi(t)),o=++un;var y=Object(R.a)(Object(R.a)({},Sn),{},{damageCondition:K.ALWAYS,id:o,dieAdjustments:mn,diceSize:d.fatalSize,damageAdjustments:x});sn.addOne(e.damages,y),l.push(o)}if(!Vi(t)&&!Ui(t)&&_i(t)){var A=qi(t);o=++un;var T=Object(R.a)(Object(R.a)({},Sn),{},{damageCondition:K.ALWAYS,id:o,diceSize:d.fatalSize,damageAdjustments:A});sn.addOne(e.damages,T),l.push(o)}if(Hi(t)){var C=qi(t);o=++un;var E=Object(R.a)(Object(R.a)({},Sn),{},{damageCondition:K.ALWAYS,id:o,dieAdjustments:$i(t),diceSize:te[6],damageAdjustments:C,persistent:!0});sn.addOne(e.damages,E),l.push(o)}}else if(c===F.SUCC){var I=++un,w=Y.WEAPON;"Bomb Strike"!==t.classOption&&"Bomb w/ feats"!==t.classOption||(w=Y.BOMB),"Perpetual Bomb"!==t.classOption&&"Perpetual Bomb w/ feats"!==t.classOption||(w=Y.BOMB);var L=Object(R.a)(Object(R.a)({},Sn),{},{damageCondition:K.ALWAYS,id:I,dieTrend:w,dieAdjustments:Ri(t),diceSize:d.dieSize,fatal:!1,fatalDie:d.fatalSize,damageTrend:Mi(t,a-1),damageAdjustments:Bi(t)});if(sn.addOne(e.damages,L),l.push(I),"Alchemist"!==t.cClass||"Normal"===t.classOption){I=++un;var k=Object(R.a)(Object(R.a)({},Sn),{},{damageCondition:K.ALWAYS,id:I,dieTrend:d.runes,diceSize:te[6],damageType:X.FIRE});sn.addOne(e.damages,k),l.push(I)}if(wi(t,n)){var P=Li(t,n),W=P.dieTrend,D=P.diceSize,N=P.damageWhen,z=P.damageTrend;I=++un;var M=Object(R.a)(Object(R.a)({},Sn),{},{damageCondition:K.FAIL_WORSE,id:I,dieTrend:W,diceSize:D,damageType:X.PRECISION,damageWhen:N,damageTrend:z});sn.addOne(e.damages,M),l.push(I)}}}var B=++un,G=Y.WEAPON;"Bomb Strike"!==t.classOption&&"Bomb w/ feats"!==t.classOption||(G=Y.BOMB),"Perpetual Bomb"!==t.classOption&&"Perpetual Bomb w/ feats"!==t.classOption||(G=Y.BOMB);var V=Object(R.a)(Object(R.a)({},Sn),{},{id:B,dieTrend:G,dieAdjustments:Ri(t),diceSize:s.dieSize,fatal:Ui(t,i),fatalDie:s.fatalSize,damageTrend:Mi(t,a,i),damageAdjustments:Bi(t,i)});if(sn.addOne(e.damages,V),l.push(B),"Alchemist"!==t.cClass||"Normal"===t.classOption){B=++un;var U=Object(R.a)(Object(R.a)({},Sn),{},{id:B,dieTrend:s.runes,diceSize:te[6],damageType:X.FIRE});sn.addOne(e.damages,U),l.push(B)}if((!r||c!==F.CRIT)&&wi(t,n)){var _=Li(t,n),H=_.dieTrend,J=_.diceSize,$=_.damageWhen,q=_.damageTrend;B=++un;var Q=Object(R.a)(Object(R.a)({},Sn),{},{id:B,dieTrend:H,diceSize:J,damageTrend:q,damageType:X.PRECISION,damageWhen:$});sn.addOne(e.damages,Q),l.push(B)}if(ki(t)){B=++un;var Z=Object(R.a)(Object(R.a)({},Sn),{},{id:B},Pi(t));sn.addOne(e.damages,Z),l.push(B)}if(Fi(t)){B=++un;var ee=Object(R.a)(Object(R.a)({},Sn),{},{id:B,damageCondition:K.CRIT},zi(t));sn.addOne(e.damages,ee),l.push(B)}if(Wi(t)){B=++un;var ae=Object(R.a)(Object(R.a)({},Sn),{},{id:B,damageCondition:K.AT_LEAST_FAIL},Di(t));sn.addOne(e.damages,ae),l.push(B)}if(Vi(t,i)){var ie=fn;!Ui(t,i)&&_i(t,i)&&(ie=qi(t,i)),B=++un;var ne=Object(R.a)(Object(R.a)({},Sn),{},{id:B,damageCondition:K.CRIT,dieTrend:Y.DEADLY,diceSize:s.deadlySize,damageAdjustments:ie});sn.addOne(e.damages,ne),l.push(B)}if(Ui(t,i)){var re=fn;_i(t,i)&&(re=qi(t,i)),B=++un;var ce=Object(R.a)(Object(R.a)({},Sn),{},{id:B,damageCondition:K.CRIT,dieAdjustments:mn,diceSize:s.fatalSize,damageAdjustments:re});sn.addOne(e.damages,ce),l.push(B)}if(!Vi(t,i)&&!Ui(t,i)&&_i(t,i)){var se=qi(t,i);B=++un;var le=Object(R.a)(Object(R.a)({},Sn),{},{id:B,damageCondition:K.CRIT,diceSize:s.fatalSize,damageAdjustments:se});sn.addOne(e.damages,le),l.push(B)}if(Hi(t,i)){var de=qi(t,i);B=++un;var oe=Object(R.a)(Object(R.a)({},Sn),{},{id:B,damageCondition:K.CRIT,dieAdjustments:$i(t,i),diceSize:te[6],damageType:X.BLEED,damageAdjustments:de,persistent:!0});sn.addOne(e.damages,oe),l.push(B)}return l},gr=function(e,t,a){var i,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=n?t.weapon2:t.weapon1,c=[];if(Ki(t,n)){var s=q.FLATFOOT;Yi(t,n)&&(s=q.FLATFOOT),Ji(t,n)&&(s=q.PRONE),Xi(t,n)&&(s=Q.CLUMSY),i=++pn;var l=Object(R.a)(Object(R.a)({},xn),{},{id:i,effectCondition:F.CRIT,effectType:s,effectValue:1,startLevel:r.critSpecLevel});c.push(i),ln.addOne(e.effects,l)}if(Gi(t,n)){i=++pn;var d=Object(R.a)(Object(R.a)({},xn),{},{id:i,effectCondition:F.FAIL_WORSE,effectType:Q.BONUSC1});c.push(i),ln.addOne(e.effects,d)}return c},hr=function(e,t,a,i){var n=++on,r=br(e,i),c=Or(e,i);return cn.addOne(e.activityPaths,Object(R.a)(Object(R.a)({},bn),{},{id:n,parentId:t,routineId:a,name:i.skillActivity,type:M.SKILL,profTrend:i.proficiency,statTrend:i.abilityScore,itemTrend:i.itemBonus,targetType:Qi(i),damages:r,effects:c})),n},br=function(e,t){var a=[];if(function(e){return"Trip"===e.skillActivity}(t)){var i=++un,n=Object(R.a)(Object(R.a)({},Sn),{},{id:i,damageCondition:K.CRIT,dieAdjustments:mn,diceSize:te[6]});a.push(i),sn.addOne(e.damages,n)}return a},Or=function(e,t){var a,i=[],n=Object(xe.a)(function(e){switch(e.skillActivity){case"Trip":return[{effectCondition:F.AT_LEAST_SUCC,effectType:Z.PRONE,effectValue:1}];case"Grapple":return[{effectCondition:F.SUCC,effectType:Z.GRAPPLED,effectValue:1},{effectCondition:F.CRIT,effectType:Z.RESTRAINED,effectValue:1}];case"Demoralize":return[{effectCondition:F.SUCC,effectType:Z.FRIGHTENED,effectValue:1},{effectCondition:F.CRIT,effectType:Z.FRIGHTENED,effectValue:2}];default:return[]}}(t));try{for(n.s();!(a=n.n()).done;){var r=a.value,c=r.effectCondition,s=r.effectType,l=r.effectValue,d=++pn,o=Object(R.a)(Object(R.a)({},xn),{},{id:d,effectCondition:c,effectType:s,effectValue:l});i.push(d),ln.addOne(e.effects,o)}}catch(u){n.e(u)}finally{n.f()}return i},vr=function(e,t,a,i){var n=++on,r=Sr(e,i);return cn.addOne(e.activityPaths,Object(R.a)(Object(R.a)(Object(R.a)({},bn),{},{id:n,parentId:t,routineId:a,name:i.cantrip,profTrend:i.proficiency,statTrend:i.abilityScore},function(e){switch(e.cantrip){case"Electric Arc":return{type:"Save",targetType:H.REF};case"Daze":return{type:"Save",targetType:H.WILL};default:return{targetType:H.AC}}}(i)),{},{damages:r})),n},Sr=function(e,t){var a=[],i=++un,n=Object(R.a)(Object(R.a)({},Sn),{},{id:i,dieTrend:Y.SPELLLEVEL1,damageTrend:[t.abilityScore]},function(e){switch(e.cantrip){case"Electric Arc":return{damageCondition:K.BASIC,diceSize:te[4]};case"Daze":return{damageCondition:K.BASIC,dieTrend:Y.NONE,dieAdjustments:Ae([5,9,13,17])};case"Telekinetic Projectile":return{};default:return{diceSize:te[4]}}}(t));if(a.push(i),sn.addOne(e.damages,n),"Produce Flame"===t.cantrip||"Gouging Claw"===t.cantrip){var r=++un,c=Object(R.a)(Object(R.a)({},Sn),{},{id:r,damageCondition:K.CRIT,dieTrend:Y.SPELLLEVEL1,persistent:!0});a.push(r),sn.addOne(e.damages,c)}return a},xr=function(e,t,a,i){var n=++on,r=yr(e,i),c=Ar(e,i);return cn.addOne(e.activityPaths,Object(R.a)(Object(R.a)(Object(R.a)({},bn),{},{id:n,parentId:t,routineId:a,name:i.spell,type:M.SAVE,profTrend:i.proficiency,statTrend:i.abilityScore},function(e){switch(e.spell){case"Fireball":default:return{targetType:H.REF};case"Fear":return{targetType:H.WILL}}}(i)),{},{damages:r,effects:c})),n},yr=function(e,t){var a=[];if("Fireball"===t.spell){var i=++un,n=Object(R.a)(Object(R.a)({},Sn),{},{id:i,damageCondition:K.BASIC,dieTrend:Y.SPELLLEVEL2});a.push(i),sn.addOne(e.damages,n)}return a},Ar=function(e,t){var a=[];if("Fear"===t.spell){var i=++pn,n=Object(R.a)(Object(R.a)({},xn),{},{id:i,effectCondition:F.CRIF,effectType:Z.FRIGHTENED,effectValue:3});a.push(i),ln.addOne(e.effects,n),i=++pn;var r=Object(R.a)(Object(R.a)({},xn),{},{id:i,effectCondition:F.FAIL,effectType:Z.FRIGHTENED,effectValue:2});a.push(i),ln.addOne(e.effects,r),i=++pn;var c=Object(R.a)(Object(R.a)({},xn),{},{id:i,effectCondition:F.SUCC,effectType:Z.FRIGHTENED,effectValue:1});a.push(i),ln.addOne(e.effects,c)}else if("Heroism"===t.spell){var s=++pn,l=Object(R.a)(Object(R.a)({},xn),{},{id:s,effectCondition:F.ALWAYS,effectType:Z.BONUSSA,effectValue:1,startLevel:5,endLevel:10});a.push(s),ln.addOne(e.effects,l),s=++pn;var d=Object(R.a)(Object(R.a)({},xn),{},{id:s,effectCondition:F.ALWAYS,effectType:Z.BONUSSA,effectValue:1,startLevel:11,endLevel:16});a.push(s),ln.addOne(e.effects,d),s=++pn;var o=Object(R.a)(Object(R.a)({},xn),{},{id:s,effectCondition:F.ALWAYS,effectType:Z.BONUSSA,effectValue:1,startLevel:17,endLevel:20});a.push(s),ln.addOne(e.effects,o)}return a},Tr=function e(t,a,i,n){var r,c=[],s=Object(xe.a)(a);try{for(s.s();!(r=s.n()).done;){var l=r.value,d=++on,o=t.activityPaths.entities[l],u=e(t,o.apIds,d),p=Cr(t,o.damages),f=Er(t,o.effects);cn.addOne(t.activityPaths,Object(R.a)(Object(R.a)({},o),{},{id:d,parentId:i,routineId:n,damages:p,effects:f,apIds:u})),c.push(d)}}catch(m){s.e(m)}finally{s.f()}return c},Cr=function(e,t){var a,i=[],n=Object(xe.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,c=e.damages.entities[r],s=++un;sn.addOne(e.damages,Object(R.a)(Object(R.a)({},c),{},{id:s})),i.push(s)}}catch(l){n.e(l)}finally{n.f()}return i},Er=function(e,t){var a,i=[],n=Object(xe.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,c=e.effects.entities[r],s=++pn;ln.addOne(e.effects,Object(R.a)(Object(R.a)({},c),{},{id:s})),i.push(s)}}catch(l){n.e(l)}finally{n.f()}return i},Ir=function e(t,a){var i,n=[],r=Object(xe.a)(a);try{for(r.s();!(i=r.n()).done;){var c=i.value,s=t.activityPaths.entities[c],l=e(t,s.apIds),d=Rr(t,s.damages),o=wr(t,s.effects);n.push(Object(R.a)(Object(R.a)({},s),{},{apIds:l,damages:d,effects:o}))}}catch(u){r.e(u)}finally{r.f()}return n},Rr=function(e,t){var a,i=[],n=Object(xe.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,c=e.damages.entities[r];i.push(Object(R.a)({},c))}}catch(s){n.e(s)}finally{n.f()}return i},wr=function(e,t){var a,i=[],n=Object(xe.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,c=e.effects.entities[r];i.push(Object(R.a)({},c))}}catch(s){n.e(s)}finally{n.f()}return i},Lr=function(e,t){var a=++dn,i=kr(e,t.apIds,void 0,a);return rn.addOne(e.routines,Object(R.a)(Object(R.a)({},t),{},{id:a,apIds:i})),a},kr=function e(t,a,i,n){var r,c=[],s=Object(xe.a)(a);try{for(s.s();!(r=s.n()).done;){var l=r.value,d=++on,o=e(t,l.apIds,d),u=Pr(t,l.damages),p=Wr(t,l.effects);void 0===l.name&&(l.name=""),cn.addOne(t.activityPaths,Object(R.a)(Object(R.a)({},l),{},{id:d,parentId:i,routineId:n,damages:u,effects:p,apIds:o})),c.push(d)}}catch(f){s.e(f)}finally{s.f()}return c},Pr=function(e,t){var a,i=[],n=Object(xe.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,c=++un;sn.addOne(e.damages,Object(R.a)(Object(R.a)(Object(R.a)({},Sn),r),{},{id:c})),i.push(c)}}catch(s){n.e(s)}finally{n.f()}return i},Wr=function(e,t){var a,i=[],n=Object(xe.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,c=++pn;ln.addOne(e.effects,Object(R.a)(Object(R.a)(Object(R.a)({},xn),r),{},{id:c})),i.push(c)}}catch(s){n.e(s)}finally{n.f()}return i},Dr=a(89),Nr=a(90),Fr=function(e,t){if(0===e.length||0===t.length)throw new Error("Vectors can not be empty!");for(var a=e,i=t,n=0,r=[],c=0;c<a.length;c++){for(var s=0;s<i.length;s++)n+s!==r.length?r[n+s]=r[n+s]+a[c]*i[s]:r.push(a[c]*i[s]);n++}return r},zr=function(e,t,a){if(0===a)return{staticDamage:0,damageDist:[1]};if(1===a)return{staticDamage:e,damageDist:Object(di.a)(t)};var i,n=[0],r=0,c=Math.floor(e*a),s=0,l=c,d=Object(xe.a)(t);try{for(d.s();!(i=d.n()).done;){var o=i.value,u=Math.floor((e+s)*a);if(u===l)n[r]+=o;else{if(u>l+1)for(var p=0;p<u-(l+1);p++)n[++r]=0;n[++r]=o}l=u,s++}}catch(f){d.e(f)}finally{d.f()}return{staticDamage:c,damageDist:n}},Mr=function(e,t,a){for(;e<a;)t.length>=2&&(t[1]+=t[0],t.shift()),e++;return{staticDamage:e,damageDist:t}};var Br=function(e,t,a,i,n,r,c){var s;s=i?e.persistent:e.normal;var l=zr(n,r,c);if(n=l.staticDamage,r=l.damageDist,t in s)if(i){for(var d=s[t].staticDamage,o=0;o<s[t].damageDist.length;o++)d+=o*s[t].damageDist[o];for(var u=n,p=0;p<r.length;p++)u+=p*r[p];u>d&&(s[t]={material:a,staticDamage:n,damageDist:r})}else s[t].staticDamage+=n,s[t].damageDist=Fr(s[t].damageDist,r),a!==$.NONE&&(s[t].material=a);else s[t]={material:a,staticDamage:n,damageDist:r}};function Gr(e,t){var a=[];switch(e){case F.ALWAYS:a=[0,1,2,3];break;case F.AT_LEAST_FAIL:a=[0,1,2];break;case F.AT_LEAST_SUCC:a=[0,1];break;case F.CRIF:a=[3];break;case F.CRIT:a=[0];break;case F.FAIL:a=[2];break;case F.FAIL_WORSE:a=[2,3];break;case F.SUCC:a=[1];break;case F.SUCC_WORSE:a=[1,2,3]}return a.includes(t)}var Vr=function(){function e(t,a,i,n,r,c){Object(Dr.a)(this,e),this.activityPaths=void 0,this.target=void 0,this.damages=void 0,this.effects=void 0,this.weaknesses=void 0,this.selectedRoutine=void 0,this.activityPaths=t,this.target=a[0],this.damages=i,this.effects=n,this.weaknesses=r,this.selectedRoutine=c}return Object(Nr.a)(e,[{key:"canEvaluate",value:function(e,t){var a=this.target.levelDiff;return!(e<t.startLevel||e>t.endLevel)&&!(e+a<-1||e+a>24)}},{key:"canEvaluateSingleLevel",value:function(e){var t=this.target.routineLevel;return!(t<e.startLevel||t>e.endLevel)}},{key:"evalRoutine",value:function(e,t,a,i){for(var n={persistentDamages:{}},r=0,c=Object.values(q);r<c.length;r++){n[c[r]]=!1}for(var s=0,l=Object.values(Q);s<l.length;s++){n[l[s]]=0}n.Flatfooted=this.target.flatfooted;for(var d=[],o=[],u=0,p=[1],f=0;f<e.apIds.length;f++){var m=this.activityPaths[e.apIds[f]],j=this.evalPath(m,n,t,a,i);p=Fr(p,j)}for(var g=1,h=0;h<p.length;h++)d.push(h),o.push(g),g-=p[h],u+=p[h]*h;return{expD:u,dataArray:d,routineDDist:p,cumulative:o}}},{key:"evalPath",value:function(e,t,a,i,n){for(var r=this,c=this.target,s=e.damages.map((function(e){return r.damages[e]})),l=e.effects.map((function(e){return r.effects[e]})),d=c.weaknesses.map((function(e){return r.weaknesses[e]})),o=function(e,t,a,i,n,r,c,s,l){var d,o,u=0,p=10;if(void 0===l)switch(l=a.routineLevel,o=a.targetLevel,e.targetType){case H.AC:d=a.overrideAC;break;case H.FORT:d=a.overrideFort;break;case H.REF:d=a.overrideRef;break;case H.WILL:d=a.overrideWill;break;case H.PER:d=a.overridePer;break;default:d=a.overrideAC}else{switch(o=l+a.levelDiff,e.targetType){case H.AC:d=ia[a.ACTrend];break;case H.FORT:d=na[a.FortTrend];break;case H.REF:d=na[a.RefTrend];break;case H.WILL:d=na[a.WillTrend];break;case H.PER:d=na[a.PerTrend];break;default:d=ia[a.ACTrend]}d=d[o]}var f=i.Frightened;switch(e.targetType!==H.AC&&e.targetType!==H.REF||(f=Math.max(f,i.Clumsy)),e.type){case M.STRIKE:case M.SPELLATTACK:case M.SKILL:u=Ut[e.profTrend][l],u+=_t[e.statTrend][l],u+=Ht[e.itemTrend][l],u+=e.bonusAdjustments[l],u+=Kt[e.MAP],u+=i["Cicumstance Bonus to next attack"]+i["Status Bonus to all attacks"],i["Cicumstance Bonus to next attack"]=0,p=d+r-f,e.targetType===H.AC?i.Flatfooted&&(p-=2):e.targetType===H.selfDC?p=ra[l]:e.targetType===H.targetDC?p=ra[o]:p+=10;break;case M.SAVE:u=d+r-f,p=10+Ut[e.profTrend][l],p+=_t[e.statTrend][l],p+=Ht[e.itemTrend][l],p+=e.bonusAdjustments[l],e.targetType===H.AC?u-=10:e.targetType===H.selfDC?u=ra[l]-10:e.targetType===H.targetDC&&(u=ra[o]-10);break;default:console.log("Activity type ".concat(e.type," not implemented"))}var m=function(e,t){var a=e-t;return a<-20?0:-20===a?5:a<-9?arguments.length>2&&void 0!==arguments[2]&&arguments[2]?10:5:a<8?5*(11+a):95}(u,p),j=function(e,t){var a=e-t;return a<-29?0:a<-20?5:-20===a?0:a<-9?5*(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?19:20+a):a<-1?50:a<9?5*(8-a):5}(u,p),g=function(e,t){var a=e-t;return a<-29?5:a<-20?5*(29+a):a<-10?45:a<-1?5*(-2-a):a<9?5:0}(u,p),h=function(e,t){var a=e-t;return a<-29?95:a<-10?5*(-10-a):a<-1?5:0}(u,p);if(e.rollType===z.ADVANTAGE){var b=100-m,O=b-j,v=O-g;g=100-v*v/100-(j=100-O*O/100-(m=100-b*b/100))-m,h=h*h/100}else if(e.rollType===z.DISADVANTAGE){var S=100-h,x=S-g,y=x-j;j=100-y*y/100-(g=100-x*x/100-(h=100-S*S/100))-h,m=m*m/100}var A=[m/100,j/100,g/100,h/100],T={normal:{},persistent:Object(R.a)({},i.persistentDamages)},C={normal:{},persistent:Object(R.a)({},i.persistentDamages)},E={normal:{},persistent:Object(R.a)({},i.persistentDamages)},I={normal:{},persistent:Object(R.a)({},i.persistentDamages)},w=[T,C,E,I],L=[{normal:{staticDamage:0,damageDist:[1]},persistent:T.persistent},{normal:{staticDamage:0,damageDist:[1]},persistent:C.persistent},{normal:{staticDamage:0,damageDist:[1]},persistent:E.persistent},{normal:{staticDamage:0,damageDist:[1]},persistent:I.persistent}];t.forEach((function(e){var t,a=e.damageCondition,n=e.diceSize,r=e.fatal,c=e.fatalDie,s=e.damageTrend,d=e.damageType,o=e.material,u=e.persistent,p=e.multiplier,f=e.damageWhen,m=!1,j=Object(xe.a)(f);try{for(j.s();!(t=j.n()).done;){var g=t.value;if(g===ee.Always){m=!0;break}var h=i[g];if(h&&h>0){m=!0;break}}}catch(P){j.e(P)}finally{j.f()}if(m){var b=Yt[e.dieTrend][l];(b+=e.dieAdjustments[l])<0&&(b=0);for(var O=0,v=0;v<s.length;v++)O+=Jt[s[v]][l];O+=e.damageAdjustments[l];for(var S=[1],x=[1],y=[],A=0;A<n;A++)y.push(1/n);for(var R=0;R<b;R++)S=Fr(S,y);if(r){for(var w=[],L=0;L<c;L++)w.push(1/c);for(var k=0;k<b;k++)x=Fr(x,w)}switch(O+=b,a){case K.STRIKE:Br(C,d,o,u,O,S,1*p),Br(T,d,o,u,O,r?x:S,2*p);break;case K.BASIC:Br(C,d,o,u,O,S,.5*p),Br(E,d,o,u,O,S,1*p),Br(I,d,o,u,O,S,2*p);break;case K.CRIF:Br(I,d,o,u,O,S,1*p);break;case K.FAIL:Br(E,d,o,u,O,S,1*p);break;case K.SUCC:Br(C,d,o,u,O,S,1*p);break;case K.CRIT:Br(T,d,o,u,O,S,1*p);break;case K.AT_LEAST_SUCC:Br(C,d,o,u,O,S,1*p),Br(T,d,o,u,O,S,1*p);break;case K.AT_LEAST_FAIL:Br(E,d,o,u,O,S,1*p),Br(C,d,o,u,O,S,1*p),Br(T,d,o,u,O,S,1*p);break;case K.FAIL_WORSE:Br(I,d,o,u,O,S,1*p),Br(E,d,o,u,O,S,1*p);break;case K.SUCC_WORSE:Br(I,d,o,u,O,S,1*p),Br(E,d,o,u,O,S,1*p),Br(C,d,o,u,O,S,1*p);break;case K.ALWAYS:Br(I,d,o,u,O,S,1*p),Br(E,d,o,u,O,S,1*p),Br(C,d,o,u,O,S,1*p),Br(T,d,o,u,O,S,1*p);break;default:console.log("Damage condition ".concat(a," not implemented yet."))}}}));for(var k=0;k<4;k++){var P=w[k],W=L[k],D=0,N=[1],F=void 0;for(F in P.normal){var B=P.normal[F],G=B.material,V=B.staticDamage,U=B.damageDist;if(!(1===U.length&&V<=0)){var _=Mr(V,U,1);V=_.staticDamage,U=_.damageDist;var Y,J=0,X=0,$=Object(xe.a)(n);try{for($.s();!(Y=$.n()).done;){var q=Y.value;q.type!==F&&q.type!==G||(q.value+c<0?J=Math.min(J,q.value+c):q.value+c>0&&(X=Math.max(X,q.value+c)))}}catch(he){$.e(he)}finally{$.f()}var Q=Mr(V-=X+J,U,0);V=Q.staticDamage,U=Q.damageDist,D+=V,N=Fr(N,U)}}if(W.normal.staticDamage=D,W.normal.damageDist=N,s){var Z=0,te=[1],ae=void 0;for(ae in P.persistent){var ie=P.persistent[ae],ne=ie.material,re=ie.staticDamage,ce=ie.damageDist;if(!(1===ce.length&&re<=0)){var se=Mr(re,ce,1);re=se.staticDamage,ce=se.damageDist;var le,de=0,oe=0,ue=Object(xe.a)(n);try{for(ue.s();!(le=ue.n()).done;){var pe=le.value;pe.type!==ae&&pe.type!==ne||(pe.value+c<0?de=Math.min(de,pe.value+c):pe.value+c>0&&(oe=Math.max(oe,pe.value+c)))}}catch(he){ue.e(he)}finally{ue.f()}var fe=Mr(re-=oe+de,ce,0);re=fe.staticDamage,ce=fe.damageDist,Z+=re,te=Fr(te,ce)}}var me=zr(Z,te,a.persistentMultiplier),je=me.staticDamage,ge=me.damageDist;W.normal.staticDamage+=je,W.normal.damageDist=Fr(W.normal.damageDist,ge)}}return{damageTrees:L,chances:A}}(e,s,c,t,d,a,i,0===e.apIds.length,n),u=o.damageTrees,p=o.chances,f=[t,t,t,t],m=function(e){l.forEach((function(t){var a=t.effectCondition,i=t.effectType,c=t.effectValue,s=t.startLevel,l=t.endLevel,d=t.damageWhen;if(void 0!==n){if(n<s||n>l)return}else if(r.target.routineLevel<s||r.target.routineLevel>l)return;var o,u=!1,p=Object(xe.a)(d);try{for(p.s();!(o=p.n()).done;){var m=o.value;if(m===ee.Always){u=!0;break}var j=f[e][m];if(j&&j>0){u=!0;break}}}catch(g){p.e(g)}finally{p.f()}if(u&&Gr(a,e))switch(i){case Z.RESTRAINED:!0!==f[e].Restrained&&(f[e]=Object(R.a)(Object(R.a)({},f[e]),{},{Flatfooted:!0,Grappled:!0,Restrained:!0}));break;case Z.GRAPPLED:!0!==f[e].Grappled&&(f[e]=Object(R.a)(Object(R.a)({},f[e]),{},{Flatfooted:!0,Grappled:!0}));break;case Z.PRONE:!0!==f[e].Prone&&(f[e]=Object(R.a)(Object(R.a)({},f[e]),{},{Flatfooted:!0,Prone:!0}));break;case Z.FLATFOOT:!0!==f[e].Flatfooted&&(f[e]=Object(R.a)(Object(R.a)({},f[e]),{},{Flatfooted:!0}));break;case Z.FRIGHTENED:c&&f[e].Frightened<c&&(f[e]=Object(R.a)(Object(R.a)({},f[e]),{},{Frightened:c}));break;case Z.CLUMSY:c&&f[e].Clumsy<c&&(f[e]=Object(R.a)(Object(R.a)({},f[e]),{},{Clumsy:c}));break;case Z.BONUSC1:c&&f[e]["Cicumstance Bonus to next attack"]<c&&(f[e]=Object(R.a)(Object(R.a)({},f[e]),{},{"Cicumstance Bonus to next attack":c}));break;case Z.BONUSSA:c&&f[e]["Status Bonus to all attacks"]<c&&(f[e]=Object(R.a)(Object(R.a)({},f[e]),{},{"Status Bonus to all attacks":c}));break;default:console.log("Effect type ".concat(i," not implemented"))}})),u[e].persistent&&JSON.stringify(u[e].persistent)!==JSON.stringify(f[e].persistentDamages)&&(f[e]=Object(R.a)(Object(R.a)({},f[e]),{},{persistentDamages:u[e].persistent}))},j=0;j<4;j++)m(j);e.apIds.forEach((function(e){for(var t=r.activityPaths[e],c=new Map,s=0;s<4;s++)if(Gr(t.condition,s)){if(c.has(f[s]));else{var l=r.evalPath(t,f[s],a,i,n);c.set(f[s],l)}u[s].normal.damageDist=Fr(u[s].normal.damageDist,c.get(f[s]))}}));var g=function(){for(var e=0,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];for(var n=0,r=a;n<r.length;n++){var c=r[n];e=Math.max(e,c.distribution.staticDamage+c.distribution.damageDist.length)}for(var s=[],l=0;l<e;l++){s.push(0);var d,o=Object(xe.a)(a);try{for(o.s();!(d=o.n()).done;){var u=d.value;if(u.distribution.staticDamage<=l){var p=l-u.distribution.staticDamage;p<u.distribution.damageDist.length&&(s[l]+=u.distribution.damageDist[p]*u.chance)}}}catch(f){o.e(f)}finally{o.f()}}return s}({distribution:u[0].normal,chance:p[0]},{distribution:u[1].normal,chance:p[1]},{distribution:u[2].normal,chance:p[2]},{distribution:u[3].normal,chance:p[3]});return g}}]),e}(),Ur=a(95),_r=a.n(Ur),Hr=a(125),Kr=a.n(Hr),Yr=Object(de.c)({name:"sharing",initialState:{graphUrl:"",singleLevelGraphUrl:"",imgLink:""},reducers:{graphSaved:function(e,t){e.graphUrl=t.payload},singleLevelGraphSaved:function(e,t){e.singleLevelGraphUrl=t.payload},saveImgLink:function(e,t){e.imgLink=t.payload}}}),Jr=Yr.actions,Xr=Jr.graphSaved,$r=Jr.singleLevelGraphSaved,qr=Jr.saveImgLink,Qr=Yr.reducer,Zr=Kr()(_r.a),ec=function(e,t){var a=[],i={};if(t.target.percentSelectedRoutine&&void 0!==t.selectedRoutine)for(var n=e[t.selectedRoutine],r=1;r<=20;r++)if(t.canEvaluate(r,n)){var c=t.evalRoutine(n,0,0,r).expD;i[r]=c}for(var s in e){var l=e[s];if(l.display){for(var d=[],o=[],u=1;u<=20;u++)if(t.canEvaluate(u,l)){var p=t.evalRoutine(l,0,0,u).expD;t.target.percentSelectedRoutine?u in i&&(d.push(u),o.push(p/i[u])):(d.push(u),o.push(p))}a.push({type:"scatter",name:l.name,x:d,y:o,yaxis:"y"})}}return{datasets:a}},tc=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[],n=[];for(var r in e){var c=e[r];if(c.display&&t.canEvaluateSingleLevel(c)){for(var s=[],l=[],d=-5;d<=5;d++){s.push(d);var o=t.evalRoutine(c,a?d:0,a?0:d),u=o.expD;0===d&&n.push(Object(ha.jsxs)("div",{children:[c.name,": ",u.toFixed(2)]},c.id)),l.push(u)}i.push({type:"scatter",name:c.name,x:s,y:l,yaxis:"y"})}}return{expectedDamages:n,datasets:i}},ac=function(e,t){var a=[],i=[];for(var n in e){var r=e[n];if(r.display&&t.canEvaluateSingleLevel(r)){var c=t.evalRoutine(r,0,0),s=c.expD,l=c.dataArray,d=c.routineDDist,o=c.cumulative;i.push(Object(ha.jsxs)("div",{children:[r.name,": ",s.toFixed(2)]},r.id)),a.push({type:"scatter",name:r.name,x:l,y:o,yaxis:"y"}),a.push({type:"bar",name:s.toFixed(2),x:l,y:d})}}return{expectedDamages:i,datasets:a}},ic=function(e){var t=le(Xn),a=le(Zn),i=le(ma),n=le(ar),r=le(rr),c=le(ve),s=le(cr),l=se(),d=function(e,t){_r.a.toImage(t,{format:"png",height:1e3,width:1e3}).then((function(e){l(Xr(e))}))},o=function(e,t){_r.a.toImage(t,{format:"png",height:1e3,width:1e3}).then((function(e){l($r(e))}))},u=new Vr(a,i,n,r,c,s),p=i[0],f="@"+p.routineLevel,m=p.name;f+=" Vs",p.flatfooted&&(f+=" flatfooted"),f+=" AC: "+p.overrideAC,f+=" F: "+p.overrideFort,f+=" R: "+p.overrideRef,f+=" W: "+p.overrideWill,f+=" P: "+p.overridePer;var j,g=[];switch(e){case w.DISTRIBUTION:var h=ac(t,u);j=h.expectedDamages,g=h.datasets;break;case w.PMDEFENSE:var b=tc(t,u,!0);j=b.expectedDamages,g=b.datasets;break;default:var O=tc(t,u,!1);j=O.expectedDamages,g=O.datasets}var v,S,x=ec(t,u).datasets;return e===w.DISTRIBUTION?(v="damage",S="chance"):e===w.PMDEFENSE?(v="+/- AC/Save Bonus",S="Expected Damage"):e===w.PMRES&&(v="+/- Resistance/Weakness",S="Expected Damage"),{expectedDamages:j,damageChart:Object(ha.jsx)(Zr,{className:"plot",data:g,layout:{title:f,autosize:!0,xaxis:{title:v},yaxis:{title:S},legend:{x:0,y:-.2,xanchor:"left",yanchor:"top"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"},onInitialized:o,onUpdate:o}),byLevelDamageChart:Object(ha.jsx)(Zr,{className:"plot",data:x,layout:{title:m,autosize:!0,xaxis:{title:"Level"},yaxis:{title:"Expected Damage"},legend:{x:0,y:-.2,xanchor:"left",yanchor:"top"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"},onInitialized:d,onUpdate:d})}},nc=a(215),rc=a(224),cc=function(){var e=le((function(e){return fa(e,0)})),t=e.routineLevel,a=e.targetLevel,i=e.overrideAC,n=e.overrideFort,r=e.overrideRef,c=e.overrideWill,s=e.overridePer,l=e.weaknesses,d=Object(u.useState)(i.toString()),o=Object(I.a)(d,2),f=o[0],m=o[1],j=Object(u.useState)(n.toString()),g=Object(I.a)(j,2),h=g[0],O=g[1],v=Object(u.useState)(r.toString()),S=Object(I.a)(v,2),y=S[0],A=S[1],T=Object(u.useState)(c.toString()),C=Object(I.a)(T,2),E=C[0],R=C[1],w=Object(u.useState)(s.toString()),L=Object(I.a)(w,2),k=L[0],P=L[1];Object(u.useEffect)((function(){m(i.toString()),O(n.toString()),A(r.toString()),R(c.toString()),P(s.toString())}),[i,n,r,c,s]);var W=se();return Object(ha.jsxs)(p.a.Fragment,{children:[Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},sx:{my:1,p:1},alignItems:"center",children:[Object(ha.jsxs)(b.a,{item:!0,xs:6,container:!0,justifyContent:"center",children:[Object(ha.jsxs)(x.a,{id:"routine-level",children:["Level: ",t]}),Object(ha.jsx)(nc.a,{sx:{px:2,width:1},children:Object(ha.jsx)(ne.a,{"aria-labelledby":"routine-level",valueLabelDisplay:"auto",value:t,step:1,min:1,max:20,marks:!0,onChange:function(e,i){var n=Number(i)+(a-t);n=Math.min(24,Math.max(-1,n)),W(oa({id:0,changes:{routineLevel:i,targetLevel:n}}))}})})]}),Object(ha.jsxs)(b.a,{item:!0,xs:6,container:!0,justifyContent:"center",children:[Object(ha.jsxs)(x.a,{id:"target-level",children:["Target Level: ",a]}),Object(ha.jsx)(nc.a,{sx:{px:2,width:1},children:Object(ha.jsx)(ne.a,{"aria-labelledby":"target-level",valueLabelDisplay:"auto",value:a,step:1,min:-1,max:24,marks:!0,onChange:function(e,t){W(oa({id:0,changes:{targetLevel:t}}))}})})]})]}),Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},justifyContent:"center",children:[Object(ha.jsx)(b.a,{item:!0,xs:4,sm:2,children:Object(ha.jsx)(re.a,{fullWidth:!0,label:"AC",value:f,onChange:function(e){m(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(f);m(e.toString()),W(oa({id:0,changes:{overrideAC:e}}))},inputProps:{step:1,min:0,max:100,type:"number"}})}),Object(ha.jsx)(b.a,{item:!0,xs:4,sm:2,children:Object(ha.jsx)(re.a,{fullWidth:!0,label:"Fort",value:h,onChange:function(e){O(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(h);O(e.toString()),W(oa({id:0,changes:{overrideFort:e}}))},inputProps:{step:1,min:0,max:100,type:"number"}})}),Object(ha.jsx)(b.a,{item:!0,xs:4,sm:2,children:Object(ha.jsx)(re.a,{fullWidth:!0,label:"Ref",value:y,onChange:function(e){A(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(y);A(e.toString()),W(oa({id:0,changes:{overrideRef:e}}))},inputProps:{step:1,min:0,max:100,type:"number"}})}),Object(ha.jsx)(b.a,{item:!0,xs:4,sm:2,children:Object(ha.jsx)(re.a,{fullWidth:!0,label:"Will",value:E,onChange:function(e){R(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(E);R(e.toString()),W(oa({id:0,changes:{overrideWill:e}}))},inputProps:{step:1,min:0,max:100,type:"number"}})}),Object(ha.jsx)(b.a,{item:!0,xs:4,sm:2,children:Object(ha.jsx)(re.a,{fullWidth:!0,label:"Perception",value:k,onChange:function(e){P(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(k);P(e.toString()),W(oa({id:0,changes:{overridePer:e}}))},inputProps:{step:1,min:0,max:100,type:"number"}})})]}),Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},sx:{my:1,p:1},children:[Object(ha.jsx)(b.a,{item:!0,container:!0,alignItems:"center",xs:"auto",children:Object(ha.jsx)(x.a,{children:"Resistance/Weakness: "})}),l.map((function(e){return Object(ha.jsx)(sc,{parentId:0,id:e},e)})),Object(ha.jsx)(lc,{parentId:0})]})]})},sc=function(e){var t=e.id,a=e.parentId,i=le((function(e){return Oe(e,t)})),n=i.type,r=i.value,c=Object(u.useState)(r.toString()),s=Object(I.a)(c,2),l=s[0],d=s[1],o=se();return Object(ha.jsxs)(b.a,{item:!0,children:[Object(ha.jsx)(dc,{value:n,onChange:function(e){var i;(null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value)===X.NONE?o(me({id:t,parentId:a})):o(ge({id:t,changes:{type:e.target.value}}))}}),Object(ha.jsx)(rc.a,{title:"Positive numbers are resistances. Negative numbers are weaknesses.",children:Object(ha.jsx)(re.a,{size:"small",label:"Value",value:l,sx:{width:"9ch"},onChange:function(e){d(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(l);Number.isNaN(e)&&(e=0),d(e.toString()),o(ge({id:t,changes:{value:e}}))},inputProps:{step:1,min:-100,max:100,type:"number"}})})]})},lc=function(e){var t=e.parentId,a=se(),i=Object(u.useState)("0"),n=Object(I.a)(i,2),r=n[0],c=n[1];return Object(ha.jsxs)(b.a,{item:!0,children:[Object(ha.jsx)(dc,{value:X.NONE,onChange:function(e){if(e.target.value!==X.NONE){var i=Number(r);Number.isNaN(i)&&(i=0),a(je({type:e.target.value,value:i,parentId:t}))}}}),Object(ha.jsx)(rc.a,{title:"Positive numbers are resistances. Negative numbers are weaknesses.",children:Object(ha.jsx)(re.a,{size:"small",label:"Value",value:r,sx:{width:"9ch"},onChange:function(e){c(e.target.value)},inputProps:{step:1,min:-100,max:100,type:"number"}})})]})},dc=function(e){var t=e.value,a=e.onChange;return Object(ha.jsxs)(ae.a,{size:"small",children:[Object(ha.jsx)(ie.a,{children:"Type"}),Object(ha.jsx)(S.a,{label:"Type",value:t,onChange:function(e){return a(e)},children:ei})]})},oc=function(){var e=le((function(e){return fa(e,0)})),t=e.persistentMultiplier,a=e.flatfooted,i=e.percentSelectedRoutine,n=Object(u.useState)(t.toString()),r=Object(I.a)(n,2),c=r[0],s=r[1],l=se();return Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(ha.jsx)(b.a,{item:!0,xs:6,sm:3,md:6,lg:3,children:Object(ha.jsx)(T.a,{control:Object(ha.jsx)(C.a,{checked:a,onChange:function(e){return l(oa({id:0,changes:{flatfooted:e.target.checked}}))}}),label:"Flatfooted"})}),Object(ha.jsx)(b.a,{item:!0,xs:6,sm:3,md:6,lg:3,children:Object(ha.jsx)(re.a,{fullWidth:!0,label:"Persistent Damage Multiplier",value:c,onChange:function(e){s(e.target.value),e.target.focus()},onBlur:function(){var e=parseFloat(c);Number.isNaN(e)&&(e=0),s(e.toString()),l(oa({id:0,changes:{persistentMultiplier:e}}))},inputProps:{step:.1,min:0,max:10,type:"number"}})}),Object(ha.jsx)(b.a,{item:!0,xs:12,sm:6,md:12,lg:6,children:Object(ha.jsx)(T.a,{control:Object(ha.jsx)(C.a,{checked:i,onChange:function(e){return l(oa({id:0,changes:{percentSelectedRoutine:e.target.checked}}))}}),label:"% of Selected Routine"})})]})},uc=a(126),pc=a.n(uc);v.a.initialize("G-JR2YK097BG");var fc=function(e){var t,a=e.byLevel,i=void 0===a||a,n=le((function(e){return function(e,t){return t?e.sharing.graphUrl:e.sharing.singleLevelGraphUrl}(e,i)})).split(";base64,")[1],r=le(ur),c=se(),s=Object(E.a)((function(e){return e.breakpoints.up("sm")})),l="",d=Object(xe.a)(r);try{for(d.s();!(t=d.n()).done;){l+=t.value+" \r\n"}}catch(p){d.e(p)}finally{d.f()}l+="\n Graph made with https://bahalbach.github.io/PF2Calculator/ ";var o=new FormData;o.append("image",n),o.append("title","Graph from https://bahalbach.github.io/PF2Calculator/"),o.append("description",l);var u={method:"POST",headers:{Authorization:"Client-ID 9f68ffe6050491a"},body:o};return Object(ha.jsx)(j.a,{onClick:function(){v.a.event("share");var e=window.open("about:blank");fetch("https://api.imgur.com/3/image",u).then((function(e){return e.json()})).then((function(t){console.log("description is ".concat(t.data.description)),c(qr(t.data.link)),null!==e&&(e.location=t.data.link,e.focus())})).catch((function(t){console.error(t),alert("Upload failed: "+t),null===e||void 0===e||e.close()}))},variant:"contained",color:"secondary",endIcon:Object(ha.jsx)(pc.a,{}),children:s?"Share with IMGUR":"Share"})},mc=function(){var e=Object(u.useState)(!0),t=Object(I.a)(e,2),a=t[0],i=t[1],n=Object(u.useState)(!1),r=Object(I.a)(n,2),c=r[0],s=r[1],l=Object(u.useState)(w.DISTRIBUTION),d=Object(I.a)(l,2),o=d[0],f=d[1],m=ic(o),j=m.expectedDamages,g=m.damageChart,h=m.byLevelDamageChart,O=Object(E.a)((function(e){return e.breakpoints.up("sm")})),v=500+19*j.length,R=v;return o===w.DISTRIBUTION&&(R+=19*j.length),Object(ha.jsxs)(p.a.Fragment,{children:[Object(ha.jsxs)(y.a,{sx:{p:1,my:2},children:[Object(ha.jsxs)(b.a,{container:!0,children:[Object(ha.jsx)(b.a,{item:!0,xs:!0,children:Object(ha.jsx)(T.a,{control:Object(ha.jsx)(C.a,{checked:a,onChange:function(){return i(!a)}}),label:O?"Display By Level Graph":"By Level Graph"})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(fc,{byLevel:!0})})]}),Object(ha.jsxs)(A.a,{in:a,children:[Object(ha.jsx)(li,{}),Object(ha.jsx)(oc,{}),Object(ha.jsx)(nc.a,{sx:{height:v},children:h})]})]}),Object(ha.jsxs)(y.a,{sx:{p:1,my:2},children:[Object(ha.jsxs)(b.a,{container:!0,children:[Object(ha.jsx)(b.a,{item:!0,xs:!0,children:Object(ha.jsx)(T.a,{control:Object(ha.jsx)(C.a,{checked:c,onChange:function(){return s(!c)}}),label:O?"Display Single Level Graph":"Single Level Graph"})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(fc,{byLevel:!1})})]}),Object(ha.jsxs)(A.a,{in:c,children:[Object(ha.jsx)(cc,{}),Object(ha.jsx)(x.a,{children:"Expected damage: "}),j,Object(ha.jsx)(S.a,{value:o,onChange:function(e){return f(e.target.value)},children:ba(w)}),Object(ha.jsx)(nc.a,{sx:{height:R},children:g})]})]})]})},jc=a(242),gc=a(247),hc=a(230),bc=a(217),Oc=a(219),vc=a(218),Sc=a(246),xc=a(128),yc=a.n(xc),Ac=a(127),Tc=a.n(Ac),Cc=a(46),Ec=a.n(Cc),Ic=function e(t){var a=t.id,i=t.level,n=t.displayChildren,r=void 0===n||n,c=le((function(e){return Qn(e,a)})),s=c.parentId,l=c.routineId,d=c.name,o=c.condition,u=c.type,f=c.MAP,m=c.apIds,j=le(sr),g=le(lr),h=se(),b=Object(ha.jsx)(Tc.a,{});if(u===M.SAVE)b=Object(ha.jsx)(yc.a,{});var O=u!==M.SAVE&&0!==Kt[f];return Object(ha.jsxs)(p.a.Fragment,{children:[Object(ha.jsx)(hc.a,{disablePadding:!0,secondaryAction:Object(ha.jsx)(Sc.a,{edge:"end","aria-label":"delete",onClick:function(){return h(Nn({id:a,parentId:s,routineId:l}))},children:Object(ha.jsx)(Ec.a,{})}),children:Object(ha.jsxs)(bc.a,{selected:j===a||g===a,sx:{pl:4*i+2},onClick:function(){return h(Cn(a))},children:[Object(ha.jsx)(vc.a,{children:b}),Object(ha.jsx)(Oc.a,{primary:d+" "+(O?Kt[f]:""),secondary:i>0?o:""})]})}),r?m.map((function(t){return Object(ha.jsx)(e,{id:t,level:i+1},t)})):""]})},Rc=a(129),wc=a.n(Rc),Lc=function(e){var t=e.title,a=e.label,i=e.value,n=e.onChange,r=e.children,c=e.fullWidth,s=void 0!==c&&c,l=Object(u.useState)(!1),d=Object(I.a)(l,2),o=d[0],p=d[1];return Object(ha.jsx)(rc.a,{title:t,open:o,onFocus:function(){console.log("focus1"),p(!1)},children:Object(ha.jsxs)(ae.a,{fullWidth:s,size:"small",onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},onFocus:function(){return p(!1)},sx:{minWidth:100},children:[Object(ha.jsx)(ie.a,{children:a}),Object(ha.jsx)(S.a,{label:a,value:i,onChange:n,children:r})]})})},kc=function(e){for(var t={},a=0,i=0,n=0,r=1;r<=20;r++)e[n]&&e[n][0]===r&&((a=parseInt(e[n][1]))||(a=0),n++,i+=a),t[r]=i;return t},Pc=function(e,t,a){return e[t]=[a,e[t][1]],e.sort((function(e,t){return e[0]-t[0]})),kc(e)},Wc=function(e){var t=e.length>0?e[e.length-1]:[0,"0"];return e.push([t[0]+1,(0).toString()]),kc(e)},Dc=function(e,t,a,i,n){var r=function(e){for(var t=0,a=[],i=1;i<=20;i++)t!==e[i]&&(a.push([i,(e[i]-t).toString()]),t=e[i]);return a}(n),c=Object(u.useState)(r),s=Object(I.a)(c,2),l=s[0],d=s[1],o=JSON.stringify(r);Object(u.useEffect)((function(){return d(r)}),[o]);for(var p=[],f=function(n){p.push(Object(ha.jsxs)(b.a,{item:!0,children:[Object(ha.jsx)(Lc,{title:"The level where this bonus is added, all later levels will have this bonus added. Please only add 1 bonus per level. Bonuses of 0 are removed.",label:"Level",value:l[n][0],onChange:function(r){return t(a({id:i,changes:Object(Se.a)({},e,Pc(l,n,Number(r.target.value)))}))},children:Sa}),Object(ha.jsx)(re.a,{size:"small",label:"Bonus",sx:{width:"9ch"},value:l[n][1],onChange:function(e){var t=l.slice();t[n]=[t[n][0],e.target.value],d(t),e.target.focus()},onBlur:function(){for(var n=l.slice(),r=0;r<l.length;r++)n[r]=[n[r][0],parseInt(n[r][1]).toString()];d(n),t(a({id:i,changes:Object(Se.a)({},e,kc(l))}))},inputProps:{step:1,min:-100,max:100,type:"number"}})]},n))},m=0;m<l.length;m++)f(m);return p.push(Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(rc.a,{title:"Add a bonus at a specified level.",children:Object(ha.jsx)(Sc.a,{color:"primary","aria-label":"Add button",onClick:function(){return t(a({id:i,changes:Object(Se.a)({},e,Wc(l))}))},children:Object(ha.jsx)(wc.a,{})})})},"addButton")),p},Nc=a(228),Fc=a(220),zc=function(e){var t=e.parentId,a=e.id,i=le((function(e){return tr(e,a)})),n=i.damageCondition,r=i.damageType,c=i.material,s=i.persistent,l=i.multiplier,d=i.damageWhen,o=i.dieTrend,f=i.dieAdjustments,m=i.diceSize,g=i.fatal,h=i.fatalDie,O=i.damageTrend,v=i.damageAdjustments,x=se(),y=Object(u.useState)(!1),E=Object(I.a)(y,2),R=E[0],w=E[1],L=Dc("dieAdjustments",x,zn,a,f),k=Dc("damageAdjustments",x,zn,a,v),P=O.map((function(e,t){return Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Adds bonus damage that applies the appropriate amount of damage at appropriate levels. For 'Weapon' and 'Precise Strike' the bonus is the number of dice.",label:"Damage Trend",value:e,onChange:function(e){var i=O.slice();e.target.value===J.NONE?i.splice(t,1):i[t]=e.target.value,x(zn({id:a,changes:{damageTrend:i}}))},children:$a})},t)}));return Object(ha.jsxs)(p.a.Fragment,{children:[Object(ha.jsx)(Mc,{damageInfo:{damageCondition:n,dieTrend:o,dieAdjustments:f,diceSize:m,fatal:g,fatalDie:h,damageTrend:O,damageAdjustments:v,persistent:s,damageType:r,multiplier:l},onClick:function(){return w(!R)},id:a,parentId:t}),Object(ha.jsx)(A.a,{in:R,children:Object(ha.jsxs)(nc.a,{sx:{mt:1,p:1,mb:1,"&:hover":{bgcolor:"rgb(50,50,50,.05)"}},children:[Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},sx:{mb:1},children:[Object(ha.jsx)(b.a,{item:!0,xs:!0,children:Object(ha.jsx)(Lc,{fullWidth:!0,title:"When this damage instance applies. For example: for extra damage on a critical hit, like with deadly or fatal weapons, use 'On Crit'. Don't forget to change when using a save instead of an attack.",value:n,label:"Condition",onChange:function(e){return x(zn({id:a,changes:{damageCondition:e.target.value}}))},children:_a})}),Object(ha.jsx)(b.a,{item:!0,xs:!0,children:Object(ha.jsxs)(ae.a,{size:"small",fullWidth:!0,children:[Object(ha.jsx)(ie.a,{id:"damage-when-input",children:"When Target"}),Object(ha.jsx)(S.a,{labelId:"damage-when-input",id:"damage-when",multiple:!0,value:d,label:"When Target",renderValue:function(e){return e.join(" or ")},onChange:function(e){return x(zn({id:a,changes:{damageWhen:e.target.value}}))},children:ba(ee)})]})})]}),Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"How much the damage is multiplied by. For example: if you want to average the damage of two different attacks, add both and set the multiplier to .5",value:l,label:"Multiplier",onChange:function(e){return x(zn({id:a,changes:{multiplier:Number(e.target.value)}}))},children:ti})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsxs)(ae.a,{size:"small",children:[Object(ha.jsx)(ie.a,{id:"damage-type-input",children:"Type"}),Object(ha.jsx)(S.a,{labelId:"damage-type-input",id:"damage-type",value:r,label:"Type",onChange:function(e){return x(zn({id:a,changes:{damageType:e.target.value}}))},children:Qa})]})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsxs)(ae.a,{size:"small",children:[Object(ha.jsx)(ie.a,{id:"damage-material-input",children:"Material"}),Object(ha.jsx)(S.a,{labelId:"damage-material-input",id:"damage-material",value:c,label:"Material",onChange:function(e){return x(zn({id:a,changes:{material:e.target.value}}))},children:Za})]})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(rc.a,{title:"If this damage is persistent. Persistent damage is multiplied by the 'Persistent Damage Multiplier' above the By Level graph.",children:Object(ha.jsx)(T.a,{control:Object(ha.jsx)(Nc.a,{checked:s,onChange:function(e){return x(zn({id:a,changes:{persistent:e.target.checked}}))}}),label:"Persistent"})})})]}),Object(ha.jsx)(Fc.a,{textAlign:"left",sx:{mt:1,mb:1},children:"Dice"}),Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"When dice are added to the damage. At each level in (), 1 die of the selected size is added to the damage",value:o,label:"Damage Dice",onChange:function(e){return x(zn({id:a,changes:{dieTrend:e.target.value}}))},children:Ka})}),L,Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsxs)(ae.a,{size:"small",children:[Object(ha.jsx)(ie.a,{id:"dice-size-input",children:"Die Size"}),Object(ha.jsx)(S.a,{labelId:"dice-size-input",id:"dice-size",value:m,label:"Die Size",onChange:function(e){return x(zn({id:a,changes:{diceSize:Number(e.target.value)}}))},children:Ja})]})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(rc.a,{title:"For Fatal. If this damage uses a different die size on a crit. For Fatal you still need to add another die with the 'On Crit' Condition.",children:Object(ha.jsx)(T.a,{control:Object(ha.jsx)(C.a,{checked:g,onChange:function(e){return x(zn({id:a,changes:{fatal:e.target.checked}}))}}),label:"On Crit Die"})})}),g?Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsxs)(ae.a,{size:"small",children:[Object(ha.jsx)(ie.a,{id:"fatal-size-input",children:"Die Size"}),Object(ha.jsx)(S.a,{labelId:"fatal-size-input",id:"fatal-size",value:h,label:"Die Size",onChange:function(e){return x(zn({id:a,changes:{fatalDie:Number(e.target.value)}}))},children:Ja})]})}):""]}),Object(ha.jsx)(Fc.a,{textAlign:"left",sx:{mt:1,mb:1},children:"Static Damage"}),Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},children:[P,Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(rc.a,{title:"Adds bonus damage that applies the appropriate amount of damage at appropriate levels. For 'Weapon' and 'Precise Strike' the bonus is the number of dice.",children:Object(ha.jsx)(j.a,{onClick:function(){var e=O.slice();e.push(J.NONE),x(zn({id:a,changes:{damageTrend:e}}))},children:"Add damage scaling"})})}),k]})]})})]})},Mc=function(e){var t,a=e.damageInfo,i=a.damageCondition,n=a.dieTrend,r=a.dieAdjustments,c=a.diceSize,s=a.fatal,l=a.fatalDie,d=a.damageTrend,o=a.damageAdjustments,p=a.persistent,f=a.damageType,m=a.multiplier,j=e.onClick,g=e.id,h=e.parentId,O=Object(u.useState)(20),v=Object(I.a)(O,2),S=v[0],y=v[1],A=se(),T=Yt[n][S]+r[S],C=o[S],E=Object(xe.a)(d);try{for(E.s();!(t=E.n()).done;){var R=t.value;C+=Jt[R][S]}}catch(P){E.e(P)}finally{E.f()}var w=C+(c+1)/2*T,L=" ("+T.toString()+"d"+l.toString()+" on Crit)",k=i+": "+T.toString()+"d"+c.toString()+(s?L:"")+(C?" + "+C.toString():"")+" (avg: "+w.toString()+") "+(p?"persistent ":"")+f+(1!==m?" x"+m:"");return Object(ha.jsxs)(b.a,{container:!0,alignItems:"center",columnSpacing:{xs:2},children:[Object(ha.jsx)(b.a,{item:!0,xs:"auto",children:Object(ha.jsx)(Sc.a,{color:"primary",size:"small",onClick:function(e){A(Bn({id:g,parentId:h}))},children:Object(ha.jsx)(Ec.a,{})})}),Object(ha.jsx)(b.a,{item:!0,xs:"auto",sx:{ml:-2},children:Object(ha.jsx)(bc.a,{onClick:j,children:Object(ha.jsx)(x.a,{variant:"h6",children:"Damage "})})}),Object(ha.jsx)(b.a,{item:!0,sx:{ml:-2,mt:1,width:100},children:Object(ha.jsx)(ne.a,{size:"small",value:S,min:1,max:20,marks:!0,onChange:function(e,t){return y(t)},valueLabelDisplay:"auto"})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(x.a,{component:"span",children:k+" at level "+S.toString()})})]})},Bc=function(e){var t=e.parentId,a=e.id,i=le((function(e){return nr(e,a)})),n=i.effectCondition,r=i.effectType,c=i.effectValue,s=i.startLevel,l=i.endLevel,d=i.damageWhen,o=se(),f=Object(u.useState)(c?c.toString():"0"),m=Object(I.a)(f,2),j=m[0],g=m[1],h=Object.values(Q).includes(r),O=Object(u.useState)([s,l]),v=Object(I.a)(O,2),y=v[0],T=v[1];Object(u.useEffect)((function(){return T([s,l])}),[s,l]);var C=Object(u.useState)(!1),E=Object(I.a)(C,2),R=E[0],w=E[1];return Object(ha.jsxs)(p.a.Fragment,{children:[Object(ha.jsxs)(b.a,{container:!0,columnSpacing:{xs:2},alignItems:"center",children:[Object(ha.jsx)(b.a,{item:!0,xs:"auto",children:Object(ha.jsx)(Sc.a,{"aria-label":"delete",color:"primary",onClick:function(e){o(_n({id:a,parentId:t}))},children:Object(ha.jsx)(Ec.a,{})})}),Object(ha.jsx)(b.a,{item:!0,xs:"auto",sx:{ml:-2},children:Object(ha.jsx)(bc.a,{onClick:function(){return w(!R)},children:Object(ha.jsx)(x.a,{variant:"h6",children:"Effect"})})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsxs)(x.a,{children:[n," ",": ",r," ",h?c:""]})})]}),Object(ha.jsx)(A.a,{in:R,children:Object(ha.jsxs)(nc.a,{sx:{p:1,mb:1,"&:hover":{bgcolor:"rgb(50,50,50,.05)"}},children:[Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},sx:{mb:1},children:[Object(ha.jsx)(b.a,{item:!0,xs:!0,children:Object(ha.jsx)(Lc,{fullWidth:!0,title:"When this effect applies, depending on the result of this activities roll. For example the spell 'fear' should have 'On Success' 'Frightened' '1', 'On Failure' 'Frightened' '2' etc.",value:n,label:"Condition",onChange:function(e){return o(Vn({id:a,changes:{effectCondition:e.target.value}}))},children:Aa})}),Object(ha.jsx)(b.a,{item:!0,xs:!0,children:Object(ha.jsxs)(ae.a,{size:"small",fullWidth:!0,children:[Object(ha.jsx)(ie.a,{id:"damage-when-input",children:"When Target"}),Object(ha.jsx)(S.a,{labelId:"damage-when-input",id:"damage-when",multiple:!0,value:d,label:"When Target",renderValue:function(e){return e.join(" or ")},onChange:function(e){return o(Vn({id:a,changes:{damageWhen:e.target.value}}))},children:ba(ee)})]})})]}),Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"The effect that is applied to the target when 'Condition' is met.",value:r,label:"Effect",onChange:function(e){return o(Vn({id:a,changes:{effectType:e.target.value}}))},children:si})}),h?Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(re.a,{size:"small",label:"Value",sx:{width:"9ch"},value:j,onChange:function(e){g(e.target.value),e.target.focus()},onBlur:function(){var e=parseInt(j);Number.isNaN(e)&&(e=0),g(e.toString()),o(Vn({id:a,changes:{effectValue:e}}))},inputProps:{step:1,min:0,max:10,type:"number"}})}):"",Object(ha.jsxs)(b.a,{item:!0,sx:{px:2},children:[Object(ha.jsxs)(x.a,{align:"center",children:["Valid Levels: ",s," to ",l]}),Object(ha.jsx)(ne.a,{size:"small",getAriaLabel:function(){return"Valid levels"},value:y,min:1,max:20,marks:!0,onChange:function(e,t){return T(t)},onBlur:function(){return o(Vn({id:a,changes:{startLevel:y[0],endLevel:y[1]}}))},valueLabelDisplay:"auto",getAriaValueText:function(e){return"".concat(e)}})]})]})]})})]})};v.a.initialize("G-JR2YK097BG");var Gc=function e(t){var a=t.id,i=t.level,n=void 0===i?0:i,r=t.open,c=void 0!==r&&r,s=le((function(e){return Qn(e,a)})),l=s.parentId,d=s.routineId,o=s.condition,f=s.name,m=s.type,g=s.MAP,h=s.damages,O=s.effects,S=s.apIds,T=se(),C=Object(u.useState)(f),E=Object(I.a)(C,2),R=E[0],w=E[1];Object(u.useEffect)((function(){return w(f)}),[f]);var L=Object(u.useState)(c),k=Object(I.a)(L,2),P=k[0],W=k[1],D=m!==M.SAVE&&0!==Kt[g];return Object(ha.jsxs)(p.a.Fragment,{children:[Object(ha.jsxs)(y.a,{sx:{my:2,p:1,ml:2*n},children:[Object(ha.jsxs)(b.a,{container:!0,columnSpacing:{xs:1,sm:2},alignItems:"center",children:[Object(ha.jsx)(b.a,{item:!0,xs:"auto",children:Object(ha.jsx)(Sc.a,{color:"primary",size:"small",onClick:function(e){T(Nn({id:a,parentId:l,routineId:d}))},children:Object(ha.jsx)(Ec.a,{})})}),Object(ha.jsx)(b.a,{item:!0,xs:"auto",children:Object(ha.jsx)(bc.a,{onClick:function(){return W(!P)},children:Object(ha.jsx)(x.a,{variant:"h6",children:"Activity"})})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsxs)(x.a,{children:[void 0!==l?o+": ":"",f,D?" "+Kt[g]:""]})})]}),Object(ha.jsxs)(A.a,{in:P,mountOnEnter:!0,children:[Object(ha.jsxs)(b.a,{container:!0,spacing:2,sx:{mt:1,px:1},children:[Object(ha.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(ha.jsx)(re.a,{fullWidth:!0,size:"small",label:"Activity Name",placeholder:"Fighter - Strike - d6 agile",value:R,onChange:function(e){w(e.target.value)},onBlur:function(){return T(kn({id:a,changes:{name:R}}))}})}),void 0!==l?Object(ha.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(ha.jsx)(Lc,{title:'Depending on the roll of the parent activity, should this activity happen. For example: to add another strike only when you hit with the previous one, have the second strike be a child of the first with the condition "Success or Better"',value:o,label:"Condition",onChange:function(e){return T(kn({id:a,changes:{condition:e.target.value}}))},children:Aa})}):""]}),Object(ha.jsx)(Vc,{id:a}),h.map((function(e){return Object(ha.jsx)(zc,{parentId:a,id:e},e)})),Object(ha.jsx)(j.a,{variant:"outlined",size:"small",onClick:function(){return T(Mn({parentId:a}))},children:"Add Damage"}),O.map((function(e){return Object(ha.jsx)(Bc,{parentId:a,id:e},e)})),Object(ha.jsx)(j.a,{variant:"outlined",size:"small",onClick:function(){return T(Un({parentId:a}))},children:"Add Effect"}),Object(ha.jsx)(jc.a,{subheader:Object(ha.jsx)(gc.a,{children:"Child Activities"}),children:S.map((function(e){return Object(ha.jsx)(Ic,{id:e,level:0,displayChildren:!1},e)}))}),Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1},sx:{my:2,p:1},children:[Object(ha.jsx)(b.a,{item:!0,container:!0,xs:6,justifyContent:"center",children:Object(ha.jsx)(j.a,{variant:"contained",onClick:function(){window.location.href="#routine-activity-list",v.a.event("select_content",{content_type:"new-activity",item_id:"continue-activity"}),T(Dn({parentId:a}))},children:"Continue Attack"})}),Object(ha.jsx)(b.a,{item:!0,container:!0,xs:6,justifyContent:"center",children:Object(ha.jsx)(j.a,{variant:"outlined",onClick:function(){window.location.href="#routine-activity-list",T(En({parentId:a}))},children:"New Child Activity"})})]})]})]}),S.map((function(t){return Object(ha.jsx)(e,{id:t,level:n+1},t)}))]})},Vc=function(e){var t=e.id,a=le((function(e){return Qn(e,t)})),i=a.rollType,n=a.type,r=a.profTrend,c=a.statTrend,s=a.itemTrend,l=a.bonusAdjustments,d=a.MAP,o=a.targetType,f=se(),m=Object(u.useState)(!1),j=Object(I.a)(m,2),g=j[0],h=j[1],O=n===M.SAVE,v=Dc("bonusAdjustments",f,kn,t,l);return Object(ha.jsxs)(p.a.Fragment,{children:[Object(ha.jsx)(Uc,{rollInfo:{isSave:O,profTrend:r,statTrend:c,itemTrend:s,MAP:d,bonusAdjustments:l},onClick:function(){return h(!g)}}),Object(ha.jsx)(A.a,{in:g,children:Object(ha.jsx)(nc.a,{sx:{p:1,mb:1,"&:hover":{bgcolor:"rgb(50,50,50,.05)"}},children:Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},sx:{},children:[Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Advantage is rolling twice and taking the higher roll, disadvantage is taking the lower",label:"Roll Type",value:i,onChange:function(e){f(kn({id:t,changes:{rollType:e.target.value}}))},children:Ca})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsxs)(ae.a,{size:"small",children:[Object(ha.jsx)(ie.a,{id:"activity-type-input",children:"Activity Type"}),Object(ha.jsx)(S.a,{labelId:"activity-type-input",label:"Activity Type",value:n,onChange:function(e){f(kn({id:t,changes:{type:e.target.value}}))},children:Ia})]})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"An increase in proficiency (+2) is applied at each level in ()",label:"Proficiency",value:r,onChange:function(e){f(kn({id:t,changes:{profTrend:e.target.value}}))},children:wa})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Bonuses from the listed ability score are applied at the appropriate levels. An ability score starts at the first value and is increased at levels 5, 10, 15, and 20 or until it reaches the second value listed. 'apex' means a bonus from an apex item is added to that score at the level in ()",label:"Ability Score",value:c,onChange:function(e){f(kn({id:t,changes:{statTrend:e.target.value}}))},children:ka})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Item bonuses are applied at the levels in ().",label:"Item Bonus",value:s,onChange:function(e){f(kn({id:t,changes:{itemTrend:e.target.value}}))},children:Wa})}),v,O?"":Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"The multiple attack penalty that is applied to this attack.",label:"MAP",value:d,onChange:function(e){f(kn({id:t,changes:{MAP:e.target.value}}))},children:Na})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"What defense is targeted",label:"Target Defense",value:o,onChange:function(e){f(kn({id:t,changes:{targetType:e.target.value}}))},children:za})})]})})})]})},Uc=function(e){var t=e.rollInfo,a=t.isSave,i=t.MAP,n=t.profTrend,r=t.statTrend,c=t.itemTrend,s=t.bonusAdjustments,l=e.onClick,d=Object(u.useState)(20),o=Object(I.a)(d,2),p=o[0],f=o[1],m=0;return m=a?10:Kt[i],m+=Ut[n][p],m+=_t[r][p],m+=Ht[c][p],m+=s[p],Object(ha.jsxs)(b.a,{container:!0,columnSpacing:{xs:2},alignItems:"center",children:[Object(ha.jsx)(b.a,{item:!0,xs:"auto",children:Object(ha.jsx)(bc.a,{onClick:l,children:Object(ha.jsx)(x.a,{variant:"h6",children:"Roll "})})}),Object(ha.jsx)(b.a,{item:!0,sx:{ml:-2,mt:1,width:100},children:Object(ha.jsx)(ne.a,{size:"small",value:p,min:1,max:20,marks:!0,onChange:function(e,t){return f(t)},valueLabelDisplay:"auto"})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(x.a,{children:(a?"DC ":" +")+m.toString()+" at level "+p.toString()})})]})};v.a.initialize("G-JR2YK097BG");var _c=function(e){var t=e.routineId,a=le((function(e){return Jn(e,t)})),i=a.name,n=a.startLevel,r=a.endLevel,c=a.description,s=a.apIds,l=le(sr),d=le(dr),o=se(),f=Object(u.useState)(i),m=Object(I.a)(f,2),g=m[0],h=m[1],O=Object(u.useState)(c),S=Object(I.a)(O,2),A=S[0],T=S[1],C=Object(u.useState)([n,r]),E=Object(I.a)(C,2),R=E[0],w=E[1];Object(u.useEffect)((function(){return h(i)}),[i]),Object(u.useEffect)((function(){return T(c)}),[c]),Object(u.useEffect)((function(){return w([n,r])}),[n,r]);var L=void 0===l&&!d;return Object(ha.jsxs)(p.a.Fragment,{children:[Object(ha.jsxs)(y.a,{sx:{my:2,p:1},children:[Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},sx:{p:1},children:[Object(ha.jsx)(b.a,{item:!0,xs:12,sm:8,md:12,lg:8,children:Object(ha.jsx)(re.a,{fullWidth:!0,label:"Routine Name",placeholder:"Fighter d8 2 strikes",value:g,onChange:function(e){h(e.target.value)},onBlur:function(){return o(Rn({id:t,changes:{name:g}}))}})}),Object(ha.jsxs)(b.a,{item:!0,xs:12,sm:4,md:12,lg:4,children:[Object(ha.jsxs)(x.a,{align:"center",children:["Valid Levels: ",n," to ",r]}),Object(ha.jsx)(nc.a,{sx:{px:2},children:Object(ha.jsx)(ne.a,{getAriaLabel:function(){return"Valid levels"},value:R,min:1,max:20,marks:!0,onChange:function(e,t){return w(t)},onBlur:function(){return o(Rn({id:t,changes:{startLevel:R[0],endLevel:R[1]}}))},valueLabelDisplay:"auto",getAriaValueText:function(e){return"".concat(e)}})})]}),Object(ha.jsx)(b.a,{item:!0,xs:12,children:Object(ha.jsx)(re.a,{fullWidth:!0,multiline:!0,label:"Routine Description",placeholder:"A Fighter making two strikes with a longsword. Critical Specialization at 5. 1d6 runes at 8 and 15.",value:A,onChange:function(e){T(e.target.value)},onBlur:function(){return o(Rn({id:t,changes:{description:A}}))}})})]}),Object(ha.jsx)(jc.a,{id:"routine-activity-list",subheader:Object(ha.jsx)(gc.a,{children:"Activities"}),children:s.map((function(e){return Object(ha.jsx)(Ic,{id:e,level:0},e)}))}),Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1},sx:{my:2,p:1},children:[Object(ha.jsx)(b.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(ha.jsx)(j.a,{size:"small",fullWidth:!0,variant:"contained",onClick:function(){return o(En({routineId:t}))},children:"Create New Activity"})}),Object(ha.jsx)(b.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(ha.jsx)(j.a,{size:"small",fullWidth:!0,variant:"outlined",onClick:function(){v.a.event("select_content",{content_type:"new-activity",item_id:"empty-activity"}),o(Pn({routineId:t}))},children:"New Empty Activity"})}),Object(ha.jsx)(b.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(ha.jsx)(j.a,{size:"small",fullWidth:!0,variant:"outlined",onClick:function(){v.a.event("select_content",{content_type:"new-activity",item_id:"strike-activity"}),o(Pn({routineId:t,activityType:M.STRIKE}))},children:"New Martial Strike"})}),Object(ha.jsx)(b.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(ha.jsx)(j.a,{size:"small",fullWidth:!0,variant:"outlined",onClick:function(){v.a.event("select_content",{content_type:"new-activity",item_id:"save-activity"}),o(Pn({routineId:t,activityType:M.SAVE}))},children:"New Caster Save"})})]})]}),L?s.map((function(e){return Object(ha.jsx)(Gc,{id:e,level:0},e)})):""]})},Hc=a(233),Kc=function(){var e=le($n),t=le(cr),a=se(),i=[],n=[];return e.forEach((function(e){i.push(Object(ha.jsx)(ga.a,{value:e.id,children:e.name},e.id)),n.push(Object(ha.jsx)(nc.a,{component:"li",sx:{margin:.5,maxWidth:1},children:Object(ha.jsx)(Hc.a,{label:e.name,variant:e.display?"filled":"outlined",size:"small",color:"secondary",onClick:function(){a(Rn({id:e.id,changes:{display:!e.display}})),a(Tn(e.id))},onDelete:function(){return a(Ln(e.id))},sx:{maxWidth:1}})},e.id))})),Object(ha.jsxs)(p.a.Fragment,{children:[Object(ha.jsx)(y.a,{variant:"outlined",sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",listStyle:"none",p:.5,my:2},component:"ul",children:n}),Object(ha.jsx)(y.a,{sx:{my:2,p:1},children:Object(ha.jsxs)(b.a,{container:!0,spacing:1,children:[void 0!==t?Object(ha.jsx)(b.a,{item:!0,xs:12,sm:6,md:12,lg:6,children:Object(ha.jsxs)(ae.a,{fullWidth:!0,children:[Object(ha.jsx)(ie.a,{id:"select-routine-label",children:"Select Routine"}),Object(ha.jsx)(S.a,{labelId:"select-routine-label",id:"select-routine",value:t,label:"Select Routine",onChange:function(e){return a(Tn(e.target.value))},children:i})]})}):"",Object(ha.jsx)(b.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(ha.jsx)(j.a,{variant:"contained",onClick:function(){a(wn({copy:!1}))},children:"Create New Routine"})}),Object(ha.jsx)(b.a,{item:!0,container:!0,xs:6,sm:3,md:6,lg:3,justifyContent:"center",children:Object(ha.jsx)(j.a,{variant:"outlined",onClick:function(){return a(wn({copy:!0}))},children:"Copy Selected Routine"})})]})})]})},Yc=function(){var e=le(or),t=le(pr),a=Object(u.useState)(!1),i=Object(I.a)(a,2),n=i[0],r=i[1],c=Object(u.useState)(""),s=Object(I.a)(c,2),l=s[0],d=s[1],o=se();Object(u.useEffect)((function(){n||(t===P?(d("Import failed"),r(!0)):t===k&&(d("Import successful"),r(!0)))}),[t,n]);return Object(ha.jsx)(y.a,{sx:{p:1},children:Object(ha.jsxs)(b.a,{container:!0,children:[Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(j.a,{onClick:function(){o(Hn(l)),r(!1)},children:"Import"})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(j.a,{onClick:function(){d(JSON.stringify(e))},children:"Export"})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(j.a,{onClick:function(){void 0!==navigator.clipboard&&(navigator.clipboard.writeText(l),d("Copied"))},children:"Copy"})}),Object(ha.jsx)(b.a,{item:!0,xs:12,children:Object(ha.jsx)(re.a,{fullWidth:!0,multiline:!0,maxRows:5,label:"Routine code",placeholder:"Enter routine code here to import.",value:l,onChange:function(e){return d(e.target.value)}})})]})})},Jc=(a(168),a(221)),Xc=a(234),$c=a(226),qc=a(212);function Qc(e){e.routineId,e.parentId;var t=Object(u.useState)(oi.Strike),a=Object(I.a)(t,2),i=a[0],n=a[1];return Object(ha.jsxs)(y.a,{sx:{my:2,p:1},children:[Object(ha.jsxs)(ae.a,{fullWidth:!0,sx:{my:2,p:1},children:[Object(ha.jsx)(ie.a,{children:"Activity Type"}),Object(ha.jsx)(S.a,{value:i,label:"Activity Type",onChange:function(e){n(e.target.value)},children:ba(oi)})]}),oi.Strike===i?Object(ha.jsx)(Zc,{}):oi.Skill===i?Object(ha.jsx)(ts,{}):oi.Cantrip===i?Object(ha.jsx)(as,{}):oi.Spell===i?Object(ha.jsx)(is,{}):""]})}function Zc(){var e=Object(u.useState)({cClass:pi[6],classOption:"",activity:"Strike",spell:yi[0],attackScore:G.AS18a,damageScore:G.AS18a,cantripScore:G.AS16pp,numPrevStrikes:0,numStrikes:1,twf:!1,isStrikeSecondaryWeapon:[!1],previousHits:0,weapon1:{dieSize:8,traits:Object.fromEntries(gi.map((function(e){return[e,!1]}))),deadlySize:8,fatalSize:10,critSpec:!1,critSpecLevel:5,critSpecType:hi[0],runes:Y.RUNE2,numPrevStrikes:0},weapon2:{dieSize:8,traits:Object.fromEntries(gi.map((function(e){return[e,!1]}))),deadlySize:8,fatalSize:10,critSpec:!1,critSpecLevel:5,critSpecType:hi[0],runes:Y.RUNE2,numPrevStrikes:0}}),t=Object(I.a)(e,2),a=t[0],i=t[1],n=se();return Object(ha.jsxs)(p.a.Fragment,{children:[Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},sx:{py:2},id:"create-new-activity",children:[Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Which class's proficiency and weapon specialization to use.",value:a.cClass,label:"Class",onChange:function(e){!function(e){var t=Object(R.a)({},a);t.cClass=e,ji[e].length>0?t.classOption=ji[e][0]:t.classOption="",i(t)}(e.target.value)},children:ba(pi)})}),ji[a.cClass].length>0?Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Which abilities are applied",value:a.classOption,label:"Class Option",onChange:function(e){i(Object(R.a)(Object(R.a)({},a),{},{classOption:e.target.value}))},children:ba(ji[a.cClass])})}):"",Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Which activity to use",value:a.activity,label:"Activity",onChange:function(e){var t=Object(R.a)({},a);t.activity=e.target.value,"Double Slice"===e.target.value&&(t.numStrikes=2,t.isStrikeSecondaryWeapon=[!1,!0]),i(t)},children:ba(mi)})}),"Spell Strike"===a.activity?Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Which spell to add to the strike",value:a.spell,label:"Spell",onChange:function(e){i(Object(R.a)(Object(R.a)({},a),{},{spell:e.target.value}))},children:ba(yi)})}):"",Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"What ability score bonus progression to add to the attack roll.",value:a.attackScore,label:"Attack Abilitiy Score",onChange:function(e){i(Object(R.a)(Object(R.a)({},a),{},{attackScore:e.target.value}))},children:ba(G)})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"What ability score bonus progression to add to the damage roll.\r Not applied to ranged attacks.",value:a.damageScore,label:"Damage Abilitiy Score",onChange:function(e){i(Object(R.a)(Object(R.a)({},a),{},{damageScore:e.target.value}))},children:ba(G)})}),"Inventor"===a.cClass&&("Overdrive Success"===a.classOption||"Overdrive Critical"===a.classOption)||"Spell Strike"===a.activity?Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"What ability score bonus progression to add to the damage roll.",value:a.cantripScore,label:"Mental Abilitiy Score",onChange:function(e){i(Object(R.a)(Object(R.a)({},a),{},{cantripScore:e.target.value}))},children:ba(G)})}):""]}),Object(ha.jsx)(es,{weapon:a.weapon1,setWeapon:function(e){return i(Object(R.a)(Object(R.a)({},a),{},{weapon1:e}))}}),Object(ha.jsx)(T.a,{control:Object(ha.jsx)(C.a,{checked:a.twf,onChange:function(e){return i(Object(R.a)(Object(R.a)({},a),{},{twf:e.target.checked}))}}),label:"Use Two Weapons",sx:{py:2}}),a.twf?Object(ha.jsx)(es,{weapon:a.weapon2,setWeapon:function(e){return i(Object(R.a)(Object(R.a)({},a),{},{weapon2:e}))}}):"",Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},sx:{py:2},children:[Object(ha.jsx)(b.a,{item:!0,xs:"auto",children:Object(ha.jsx)(Lc,{title:"Select the number of previous attacks.",value:a.numPrevStrikes,label:"Previous Attacks",onChange:function(e){i(Object(R.a)(Object(R.a)({},a),{},{numPrevStrikes:Number(e.target.value)}))},children:ba([0,1,2])})}),"Double Slice"!==a.activity?Object(ha.jsx)(b.a,{item:!0,xs:"auto",children:Object(ha.jsx)(Lc,{title:"Select the number of attacks to make with the selected options.",value:a.numStrikes,label:"Number of Strikes",onChange:function(e){for(var t=Number(e.target.value),n=Object(R.a)({},a),r=[],c=0;c<t;c++)c<a.numStrikes?r.push(a.isStrikeSecondaryWeapon[c]):r.push(!1);n.numStrikes=t,n.isStrikeSecondaryWeapon=r,i(n)},children:ba([1,2,3,4,5,6])})}):"","Ranger"===a.cClass&&"Precision Edge"===a.classOption?Object(ha.jsx)(b.a,{item:!0,xs:"auto",children:Object(ha.jsx)(Lc,{title:"Select the number of previous hits.",value:a.previousHits,label:"Previous Hits",onChange:function(e){i(Object(R.a)(Object(R.a)({},a),{},{previousHits:Number(e.target.value)}))},children:ba([0,1,2,3])})}):"",Object(ha.jsx)(b.a,{item:!0,xs:"auto",children:Object(ha.jsx)(j.a,{variant:"contained",onClick:function(){v.a.event("select_content",{content_type:"create-new-strike",item_id:a.cClass}),n(Wn({strikeInfo:a}))},children:"Create New Activity"})})]}),a.twf&&"Double Slice"!==a.activity?Object(ha.jsx)(Jc.a,{spacing:{xs:1,sm:2},children:a.isStrikeSecondaryWeapon.map((function(e,t){return Object(ha.jsxs)(ae.a,{component:"fieldset",children:[Object(ha.jsxs)(qc.a,{component:"legend",children:["Strike ",t+1]}),Object(ha.jsxs)(Xc.a,{row:!0,"aria-label":"strike-"+(t+1),value:e?2:1,onClick:function(e){var n=Object(R.a)({},a),r=a.isStrikeSecondaryWeapon.slice();r[t]="2"===e.target.value,n.isStrikeSecondaryWeapon=r,i(n)},children:[Object(ha.jsx)(T.a,{value:1,control:Object(ha.jsx)($c.a,{}),label:"Weapon 1"}),Object(ha.jsx)(T.a,{value:2,control:Object(ha.jsx)($c.a,{}),label:"Weapon 2"})]})]},t)}))}):""]})}function es(e){var t=e.weapon,a=e.setWeapon;return Object(ha.jsxs)(b.a,{container:!0,columnSpacing:{xs:1,sm:2},sx:{py:2},alignItems:"center",children:[Object(ha.jsx)(b.a,{item:!0,xs:"auto",children:Object(ha.jsx)(x.a,{variant:"h6",children:"Weapon"})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Weapon damage die",value:t.dieSize,label:"Damage Die",onChange:function(e){a(Object(R.a)(Object(R.a)({},t),{},{dieSize:Number(e.target.value)}))},children:Ja})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(T.a,{control:Object(ha.jsx)(C.a,{checked:t.critSpec,onChange:function(e){return a(Object(R.a)(Object(R.a)({},t),{},{critSpec:e.target.checked}))}}),label:"Critical Specialization"})}),t.critSpec?Object(ha.jsxs)(b.a,{item:!0,children:[Object(ha.jsxs)(x.a,{align:"center",id:"crit-spec-level",children:["At Level ",t.critSpecLevel]}),Object(ha.jsx)(ne.a,{"aria-labelledby":"crit-spec-level",value:t.critSpecLevel,min:1,max:20,marks:!0,onChange:function(e,i){return a(Object(R.a)(Object(R.a)({},t),{},{critSpecLevel:Number(i)}))}})]}):"",t.critSpec?Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"What weapon group's effect to apply on a critical hit.",value:t.critSpecType,label:"Weapon Group",onChange:function(e){return a(Object(R.a)(Object(R.a)({},t),{},{critSpecType:e.target.value}))},children:ba(hi)})}):"",Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(y.a,{variant:"outlined",sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",listStyle:"none",p:.5,my:1},component:"ul",children:gi.map((function(e,i){return Object(ha.jsx)(g.a,{component:"li",sx:{margin:.5},children:Object(ha.jsx)(Hc.a,{label:e,size:"small",color:"secondary",variant:t.traits[e]?"filled":"outlined",onClick:function(){var i=Object(R.a)(Object(R.a)({},t.traits),{},Object(Se.a)({},e,!t.traits[e]));a(Object(R.a)(Object(R.a)({},t),{},{traits:i}))}})},e)}))})}),t.traits.deadly?Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Deadly damage die.",value:t.deadlySize,label:"Deadly Die",onChange:function(e){a(Object(R.a)(Object(R.a)({},t),{},{deadlySize:Number(e.target.value)}))},children:Ja})}):"",t.traits.fatal?Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Fatal damage die.",value:t.fatalSize,label:"Fatal Die",onChange:function(e){a(Object(R.a)(Object(R.a)({},t),{},{fatalSize:Number(e.target.value)}))},children:Ja})}):"",Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"What levels the damages from property runes such as 'flaming' are applied.",value:t.runes,label:"Damage Rune Levels",onChange:function(e){a(Object(R.a)(Object(R.a)({},t),{},{runes:e.target.value}))},children:ba(ui)})})]})}function ts(){var e=Object(u.useState)(B.MAXSKILL),t=Object(I.a)(e,2),a=t[0],i=t[1],n=Object(u.useState)(G.AS18a),r=Object(I.a)(n,2),c=r[0],s=r[1],l=Object(u.useState)(V.SKILL),d=Object(I.a)(l,2),o=d[0],p=d[1],f=Object(u.useState)(vi[0]),m=Object(I.a)(f,2),g=m[0],h=m[1],O={proficiency:a,abilityScore:c,itemBonus:o,skillActivity:g},S=se();return Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Select which proficiency progression to apply.",label:"Proficiency",value:a,onChange:function(e){i(e.target.value)},children:ba(bi)})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Select which ability score progression to apply.",label:"Ability Score",value:c,onChange:function(e){s(e.target.value)},children:ba(G)})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Select which item bonus progression to apply.",label:"Item Bonus",value:o,onChange:function(e){p(e.target.value)},children:ba(V)})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Select which skill activity to use.",label:"Activity",value:g,onChange:function(e){h(e.target.value)},children:ba(vi)})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(j.a,{variant:"contained",onClick:function(){v.a.event("select_content",{content_type:"create-new-skill",item_id:g}),S(Wn({skillInfo:O}))},children:"Create New Activity"})})]})}function as(){var e=Object(u.useState)(B.CASTERSPELL),t=Object(I.a)(e,2),a=t[0],i=t[1],n=Object(u.useState)(G.AS18a),r=Object(I.a)(n,2),c=r[0],s=r[1],l=Object(u.useState)(Si[0]),d=Object(I.a)(l,2),o=d[0],p=d[1],f={proficiency:a,abilityScore:c,cantrip:o},m=se();return Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Select which proficiency progression to apply.",label:"Proficiency",value:a,onChange:function(e){i(e.target.value)},children:ba(Oi)})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Select which ability score progression to apply.",label:"Ability Score",value:c,onChange:function(e){s(e.target.value)},children:ba(G)})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Select which cantrip to use.",label:"Cantrip",value:o,onChange:function(e){p(e.target.value)},children:ba(Si)})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(j.a,{variant:"contained",onClick:function(){v.a.event("select_content",{content_type:"create-new-cantrip",item_id:o}),m(Wn({cantripInfo:f}))},children:"Create New Activity"})})]})}function is(){var e=Object(u.useState)(B.CASTERSPELL),t=Object(I.a)(e,2),a=t[0],i=t[1],n=Object(u.useState)(G.AS18a),r=Object(I.a)(n,2),c=r[0],s=r[1],l=Object(u.useState)(xi[0]),d=Object(I.a)(l,2),o=d[0],p=d[1],f={proficiency:a,abilityScore:c,spell:o},m=se();return Object(ha.jsxs)(b.a,{container:!0,spacing:{xs:1,sm:2},children:[Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Select which proficiency progression to apply.",label:"Proficiency",value:a,onChange:function(e){i(e.target.value)},children:ba(Oi)})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Select which ability score progression to apply.",label:"Ability Score",value:c,onChange:function(e){s(e.target.value)},children:ba(G)})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(Lc,{title:"Select which spell to use.",label:"Spell",value:o,onChange:function(e){p(e.target.value)},children:ba(xi)})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(j.a,{variant:"contained",onClick:function(){v.a.event("select_content",{content_type:"create-new-spell",item_id:o}),m(Wn({spellInfo:f}))},children:"Create New Activity"})})]})}v.a.initialize("G-JR2YK097BG"),v.a.initialize("G-JR2YK097BG");for(var ns=function(){var e=le(cr),t=le(sr),a=le(dr);return Object(u.useEffect)((function(){a&&(window.location.href="#create-new-activity",v.a.event("select_content",{content_type:"new-activity",item_id:"create-new-activity"}))}),[a]),Object(ha.jsxs)(g.a,{sx:{},children:[Object(ha.jsx)(Kc,{}),void 0!==e?Object(ha.jsx)(_c,{routineId:e}):"",void 0!==t?Object(ha.jsx)(Gc,{id:t,open:!0}):a?Object(ha.jsx)(Qc,{}):"",Object(ha.jsx)(Yc,{}),Object(ha.jsxs)(b.a,{container:!0,sx:{mb:2,mt:0},justifyContent:"space-evenly",alignItems:"center",spacing:2,children:[Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(rs,{})}),Object(ha.jsx)(b.a,{item:!0,children:Object(ha.jsx)(cs,{})})]})]})},rs=function(){return Object(ha.jsx)(g.a,{sx:{height:60,width:217},onClick:function(){return v.a.event("select_content",{content_type:"buy-me-a-coffee"})},children:Object(ha.jsx)("a",{href:"https://www.buymeacoffee.com/bahalbach",target:"_blank",rel:"noreferrer",children:Object(ha.jsx)("img",{src:"https://cdn.buymeacoffee.com/buttons/v2/default-red.png",alt:"Buy Me A Coffee",width:"217px",height:"60px"})})})},cs=function(){return Object(ha.jsx)(j.a,{sx:{height:60,width:217},variant:"contained",color:"primary",href:"mailto:bahalbach@gmail.com",children:"Contact Me"})},ss=function(){var e=Object(E.a)((function(e){return e.breakpoints.up("md")}));return v.a.send("pageview"),Object(ha.jsx)(p.a.Fragment,{children:Object(ha.jsx)(h.a,{maxWidth:"xl",children:e?Object(ha.jsxs)(b.a,{container:!0,columnSpacing:{xs:2,md:2,lg:3,xl:4},sx:{height:"100vh"},children:[Object(ha.jsx)(b.a,{id:"container",item:!0,xs:12,md:6,sx:{height:"100%",overflow:"auto"},children:Object(ha.jsx)(ns,{})}),Object(ha.jsx)(b.a,{item:!0,xs:12,md:6,sx:{mt:0,height:1,overflow:"hidden auto"},children:Object(ha.jsx)(mc,{})})]}):Object(ha.jsxs)(p.a.Fragment,{children:[Object(ha.jsx)(mc,{}),Object(ha.jsx)(ns,{})]})})})},ls=['{"id":104,"name":"Barbarian (giant rage) - 2 Strike - d12 Sword","display":false,"apIds":[{"name":"Barbarian (giant rage) - Strike - d12 Sword","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Martial Weapon (5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":12,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton","Giant Rage"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1023},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1024}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1005}],"apIds":[{"name":"Barbarian (giant rage) - Strike - d12 Sword","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Martial Weapon (5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"-5 (1x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":12,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton","Giant Rage"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1021},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1022}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1004}],"apIds":[],"id":1009,"parentId":1008}],"id":1008,"routineId":104}],"levelDiff":0,"description":"2 Strike with class Barbarian (giant rage) after 0 previous strikes. Weapon is d12 Sword","startLevel":1,"endLevel":20}','{"id":101,"name":"Fighter - 2 Strike - d12 Sword","display":false,"apIds":[{"name":"Fighter - Strike - d12 Sword","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":12,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1003},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1004}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1002}],"apIds":[{"name":"Fighter - Strike - d12 Sword","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"-5 (1x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":12,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1001},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1002}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1001}],"apIds":[],"id":1002,"parentId":1001}],"id":1001,"routineId":101}],"levelDiff":0,"description":"2 Strike with class Fighter () after 0 previous strikes. Weapon is d12 Sword","startLevel":1,"endLevel":20}','{"id":102,"name":"Fighter - 1 Power Attack - d12 Sword","display":false,"apIds":[{"name":"Fighter - Power Attack - d12 Sword","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":2,"11":2,"12":2,"13":2,"14":2,"15":2,"16":2,"17":2,"18":3,"19":3,"20":3},"diceSize":12,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1005},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1006}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1003}],"apIds":[],"id":1003,"routineId":102}],"levelDiff":0,"description":"1 Power Attack with class Fighter () after 0 previous strikes. Weapon is d12 Sword","startLevel":1,"endLevel":20}','{"id":103,"name":"Fighter - Double Slice - d6 fatal d10 Pick | d4 agile fatal d8 Pick","display":false,"apIds":[{"name":"Fighter - Double Slice - d6 fatal d10 Pick","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[],"effects":[],"apIds":[{"name":"Fighter - Double Slice - d4 agile fatal d8 Pick","type":"Strike","condition":"On Crit","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":2,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":10,"fatal":true,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1007},{"damageCondition":"Always","damageType":"fire","material":"none","persistent":false,"multiplier":2,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1008},{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"None","dieAdjustments":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"diceSize":10,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":4,"6":4,"7":4,"8":4,"9":4,"10":4,"11":4,"12":6,"13":6,"14":6,"15":6,"16":6,"17":6,"18":6,"19":8,"20":8},"id":1009},{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":4,"fatal":true,"fatalDie":8,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1010},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1011},{"damageCondition":"On Crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"None","dieAdjustments":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"diceSize":8,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":4,"6":4,"7":4,"8":4,"9":4,"10":4,"11":4,"12":6,"13":6,"14":6,"15":6,"16":6,"17":6,"18":6,"19":8,"20":8},"id":1012}],"effects":[],"apIds":[],"id":1005,"parentId":1004},{"name":"Fighter - Double Slice - d4 agile fatal d8 Pick","type":"Strike","condition":"On Success","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1013},{"damageCondition":"Always","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1014},{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":4,"fatal":true,"fatalDie":8,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1015},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1016},{"damageCondition":"On Crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"None","dieAdjustments":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"diceSize":8,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":4,"6":4,"7":4,"8":4,"9":4,"10":4,"11":4,"12":6,"13":6,"14":6,"15":6,"16":6,"17":6,"18":6,"19":8,"20":8},"id":1017}],"effects":[],"apIds":[],"id":1006,"parentId":1004},{"name":"Fighter - Double Slice - d4 agile fatal d8 Pick","type":"Strike","condition":"Failure or worse","rollType":"Normal","profTrend":"Fighter Weapon (1, 5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":4,"fatal":true,"fatalDie":8,"damageTrend":["18 to 24 apex(17)","Fighter Weapon Specialization"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1018},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1019},{"damageCondition":"On Crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"None","dieAdjustments":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"diceSize":8,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":4,"6":4,"7":4,"8":4,"9":4,"10":4,"11":4,"12":6,"13":6,"14":6,"15":6,"16":6,"17":6,"18":6,"19":8,"20":8},"id":1020}],"effects":[],"apIds":[],"id":1007,"parentId":1004}],"id":1004,"routineId":103}],"levelDiff":0,"description":"2 Double Slice with class Fighter () after 0 previous strikes. Weapon is d6 fatal d10 Pick. Weapon two is d4 agile fatal d8 Pick","startLevel":1,"endLevel":20}','{"id":105,"name":"Rogue (Sneak Attack) - Double Slice - d6 deadly d8 Sword | d6 agile Sword","display":true,"apIds":[{"name":"Rogue (Sneak Attack) - Double Slice - d6 deadly d8 Sword","type":"Strike","condition":"Always","rollType":"Normal","profTrend":"Martial Weapon (5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1009}],"apIds":[{"name":"Rogue (Sneak Attack) - Double Slice - d6 agile Sword","type":"Strike","condition":"On Crit","rollType":"Normal","profTrend":"Martial Weapon (5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":2,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1025},{"damageCondition":"Always","damageType":"fire","material":"none","persistent":false,"multiplier":2,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1026},{"damageCondition":"Always","damageType":"precision","material":"none","persistent":false,"multiplier":2,"damageWhen":["Flatfooted"],"dieTrend":"Sneak Attack (1, 5, 11, 17)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1027},{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Deadly (1, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":8,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1028},{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1029},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1030}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1006}],"apIds":[],"id":1011,"parentId":1010},{"name":"Rogue (Sneak Attack) - Double Slice - d6 agile Sword","type":"Strike","condition":"On Success","rollType":"Normal","profTrend":"Martial Weapon (5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"Always","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1031},{"damageCondition":"Always","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1032},{"damageCondition":"Failure or worse","damageType":"precision","material":"none","persistent":false,"multiplier":1,"damageWhen":["Flatfooted"],"dieTrend":"Sneak Attack (1, 5, 11, 17)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1033},{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1034},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1035},{"damageCondition":"x1 hit, x2 crit","damageType":"precision","material":"none","persistent":false,"multiplier":1,"damageWhen":["Flatfooted"],"dieTrend":"Sneak Attack (1, 5, 11, 17)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1036}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1007}],"apIds":[],"id":1012,"parentId":1010},{"name":"Rogue (Sneak Attack) - Double Slice - d6 agile Sword","type":"Strike","condition":"Failure or worse","rollType":"Normal","profTrend":"Martial Weapon (5, 13)","statTrend":"18 to 24 apex(17)","itemTrend":"Weapon (2, 10, 16)","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"AC","damages":[{"damageCondition":"x1 hit, x2 crit","damageType":"bludgeoning","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Weapon (1, 4, 12, 19)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":["18 to 24 apex(17)","Martial Weapon Specializaton"],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1037},{"damageCondition":"x1 hit, x2 crit","damageType":"fire","material":"none","persistent":false,"multiplier":1,"damageWhen":["Always"],"dieTrend":"Runes (8, 10, 16)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1038},{"damageCondition":"x1 hit, x2 crit","damageType":"precision","material":"none","persistent":false,"multiplier":1,"damageWhen":["Flatfooted"],"dieTrend":"Sneak Attack (1, 5, 11, 17)","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"id":1039}],"effects":[{"effectCondition":"On Crit","effectType":"Flatfooted","effectValue":1,"startLevel":5,"endLevel":20,"damageWhen":["Always"],"id":1008}],"apIds":[],"id":1013,"parentId":1010}],"id":1010,"routineId":105}],"levelDiff":0,"description":"2 Double Slice with class Rogue (Sneak Attack) after 0 previous strikes. Weapon is d6 deadly d8 Sword. Weapon two is d6 agile Sword","startLevel":1,"endLevel":20}','{"id":2,"name":"Fireball","display":false,"apIds":[{"id":2,"condition":"Always","rollType":"Normal","type":"Save","profTrend":"Caster Spell (7, 15, 19)","statTrend":"18 to 24 apex(17)","itemTrend":"None","bonusAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"MAP":"0 (0x-5)","targetType":"Ref","targetInfoId":0,"damages":[{"id":7,"damageCondition":"Basic save","dieTrend":"2 x Spell Level","dieAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"diceSize":6,"fatal":false,"fatalDie":10,"damageTrend":[],"damageAdjustments":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"damageType":"fire","material":"none","persistent":false,"multiplier":1}],"effects":[],"apIds":[]}],"levelDiff":0,"description":"A 2d6 / spell level basic reflex save.","startLevel":1,"endLevel":20}'],ds={},os=1;os<=20;os++)ds[os]=0;var us=function(){var e=Object(de.a)({reducer:{routines:Kn,weaknesses:he,targets:ua,sharing:Qr}});e.dispatch(da({id:0,name:"AC: High, Saves: Moderate",levelDiff:0,persistentMultiplier:2,ACTrend:D.HIGH,FortTrend:N.MODERATE,RefTrend:N.MODERATE,WillTrend:N.MODERATE,PerTrend:N.MODERATE,flatfooted:!1,percentSelectedRoutine:!1,weaknesses:[],graphType:w.DISTRIBUTION,routineLevel:1,targetLevel:1,overrideAC:16,overrideFort:7,overrideRef:7,overrideWill:7,overridePer:7}));try{if(null===localStorage.getItem("routineState")){e.dispatch(Fn({id:0,damageCondition:K.STRIKE,dieTrend:Y.WEAPON,dieAdjustments:Object(R.a)({},ds),diceSize:8,fatal:!1,fatalDie:10,damageTrend:[J.AS18a,J.MARTIALWEAPONSPEC],damageAdjustments:Object(R.a)({},ds),damageType:X.S,material:$.NONE,persistent:!1,multiplier:1,damageWhen:[ee.Always]})),e.dispatch(Fn({id:1,damageCondition:K.STRIKE,dieTrend:Y.RUNE2,dieAdjustments:Object(R.a)({},ds),diceSize:6,fatal:!1,fatalDie:10,damageTrend:[],damageAdjustments:Object(R.a)({},ds),damageType:X.FIRE,material:$.NONE,persistent:!1,multiplier:1,damageWhen:[ee.Always]})),e.dispatch(Fn({id:2,damageCondition:K.BASIC,dieTrend:Y.SPELLLEVEL2,dieAdjustments:Object(R.a)({},ds),diceSize:6,fatal:!1,fatalDie:10,damageTrend:[],damageAdjustments:Object(R.a)({},ds),damageType:X.FIRE,material:$.NONE,persistent:!1,multiplier:1,damageWhen:[ee.Always]})),e.dispatch(Gn({id:0,effectCondition:F.CRIT,effectType:Z.FLATFOOT,effectValue:1,startLevel:5,endLevel:20,damageWhen:[ee.Always]})),e.dispatch(In({id:0,name:"Baseline",display:!0,apIds:[],levelDiff:0,description:"No damage. Just so graphs display 0 with autoscalling.",startLevel:1,endLevel:20}));var t,a=Object(xe.a)(ls);try{for(a.s();!(t=a.n()).done;){var i=t.value;e.dispatch(Hn(i))}}catch(n){a.e(n)}finally{a.f()}e.dispatch(Tn(3))}}catch(r){}return e}(),ps=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function fs(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ms=a(117),js=a(55),gs=Object(ms.a)({palette:{primary:{main:js.a[900]},background:{default:"#222222"}}}),hs=a(235);m.a.render(Object(ha.jsx)(p.a.StrictMode,{children:Object(ha.jsx)(ce.a,{store:us,children:Object(ha.jsxs)(hs.a,{theme:gs,children:[Object(ha.jsx)(o.a,{}),Object(ha.jsx)(ss,{})]})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/PF2Calculator",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/PF2Calculator","/service-worker.js");ps?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var i=a.headers.get("content-type");404===a.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):fs(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):fs(t,e)}))}}()}},[[169,1,2]]]);
//# sourceMappingURL=main.8436254a.chunk.js.map