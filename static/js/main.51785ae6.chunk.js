(this.webpackJsonppf2=this.webpackJsonppf2||[]).push([[0],{28:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);for(var n,r,c,i,l,s,u,o,d=a(0),m=a.n(d),p=a(10),f=a.n(p),E=(a(28),a(12)),v=a.n(E),g=a(5),h=a(1),b=a(2),R=a(3),A=a(4),C={DISTRIBUTION:"Damage Distribution",PMDEFENSE:"+/- AC/Save Bonus",PMRES:"+/- Resistance/Weakness"},O={STRIKE:"Strike",SAVE:"Save"},I={FIGHTER:"Fighter Melee",MARTIAL:"Martial Melee",CASTER:"Caster(16str) Melee",ALCH:"Alchemist(16str) Melee",FIGHTERR:"Fighter Ranged",MARTIALR:"Martial Ranged",CASTERR:"Caster(16dex) Ranged",ALCHR:"Alchemist(16dex) Ranged",CASTERCA:"Caster Cantrip Attack",CASTERCS:"Caster Cantrip Save",CASTERBR:"Caster 2dX Basic Save",CASTERSA:"Caster Spell Attack",CASTERS:"Caster Save"},S={LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},T={TERRIBLE:"Terrible",LOW:"Low",MODERATE:"Moderate",HIGH:"High",EXTREME:"Extreme"},y={AC:"AC",FORT:"Fort",REF:"Ref",WILL:"Will",PER:"Perception"},j={N1:"0 (0x-5)",N2:"-5 (1x-5)",N3:"-10 (2x-5)",A1:"0 (0x-4)",A2:"-4 (1x-4)",A3:"-8 (2x-4)",R1:"0 (0x-3)",R2:"-3 (1x-3)",R3:"-6 (2x-3)",RA1:"0 (0x-2)",RA2:"-2 (1x-2)",RA3:"-4 (2x-2)",RAA1:"0 (0x-1)",RAA2:"-1 (1x-1)",RAA3:"-2 (2x-1)"},x={"0 (0x-5)":"-5 (1x-5)","-5 (1x-5)":"-10 (2x-5)","-10 (2x-5)":"-10 (2x-5)","0 (0x-4)":"-4 (1x-4)","-4 (1x-4)":"-8 (2x-4)","-8 (2x-4)":"-8 (2x-4)","0 (0x-3)":"-3 (1x-3)","-3 (1x-3)":"-6 (2x-3)","-6 (2x-3)":"-6 (2x-3)","0 (0x-2)":"-2 (1x-2)","-2 (1x-2)":"-4 (2x-2)","-4 (2x-2)":"-4 (2x-2)","0 (0x-1)":"-1 (1x-1)","-1 (1x-1)":"-2 (2x-1)","-2 (2x-1)":"-2 (2x-1)"},N={"0 (0x-5)":0,"-5 (1x-5)":-5,"-10 (2x-5)":-10,"0 (0x-4)":0,"-4 (1x-4)":-4,"-8 (2x-4)":-8,"0 (0x-3)":0,"-3 (1x-3)":-3,"-6 (2x-3)":-6,"0 (0x-2)":0,"-2 (1x-2)":-2,"-4 (2x-2)":-4,"0 (0x-1)":0,"-1 (1x-1)":-1,"-2 (2x-1)":-2},k={NORMAL:"Normal",ADVANTAGE:"Advantage",DISADVANTAGE:"Disadvantage"},F={NONE:"None",B:"bludgeoning",P:"piercing",S:"slashing",FIRE:"fire"},D={NONE:"none",COLD_IRON:"cold iron",SILVER:"silver",ADAMANTINE:"adamantine"},L={FLATFOOT:"Flatfooted",FRIGHTENED1:"Frightened 1",FRIGHTENED2:"Frightened 2",FRIGHTENED3:"Frightened 3",FRIGHTENED4:"Frightened 4"},M={ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},P={STRIKE:"x1 hit, x2 crit",BASIC:"Basic save",ALWAYS:"Always",CRIT:"On Crit",SUCC:"On Success",FAIL:"On Failure",CRIF:"On Crit Fail",AT_LEAST_SUCC:"Success or better",AT_LEAST_FAIL:"Failure or better",FAIL_WORSE:"Failure or worse",SUCC_WORSE:"Success or worse"},H=(n={},Object(h.a)(n,I.FIGHTER,O.STRIKE),Object(h.a)(n,I.MARTIAL,O.STRIKE),Object(h.a)(n,I.CASTER,O.STRIKE),Object(h.a)(n,I.ALCH,O.STRIKE),Object(h.a)(n,I.FIGHTERR,O.STRIKE),Object(h.a)(n,I.MARTIALR,O.STRIKE),Object(h.a)(n,I.CASTERR,O.STRIKE),Object(h.a)(n,I.ALCHR,O.STRIKE),Object(h.a)(n,I.CASTERCA,O.STRIKE),Object(h.a)(n,I.CASTERCS,O.SAVE),Object(h.a)(n,I.CASTERSA,O.STRIKE),Object(h.a)(n,I.CASTERS,O.SAVE),Object(h.a)(n,I.CASTERBR,O.SAVE),n),w=(r={},Object(h.a)(r,I.FIGHTER,y.AC),Object(h.a)(r,I.MARTIAL,y.AC),Object(h.a)(r,I.CASTER,y.AC),Object(h.a)(r,I.ALCH,y.AC),Object(h.a)(r,I.FIGHTERR,y.AC),Object(h.a)(r,I.MARTIALR,y.AC),Object(h.a)(r,I.CASTERR,y.AC),Object(h.a)(r,I.ALCHR,y.AC),Object(h.a)(r,I.CASTERCA,y.AC),Object(h.a)(r,I.CASTERCS,y.REF),Object(h.a)(r,I.CASTERSA,y.AC),Object(h.a)(r,I.CASTERS,y.REF),Object(h.a)(r,I.CASTERBR,y.REF),r),W=(c={},Object(h.a)(c,I.FIGHTER,P.STRIKE),Object(h.a)(c,I.MARTIAL,P.STRIKE),Object(h.a)(c,I.CASTER,P.STRIKE),Object(h.a)(c,I.ALCH,P.STRIKE),Object(h.a)(c,I.FIGHTERR,P.STRIKE),Object(h.a)(c,I.MARTIALR,P.STRIKE),Object(h.a)(c,I.CASTERR,P.STRIKE),Object(h.a)(c,I.ALCHR,P.STRIKE),Object(h.a)(c,I.CASTERC,P.STRIKE),Object(h.a)(c,I.CASTERS,P.BASIC),Object(h.a)(c,I.CASTERCA,P.STRIKE),Object(h.a)(c,I.CASTERCS,P.BASIC),Object(h.a)(c,I.CASTERSA,P.STRIKE),Object(h.a)(c,I.CASTERS,P.BASIC),Object(h.a)(c,I.CASTERBR,P.BASIC),c),B={},G={},K={},U={},_={},z={},V={},Y={},X={},J={},$={},q=1;q<=20;q++)J[q]=Math.floor((q+1)/2),$[q]=2*Math.floor((q+1)/2);for(var Q={},Z={},ee={},te={},ae={},ne={},re={},ce={},ie={},le={},se={},ue={},oe={},de={},me=1;me<=20;me++)B[me]=0,G[me]=4,K[me]=3,U[me]=2,_[me]=2,z[me]=2,V[me]=2,Y[me]=0,X[me]=1,Q[me]=0,Z[me]=0,me>=2&&(Y[me]=1),me>=4&&(X[me]=2),me>=5&&(U[me]=4,K[me]=4),me>=7&&(_[me]=4,Q[me]=1,V[me]=4),me>=10&&(Y[me]=2,G[me]=5),me>=11&&(z[me]=4),me>=12&&(X[me]=3),me>=13&&(U[me]=6,Z[me]=1),me>=15&&(Q[me]=2,K[me]=5,V[me]=6),me>=16&&(Y[me]=3),me>=17&&(G[me]=6),me>=19&&(X[me]=4,V[me]=8),me>=20&&(G[me]=7),ee[me]=me+U[me]+G[me]+Y[me]+2,te[me]=me+U[me]+G[me]+Y[me],ae[me]=me+z[me]+K[me]+Y[me],ne[me]=me+_[me]+K[me]+Y[me],re[me]=me+V[me]+G[me],ce[me]=10+me+V[me]+G[me],ie[me]=G[me]+Q[me]*(U[me]+2)/2,le[me]=Q[me]*(U[me]+2)/2,se[me]=G[me]+Q[me]*U[me]/2,ue[me]=Q[me]*U[me]/2,oe[me]=K[me]+Z[me]*z[me]/2,de[me]=Z[me]*z[me]/2;var pe=(i={},Object(h.a)(i,I.FIGHTER,ee),Object(h.a)(i,I.MARTIAL,te),Object(h.a)(i,I.CASTER,ae),Object(h.a)(i,I.ALCH,ne),Object(h.a)(i,I.FIGHTERR,ee),Object(h.a)(i,I.MARTIALR,te),Object(h.a)(i,I.CASTERR,ae),Object(h.a)(i,I.ALCHR,ne),Object(h.a)(i,I.CASTERCA,re),Object(h.a)(i,I.CASTERCS,ce),Object(h.a)(i,I.CASTERSA,re),Object(h.a)(i,I.CASTERS,ce),Object(h.a)(i,I.CASTERBR,ce),i),fe=(l={},Object(h.a)(l,I.FIGHTER,X),Object(h.a)(l,I.MARTIAL,X),Object(h.a)(l,I.CASTER,X),Object(h.a)(l,I.ALCH,X),Object(h.a)(l,I.FIGHTERR,X),Object(h.a)(l,I.MARTIALR,X),Object(h.a)(l,I.CASTERR,X),Object(h.a)(l,I.ALCHR,X),Object(h.a)(l,I.CASTERCA,J),Object(h.a)(l,I.CASTERCS,J),Object(h.a)(l,I.CASTERSA,B),Object(h.a)(l,I.CASTERS,B),Object(h.a)(l,I.CASTERBR,$),l),Ee=(s={},Object(h.a)(s,I.FIGHTER,ie),Object(h.a)(s,I.MARTIAL,se),Object(h.a)(s,I.CASTER,oe),Object(h.a)(s,I.ALCH,oe),Object(h.a)(s,I.FIGHTERR,le),Object(h.a)(s,I.MARTIALR,ue),Object(h.a)(s,I.CASTERR,de),Object(h.a)(s,I.ALCHR,de),Object(h.a)(s,I.CASTERCA,G),Object(h.a)(s,I.CASTERCS,G),Object(h.a)(s,I.CASTERSA,B),Object(h.a)(s,I.CASTERS,B),Object(h.a)(s,I.CASTERBR,B),s),ve={"-1":18,0:19,1:19,2:21,3:22,4:24,5:25,6:27,7:28,8:30,9:31,10:33,11:34,12:36,13:37,14:39,15:40,16:42,17:43,18:45,19:46,20:48,21:49,22:51,23:52,24:54},ge=Object(A.a)({},ve);for(var he in ge)ge[he]-=3;var be=Object(A.a)({},ve);for(var Re in be)be[Re]-=4;var Ae=Object(A.a)({},ve);for(var Ce in Ae)Ae[Ce]-=6;var Oe=(u={},Object(h.a)(u,S.EXTREME,ve),Object(h.a)(u,S.HIGH,ge),Object(h.a)(u,S.MODERATE,be),Object(h.a)(u,S.LOW,Ae),u),Ie=(o={},Object(h.a)(o,T.EXTREME,{"-1":9,0:10,1:11,2:12,3:14,4:15,5:17,6:18,7:20,8:21,9:23,10:24,11:26,12:27,13:29,14:30,15:32,16:33,17:35,18:36,19:38,20:39,21:41,22:43,23:44,24:46}),Object(h.a)(o,T.HIGH,{"-1":8,0:9,1:10,2:11,3:12,4:14,5:15,6:17,7:18,8:19,9:21,10:22,11:24,12:25,13:26,14:28,15:29,16:30,17:32,18:33,19:35,20:36,21:38,22:39,23:40,24:42}),Object(h.a)(o,T.MODERATE,{"-1":5,0:6,1:7,2:8,3:9,4:11,5:12,6:14,7:15,8:16,9:18,10:19,11:21,12:22,13:23,14:25,15:26,16:28,17:29,18:30,19:32,20:33,21:35,22:36,23:37,24:38}),Object(h.a)(o,T.LOW,{"-1":2,0:3,1:4,2:5,3:6,4:8,5:9,6:11,7:12,8:13,9:15,10:16,11:18,12:19,13:20,14:22,15:23,16:25,17:26,18:27,19:29,20:30,21:32,22:33,23:34,24:36}),Object(h.a)(o,T.TERRIBLE,{"-1":0,0:1,1:2,2:3,3:4,4:6,5:7,6:8,7:10,8:11,9:12,10:14,11:15,12:16,13:18,14:19,15:20,16:22,17:23,18:24,19:26,20:27,21:28,22:30,23:31,24:32}),o),Se=Object(R.b)(),Te=0,ye=Object(R.c)({name:"weaknesses",initialState:Se.getInitialState(),reducers:{weaknessAdded:Se.addOne,weaknessUpdated:Se.updateOne,weaknessCreated:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.type,c=a.value;Se.addOne(e,{id:n,type:r,value:c})},prepare:function(e){var t=e.parentId,a=e.type,n=e.value;return{payload:{id:++Te,parentId:t,type:a,value:n}}}},weaknessRemoved:Se.removeOne}}),je=ye.actions,xe=je.weaknessRemoved,Ne=je.weaknessCreated,ke=(je.weaknessAdded,je.weaknessUpdated),Fe=ye.reducer,De=Se.getSelectors((function(e){return e.weaknesses})),Le=De.selectById,Me=(De.selectIds,De.selectEntities),Pe=(De.selectAll,De.selectTotal,Object(R.b)()),He=Object(R.c)({name:"targets",initialState:Pe.getInitialState(),reducers:{targetAdded:Pe.addOne,targetUpdated:{prepare:function(e){var t=e.id,a=e.changes,n=e.match,r=e.level;return r||(r=1),r<1&&(r=1),r>20&&(r=20),{payload:{id:t,changes:a,match:n,level:r}}},reducer:function(e,t){Pe.updateOne(e,t.payload);var a=e.entities[t.payload.id];a.level||(a.level=0),a.level<-1&&(a.level=-1),a.level>24&&(a.level=24),a.useDefaultAC&&(a[y.AC]=Oe[a.defaultAC][a.level]),a.useDefaultFort&&(a[y.FORT]=Ie[a.defaultFort][a.level]),a.useDefaultRef&&(a[y.REF]=Ie[a.defaultRef][a.level]),a.useDefaultWill&&(a[y.WILL]=Ie[a.defaultWill][a.level]),a.useDefaultPer&&(a[y.PER]=Ie[a.defaultPer][a.level])}}},extraReducers:function(e){e.addCase(Ne,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].weaknesses.push(r)})).addCase(xe,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].weaknesses=e.entities[n].weaknesses.filter((function(e){return e!==r}))}))}}),we=He.actions,We=we.targetAdded,Be=we.targetUpdated,Ge=He.reducer,Ke=Pe.getSelectors((function(e){return e.targets})),Ue=Ke.selectById,_e=(Ke.selectIds,Ke.selectEntities);Ke.selectAll,Ke.selectTotal;var ze=function(e){var t=e.id,a=e.parentId,n=Object(b.c)((function(e){return Le(e,t)})),r=n.type,c=n.value,i=Object(b.b)();return m.a.createElement("span",{className:"input"},m.a.createElement(Xe,{value:r,onChange:function(e){e.target.value===F.NONE?i(xe({id:t,parentId:a})):i(ke({id:t,changes:{type:e.target.value}}))}}),m.a.createElement("input",{type:"number",value:c,onChange:function(e){isNaN(e.target.value)||i(ke({id:t,changes:{value:parseInt(e.target.value)}}))}}))},Ve=0,Ye=function(e){var t=e.parentId,a=Object(b.b)(),n=Object(d.useState)(0),r=Object(g.a)(n,2),c=r[0],i=r[1];return m.a.createElement("span",{className:"input"},m.a.createElement(Xe,{value:F.NONE,onChange:function(e){e.target.value!==F.NONE&&(Ve++,a(Ne({id:Ve,type:e.target.value,value:c,parentId:t})))}}),m.a.createElement("input",{type:"number",value:c,onChange:function(e){return i(parseInt(e.target.value))}}))},Xe=function(e){var t=e.value,a=e.onChange,n=[];for(var r in F)n.push(m.a.createElement("option",{key:r},F[r]));for(var c in D)D[c]!==D.NONE&&n.push(m.a.createElement("option",{key:c},D[c]));return m.a.createElement("span",null,m.a.createElement("select",{value:t,onChange:function(e){return a(e)}},n))},Je=function(e){var t=e.id,a=Object(b.c)((function(e){return Ue(e,0)})),n=a.name,r=a.level,c=a.matchRoutines,i=a.levelDiff,l=a[y.AC],s=a.defaultAC,u=a.useDefaultAC,o=a[y.FORT],d=a.defaultFort,p=a.useDefaultFort,f=a[y.REF],E=a.defaultRef,v=a.useDefaultRef,g=a[y.WILL],R=a.defaultWill,A=a.useDefaultWill,C=a[y.PER],O=a.defaultPer,I=a.useDefaultPer,j=a.flatfooted,x=a.weaknesses,N=Object(b.b)(),k=[];for(var F in S)k.push(m.a.createElement("option",{key:F},S[F]));var D=[];for(var L in T)D.push(m.a.createElement("option",{key:L},T[L]));return m.a.createElement("div",{className:"box flexbox"},m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"targetName"},"Target Name: "),m.a.createElement("input",{id:"targetName",type:"text",placeholder:"Enter Target name",value:n,onChange:function(e){return N(Be({id:t,changes:{name:e.target.value}}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"Level"}," Level: "),m.a.createElement("input",{id:"Level",type:"number",value:r,onChange:function(e){return N(Be({id:t,changes:{level:parseInt(e.target.value)},match:c,level:parseInt(e.target.value)-i}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"match"}," Match routine levels: "),m.a.createElement("input",{type:"checkbox",checked:c,onChange:function(e){return N(Be({id:t,changes:{matchRoutines:e.target.checked},match:e.target.checked,level:r-i}))}}),m.a.createElement("input",{type:"number",value:i,onChange:function(e){return N(Be({id:t,changes:{levelDiff:parseInt(e.target.value)},match:c,level:r-parseInt(e.target.value)}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"AC"}," AC: "),m.a.createElement("input",{type:"checkbox",checked:u,onChange:function(e){return N(Be({id:t,changes:{useDefaultAC:e.target.checked}}))}}),m.a.createElement("select",{value:s,onChange:function(e){return N(Be({id:t,changes:{defaultAC:e.target.value}}))}},k),m.a.createElement("input",{id:"AC",type:"number",value:l,onChange:function(e){return N(Be({id:t,changes:Object(h.a)({useDefaultAC:!1},y.AC,parseInt(e.target.value))}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"Fort"}," Fort: "),m.a.createElement("input",{type:"checkbox",checked:p,onChange:function(e){return N(Be({id:t,changes:{useDefaultFort:e.target.checked}}))}}),m.a.createElement("select",{value:d,onChange:function(e){return N(Be({id:t,changes:{defaultFort:e.target.value}}))}},D),m.a.createElement("input",{id:"Fort",type:"number",value:o,onChange:function(e){return N(Be({id:t,changes:Object(h.a)({},y.FORT,parseInt(e.target.value))}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"Ref"}," Ref: "),m.a.createElement("input",{type:"checkbox",checked:v,onChange:function(e){return N(Be({id:t,changes:{useDefaultRef:e.target.checked}}))}}),m.a.createElement("select",{value:E,onChange:function(e){return N(Be({id:t,changes:{defaultRef:e.target.value}}))}},D),m.a.createElement("input",{id:"Ref",type:"number",value:f,onChange:function(e){return N(Be({id:t,changes:Object(h.a)({},y.REF,parseInt(e.target.value))}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"Will"}," Will: "),m.a.createElement("input",{type:"checkbox",checked:A,onChange:function(e){return N(Be({id:t,changes:{useDefaultWill:e.target.checked}}))}}),m.a.createElement("select",{value:R,onChange:function(e){return N(Be({id:t,changes:{defaultWill:e.target.value}}))}},D),m.a.createElement("input",{id:"Will",type:"number",value:g,onChange:function(e){return N(Be({id:t,changes:Object(h.a)({},y.WILL,parseInt(e.target.value))}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"Perception"}," Perception: "),m.a.createElement("input",{type:"checkbox",checked:I,onChange:function(e){return N(Be({id:t,changes:{useDefaultPer:e.target.checked}}))}}),m.a.createElement("select",{value:O,onChange:function(e){return N(Be({id:t,changes:{defaultPer:e.target.value}}))}},D),m.a.createElement("input",{id:"Perception",type:"number",value:C,onChange:function(e){return N(Be({id:t,changes:Object(h.a)({},y.PER,parseInt(e.target.value))}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"Flatfooted"}," Flatfooted: "),m.a.createElement("input",{id:"Flatfooted",type:"checkbox",checked:j,onChange:function(e){return N(Be({id:t,changes:{flatfooted:e.target.checked}}))}})),m.a.createElement("div",{className:"box flexbox"}," Resistance/Weakness: ",x.map((function(e){return m.a.createElement(ze,{parentId:t,id:e,key:e})})),m.a.createElement(Ye,{parentId:t})))},$e=a(8),qe=a(23),Qe=function(e,t){if(0===e.length||0===t.length)throw new Error("Vectors can not be empty!");for(var a=e,n=t,r=0,c=[],i=0;i<a.length;i++){for(var l=0;l<n.length;l++)r+l!==c.length?c[r+l]=c[r+l]+a[i]*n[l]:c.push(a[i]*n[l]);r++}return c},Ze=function(){for(var e=0,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];for(var r=0,c=a;r<c.length;r++){var i=c[r];e=Math.max(e,i[0].staticDamage+i[0].damageDist.length)}for(var l=[],s=0;s<e;s++){l.push(0);var u,o=Object($e.a)(a);try{for(o.s();!(u=o.n()).done;){var d=u.value;if(d[0].staticDamage<=s){var m=s-d[0].staticDamage;m<d[0].damageDist.length&&(l[s]+=d[0].damageDist[m]*d[1])}}}catch(p){o.e(p)}finally{o.f()}}return l},et=function(e,t,a){for(;e<a;)t.length>=2&&(t[1]+=t[0],t.shift()),e++;return[e,t]},tt=Object(R.b)(),at=1,nt=Object(R.c)({name:"damages",initialState:tt.getInitialState(),reducers:{damageAdded:tt.addOne,damageUpdated:tt.updateOne,damageCreated:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.damageCondition,c=a.diceNum,i=a.diceSize,l=a.staticDamage,s=a.damageType,u=a.material,o=a.persistent;tt.addOne(e,{id:n,damageCondition:r,diceNum:c,diceSize:i,staticDamage:l,damageType:s,material:u,persistent:o})},prepare:function(e){var t=e.parentId;return{payload:{id:++at,parentId:t,damageCondition:P.STRIKE,diceNum:0,diceSize:8,staticDamage:0,damageType:F.S,material:D.NONE,persistent:!1}}}},damageRemoved:function(e,t){tt.removeOne(e,t.payload.id)}}}),rt=nt.actions,ct=rt.damageRemoved,it=rt.damageCreated,lt=(rt.damageAdded,rt.damageUpdated),st=nt.reducer,ut=tt.getSelectors((function(e){return e.damages})),ot=ut.selectById,dt=(ut.selectIds,ut.selectEntities),mt=(ut.selectAll,ut.selectTotal,Object(R.b)()),pt=1,ft=Object(R.c)({name:"effects",initialState:mt.getInitialState(),reducers:{effectAdded:mt.addOne,effectUpdated:mt.updateOne,effectCreated:{reducer:function(e,t){var a=t.payload.id;mt.addOne(e,{id:a,effectCondition:M.ALWAYS,effectType:L.FLATFOOT})},prepare:function(e){var t=e.parentId;return{payload:{id:++pt,parentId:t}}}},effectRemoved:function(e,t){mt.removeOne(e,t.payload.id)}}}),Et=ft.actions,vt=(Et.effectAdded,Et.effectUpdated),gt=Et.effectCreated,ht=Et.effectRemoved,bt=ft.reducer,Rt=mt.getSelectors((function(e){return e.effects})),At=Rt.selectById,Ct=(Rt.selectIds,Rt.selectEntities);Rt.selectAll,Rt.selectTotal;function Ot(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];function n(t){var r=e.entities[t];if(!r.override){var c=r.defaultActivity;if(r.type=H[c],r.targetType=w[c],r.value=pe[c][r.level],r.damageCondition=W[c],r.diceNum=fe[c][r.level],r.staticDamage=Ee[c][r.level],a){var i,l=Object($e.a)(r.apIds);try{for(l.s();!(i=l.n()).done;){var s=i.value;e.entities[s].level=r.level,n(s)}}catch(u){l.e(u)}finally{l.f()}}}}n(t)}var It=Object(R.b)(),St=1,Tt={level:1,useDefault:!1,defaultActivity:I.FIGHTER,type:O.STRIKE,targetType:y.AC,value:9,MAP:j.N1,damageCondition:P.STRIKE,diceNum:1,diceSize:8,staticDamage:4,damageType:F.S,material:D.NONE},yt=Object(R.c)({name:"activityPaths",initialState:It.getInitialState(),reducers:{activityPathAdded:It.addOne,activityPathUpdated:function(e,t){It.updateOne(e,t.payload),Ot(e,t.payload.id)},activityPathRemoved:function(e,t){var a=t.payload,n=a.id,r=a.parentId;It.removeOne(e,n),void 0!==r&&(e.entities[r].apIds=e.entities[r].apIds.filter((function(e){return e!==n})))},activityPathCreated:{reducer:function(e,t){var a,n=t.payload,r=n.id,c=n.parentId,i=n.applyMAP;a=void 0!==c?e.entities[c]:Tt,It.addOne(e,{id:r,condition:M.ALWAYS,override:!1,level:a.level,useDefault:a.useDefault,defaultActivity:a.defaultActivity,type:a.type,targetType:a.targetType,targetInfoId:0,value:a.value,MAP:i?x[a.MAP]:a.MAP,damageCondition:a.damageCondition,diceNum:a.diceNum,diceSize:a.diceSize,staticDamage:a.staticDamage,damageType:a.damageType,material:a.material,damages:[],effects:[],apIds:[]}),void 0!==c&&e.entities[c].apIds.push(r)},prepare:function(e){var t=e.parentId,a=e.routineId,n=e.applyMAP;return{payload:{id:++St,parentId:t,routineId:a,applyMAP:n}}}}},extraReducers:function(e){e.addCase(it,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].damages.push(r)})).addCase(ct,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].damages=e.entities[n].damages.filter((function(e){return e!==r}))})).addCase(gt,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].effects.push(r)})).addCase(ht,(function(e,t){var a=t.payload,n=a.parentId,r=a.id;e.entities[n].effects=e.entities[n].effects.filter((function(e){return e!==r}))})).addCase(Be,(function(e,t){var a=t.payload,n=a.match,r=a.level;if(Tt.level=r,n){var c,i=Object($e.a)(e.ids);try{for(i.s();!(c=i.n()).done;){var l=c.value;e.entities[l].level=r,Ot(e,l,!1)}}catch(s){i.e(s)}finally{i.f()}}}))}}),jt=yt.actions,xt=jt.activityPathCreated,Nt=jt.activityPathAdded,kt=jt.activityPathUpdated,Ft=jt.activityPathRemoved,Dt=yt.reducer,Lt=It.getSelectors((function(e){return e.activityPaths})),Mt=Lt.selectById,Pt=(Lt.selectIds,Lt.selectEntities),Ht=(Lt.selectAll,Lt.selectTotal,Object(R.b)()),wt=1,Wt=Object(R.c)({name:"routines",initialState:Ht.getInitialState({selectedRoutine:0}),reducers:{setRoutine:function(e,t){e.selectedRoutine=t.payload||0},routineAdded:Ht.addOne,routineUpdated:Ht.updateOne,routineRemoved:function(e,t){Ht.removeOne(e,t),t.payload===e.selectedRoutine&&(e.selectedRoutine=e.ids?e.ids[0]:void 0)},routineCreated:{reducer:function(e,t){var a=t.payload,n=a.id,r=a.name,c=a.apIds;e.selectedRoutine=n,Ht.addOne(e,{id:n,name:r,display:!0,apIds:c})},prepare:function(){return{payload:{id:++wt,name:"New Routine",apIds:[]}}}}},extraReducers:function(e){e.addCase(xt,(function(e,t){var a=t.payload,n=a.routineId,r=a.id;void 0!==n&&e.entities[n].apIds.push(r)})).addCase(Ft,(function(e,t){var a=t.payload,n=a.routineId,r=a.id;void 0!==n&&(e.entities[n].apIds=e.entities[n].apIds.filter((function(e){return e!==r})))}))}}),Bt=Wt.actions,Gt=Bt.routineCreated,Kt=Bt.setRoutine,Ut=(Bt.updateSelected,Bt.routineAdded),_t=Bt.routineUpdated,zt=Bt.routineRemoved,Vt=Wt.reducer,Yt=Ht.getSelectors((function(e){return e.routines})),Xt=Yt.selectById,Jt=(Yt.selectIds,Yt.selectEntities),$t=Yt.selectAll,qt=(Yt.selectTotal,function(e){return e.routines.selectedRoutine}),Qt=a(19),Zt=a(20);var ea=function(e,t,a,n,r,c,i){e=n?e.persistent:e.normal;var l=function(e,t,a){if(0===a)return[0,[1]];if(1===a)return[e,Object(qe.a)(t)];var n,r=[0],c=0,i=Math.floor(e*a),l=0,s=i,u=Object($e.a)(t);try{for(u.s();!(n=u.n()).done;){var o=n.value,d=Math.floor((e+l)*a);if(d===s)r[c]+=o;else{if(d>s+1)for(var m=0;m<d-(s+1);m++)r[++c]=0;r[++c]=o}s=d,l++}}catch(p){u.e(p)}finally{u.f()}return[i,r]}(r,c,i),s=Object(g.a)(l,2);r=s[0],c=s[1],t in e?(e[t].staticDamage+=r,e[t].damageDist=Qe(e[t].damageDist,c),a!==D.NONE&&(e[t].material=a)):e[t]={material:a,staticDamage:r,damageDist:c}};function ta(e,t){var a=[];switch(e){case M.ALWAYS:a=[0,1,2,3];break;case M.AT_LEAST_FAIL:a=[0,1,2];break;case M.AT_LEAST_SUCC:a=[0,1];break;case M.CRIF:a=[3];break;case M.CRIT:a=[0];break;case M.FAIL:a=[2];break;case M.FAIL_WORSE:a=[2,3];break;case M.SUCC:a=[1];break;case M.SUCC_WORSE:a=[1,2,3]}return a.includes(t)}var aa=function(){function e(t,a,n,r,c){Object(Qt.a)(this,e),this.activityPaths=t,this.targets=a,this.damages=n,this.effects=r,this.weaknesses=c}return Object(Zt.a)(e,[{key:"evalPath",value:function(e,t,a,n){var r=this,c=this.targets[0],i=e.damages.map((function(e){return r.damages[e]}));i.push(e);for(var l=e.effects.map((function(e){return r.effects[e]})),s=c.weaknesses.map((function(e){return r.weaknesses[e]})),u=function(e,t,a,n,r,c,i){var l,s;switch(e.type){case O.STRIKE:l=e.value,l+=N[e.MAP],s=a[e.targetType]+c-n.frightened,e.targetType===y.AC?(a.flatfooted||n.flatfooted)&&(s-=2):s+=10;break;case O.SAVE:l=a[e.targetType]+c-n.frightened,s=e.value,e.targetType===y.AC&&(l-=10);break;default:console.log("Activity type ".concat(e.type," not implemented"))}var u=function(e,t){var a=e-t;return a<-20?0:-20===a?5:a<-9?arguments.length>2&&void 0!==arguments[2]&&arguments[2]?10:5:a<8?5*(11+a):95}(l,s),o=function(e,t){var a=e-t;return a<-29?0:a<-20?5:-20===a?0:a<-9?5*(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?19:20+a):a<-1?50:a<9?5*(8-a):5}(l,s),d=function(e,t){var a=e-t;return a<-29?5:a<-20?5*(29+a):a<-10?45:a<-1?5*(-2-a):a<9?5:0}(l,s),m=function(e,t){var a=e-t;return a<-29?95:a<-10?5*(-10-a):a<-1?5:0}(l,s);if(e.rollType===k.ADVANTAGE){var p=100-u,f=p-o,E=f-d;d=100-E*E/100-(o=100-f*f/100-(u=100-p*p/100))-u,m=m*m/100}else if(e.rollType===k.DISADVANTAGE){var v=100-m,h=v-d,b=h-o;o=100-b*b/100-(d=100-h*h/100-(m=100-v*v/100))-m,u=u*u/100}var R=[u/100,o/100,d/100,m/100],A={normal:{},persistent:{}},C={normal:{},persistent:{}},I={normal:{},persistent:{}},S={normal:{},persistent:{}},T=[A,C,I,S];t.forEach((function(e){var t=e.damageCondition,a=e.diceNum,n=e.diceSize,r=e.staticDamage,c=e.damageType,i=e.material,l=e.persistent;r||(r=0);for(var s=[1],u=[],o=0;o<n;o++)u.push(1/n);for(var d=0;d<a;d++)s=Qe(s,u);switch(r+=a,t){case P.STRIKE:ea(C,c,i,l,r,s,1),ea(A,c,i,l,r,s,2);break;case P.BASIC:ea(C,c,i,l,r,s,.5),ea(I,c,i,l,r,s,1),ea(S,c,i,l,r,s,2);break;case P.CRIF:ea(S,c,i,l,r,s,1);break;case P.FAIL:ea(I,c,i,l,r,s,1);break;case P.SUCC:ea(C,c,i,l,r,s,1);break;case P.CRIT:ea(A,c,i,l,r,s,1);break;case P.AT_LEAST_SUCC:ea(C,c,i,l,r,s,1),ea(A,c,i,l,r,s,1);break;case P.AT_LEAST_FAIL:ea(I,c,i,l,r,s,1),ea(C,c,i,l,r,s,1),ea(A,c,i,l,r,s,1);break;case P.FAIL_WORSE:ea(S,c,i,l,r,s,1),ea(I,c,i,l,r,s,1);break;case P.SUCC_WORSE:ea(S,c,i,l,r,s,1),ea(I,c,i,l,r,s,1),ea(C,c,i,l,r,s,1);break;case P.ALWAYS:ea(S,c,i,l,r,s,1),ea(I,c,i,l,r,s,1),ea(C,c,i,l,r,s,1),ea(A,c,i,l,r,s,1);break;default:console.log("Damage condition ".concat(e.condition," not implemented yet."))}}));for(var j=0,x=T;j<x.length;j++)for(var F=x[j],D=0,L=["normal","persistent"];D<L.length;D++){var M=L[D],H=0,w=[1],W=function(e){var t=F[M][e],a=t.material,n=t.staticDamage,c=t.damageDist;if(1===c.length&&n<=0)return"continue";var l=et(n,c,1),s=Object(g.a)(l,2);n=s[0],c=s[1];var u=0,o=0;r.forEach((function(t){t.type!==e&&t.type!==a||(t.value+i<0?u=Math.min(u,t.value+i):t.value+i>0&&(o=Math.max(o,t.value+i)))}));var d=et(n-=o+u,c,0),m=Object(g.a)(d,2);n=m[0],c=m[1],H+=n,w=Qe(w,c)};for(var B in F[M])W(B);F[M].staticDamage=H,F[M].damageDist=w}return[T,R]}(e,i,c,t,s,a,n),o=Object(g.a)(u,2),d=o[0],m=o[1],p=[t,t,t,t],f=function(e){l.forEach((function(t){var a=t.effectCondition,n=t.effectType;if(ta(a,e))switch(n){case L.FLATFOOT:!0!==p[e].flatfooted&&(p[e]=Object(A.a)(Object(A.a)({},p[e]),{},{flatfooted:!0}));break;case L.FRIGHTENED1:p[e].frightened<1&&(p[e]=Object(A.a)(Object(A.a)({},p[e]),{},{frightened:1}));break;case L.FRIGHTENED2:p[e].frightened<2&&(p[e]=Object(A.a)(Object(A.a)({},p[e]),{},{frightened:2}));break;case L.FRIGHTENED3:p[e].frightened<3&&(p[e]=Object(A.a)(Object(A.a)({},p[e]),{},{frightened:3}));break;case L.FRIGHTENED4:p[e].frightened<4&&(p[e]=Object(A.a)(Object(A.a)({},p[e]),{},{frightened:4}));break;default:console.log("Effect type ".concat(n," not implemented"))}}))},E=0;E<4;E++)f(E);return e.apIds.forEach((function(e){for(var t=r.activityPaths[e],n=new Map,c=0;c<4;c++)if(ta(t.condition,c)){if(n.has(p[c]));else{var i=r.evalPath(t,p[c],a),l=Object(g.a)(i,2),s=l[0],u=l[1];n.set(p[c],{pathDist:s,pathPDist:u})}d[c].normal.damageDist=Qe(d[c].normal.damageDist,n.get(p[c]).pathDist),d[c].persistent.damageDist=Qe(d[c].persistent.damageDist,n.get(p[c]).pathPDist)}})),[Ze([d[0].normal,m[0]],[d[1].normal,m[1]],[d[2].normal,m[2]],[d[3].normal,m[3]]),Ze([d[0].persistent,m[0]],[d[1].persistent,m[1]],[d[2].persistent,m[2]],[d[3].persistent,m[3]])]}}]),e}(),na=a(21),ra=a.n(na),ca=a(22),ia=a.n(ca)()(ra.a),la=function(){var e=Object(d.useState)(!1),t=Object(g.a)(e,2),a=t[0],n=t[1],r=Object(d.useState)(C.DISTRIBUTION),c=Object(g.a)(r,2),i=c[0],l=c[1],s=Object(b.c)(Jt),u=Object(b.c)(Pt),o=Object(b.c)(_e),p=Object(b.c)(dt),f=Object(b.c)(Ct),E=Object(b.c)(Me),v=o[0],h="Expected Damage";i!==C.DISTRIBUTION&&i!==C.PMDEFENSE&&i!==C.PMRES||(h+=" Vs ",h+=" AC: "+v[y.AC],h+=" Fort: "+v[y.FORT],h+=" Ref: "+v[y.REF],h+=" Will: "+v[y.WILL],h+=" Per: "+v[y.PER]);var R=new aa(u,o,p,f,E),A={flatfooted:!1,frightened:0},O=0,I=0;i!==C.PMDEFENSE&&i!==C.PMRES||(O=-5,I=5);var S=0,T=0,j=[],x=[],N=[],k=[];for(var F in s){var D=s[F];if(D.display){for(var L=[],M=[],P=[],H=O;H<=I;H++){L.push(H);var w=H,W=0;i===C.PMRES&&(w=0,W=H);for(var B=0,G=0,K=[1],U=[1],_=0;_<D.apIds.length;_++){var z=u[D.apIds[_]],V=R.evalPath(z,A,w,W),Y=Object(g.a)(V,2),X=Y[0],J=Y[1];K=Qe(K,X),U=Qe(U,J)}S=Math.max(S,K.length-1),T=Math.max(T,U.length-1);for(var $=[],q=[],Q=[],Z=[],ee=1,te=0;te<K.length;te++)i===C.DISTRIBUTION&&($.push(te),q.push(ee),ee-=K[te]),B+=K[te]*te;ee=1;for(var ae=0;ae<U.length;ae++)i===C.DISTRIBUTION&&(Q.push(ae),Z.push(ee),ee-=U[ae]),G+=U[ae]*ae;0===H&&(N.push(m.a.createElement("div",{key:D.id},D.name,": ",B.toFixed(2))),k.push(m.a.createElement("div",{key:D.id},D.name,": ",G.toFixed(2)))),i===C.DISTRIBUTION?(j.push({type:"scatter",name:D.name,x:$,y:q,yaxis:"y"}),j.push({type:"bar",name:B.toFixed(2),x:$,y:K}),x.push({type:"scatter",name:D.name,x:Q,y:Z}),x.push({type:"bar",name:G.toFixed(2),x:Q,y:U})):i!==C.PMDEFENSE&&i!==C.PMRES||(M.push(B),P.push(G))}i!==C.PMDEFENSE&&i!==C.PMRES||(j.push({type:"scatter",name:D.name,x:L,y:M,yaxis:"y"}),x.push({type:"scatter",name:D.name,x:L,y:P,yaxis:"y"}))}}var ne,re,ce=[],ie=[];if(i===C.DISTRIBUTION){ne="damage",re="chance";for(var le=0;le<=S;le++)ce.push(le);for(var se=0;se<=T;se++)ie.push(se)}else if(i===C.PMDEFENSE){ne="+/- AC/Save Bonus",re="Expected Damage";for(var ue=O;ue<=I;ue++)ce.push(ue),ie.push(ue)}else if(i===C.PMRES){ne="+/- Resistance/Weakness",re="Expected Damage";for(var oe=O;oe<=I;oe++)ce.push(oe),ie.push(oe)}var de=m.a.createElement(ia,{classname:"plot",data:j,layout:{title:h,autosize:!0,xaxis:{title:ne},yaxis:{title:re},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}}),me=m.a.createElement(ia,{classname:"plot",data:x,layout:{title:"Expected Persistent Damage",autosize:!0,xaxis:{title:"persistent damage"},yaxis:{title:"chance"},legend:{x:1,y:1,xanchor:"right"},margin:{l:40,r:40}},useResizeHandler:!0,style:{width:"100%",height:"100%"}}),pe=[];for(var fe in C)pe.push(m.a.createElement("option",{key:fe},C[fe]));return m.a.createElement("div",{className:"box"},"Graph Type: ",m.a.createElement("select",{value:i,onChange:function(e){return l(e.target.value)}},pe)," Show persistent damage: ",m.a.createElement("input",{type:"checkbox",checked:a,onChange:function(e){return n(e.target.checked)}}),m.a.createElement("div",null,"Expected Damage:",N),de,a?m.a.createElement("div",null,m.a.createElement("div",null,"Expected Persistent Damage:",k),me):"")},sa=[];for(var ua in M)sa.push(m.a.createElement("option",{key:ua},M[ua]));var oa=[];for(var da in I)oa.push(m.a.createElement("option",{key:da},I[da]));var ma=[];for(var pa in O)ma.push(m.a.createElement("option",{key:pa},O[pa]));var fa=[];for(var Ea in j)fa.push(m.a.createElement("option",{key:Ea},j[Ea]));var va=[];for(var ga in y)va.push(m.a.createElement("option",{key:ga},y[ga]));var ha=[];for(var ba in k)ha.push(m.a.createElement("option",{key:ba},k[ba]));var Ra=[];for(var Aa in P)Ra.push(m.a.createElement("option",{key:Aa},P[Aa]));var Ca=[];for(var Oa in{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20})Ca.push(m.a.createElement("option",{key:Oa},Oa));var Ia=[];for(var Sa in{4:4,6:6,8:8,10:10,12:12})Ia.push(m.a.createElement("option",{key:Sa},Sa));var Ta=[];for(var ya in F)Ta.push(m.a.createElement("option",{key:ya},F[ya]));var ja=[];for(var xa in D)ja.push(m.a.createElement("option",{key:xa},D[xa]));var Na=[];for(var ka in L)Na.push(m.a.createElement("option",{key:ka},L[ka]));var Fa=function(e){var t=e.id,a=Object(b.b)(),n=Object(b.c)((function(e){return Xt(e,t)})).name;return m.a.createElement("div",{className:"box"},m.a.createElement("label",{htmlFor:"routineName"},"Routine Name:"),m.a.createElement("input",{id:"routineName",type:"text",placeholder:"Enter routine name",value:n,onChange:function(e){return a(_t({id:t,changes:{name:e.target.value}}))}}))},Da=function e(t){var a=t.id,n=t.parentId,r=t.routineId,c=t.displayCondition,i=void 0===c||c,l=Object(b.c)((function(e){return Mt(e,a)})),s=l.condition,u=l.level,o=l.override,d=l.defaultActivity,p=l.type,f=l.targetType,E=l.value,v=l.MAP,g=l.rollType,h=l.damageCondition,R=l.diceNum,A=l.diceSize,C=l.staticDamage,I=l.damageType,S=l.material,T=l.damages,y=l.effects,j=l.apIds,x=Object(b.b)();return m.a.createElement("div",{className:"box"},i?m.a.createElement("div",null,"Condition: ",m.a.createElement("select",{value:s,onChange:function(e){return x(kt({id:a,changes:{condition:e.target.value}}))}},sa)):"",m.a.createElement("div",{className:""},m.a.createElement("div",{className:"flexbox"},m.a.createElement("button",{className:"delete",onClick:function(e){x(Ft({id:a,parentId:n,routineId:r}))}},"-"),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"override"},"Override: "),m.a.createElement("input",{id:"override",type:"checkbox",checked:o,onChange:function(e){return x(kt({id:a,changes:{override:e.target.checked}}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("label",{htmlFor:"Level"}," Level: "),m.a.createElement("input",{id:"Level",type:"number",value:u,min:1,max:20,onChange:function(e){var t=parseInt(e.target.value)||1;t>20&&(t=20),x(kt({id:a,changes:{level:t}}))}})),m.a.createElement("span",{className:"input"},m.a.createElement("select",{value:d,onChange:function(e){return x(kt({id:a,changes:{defaultActivity:e.target.value}}))}},oa)),m.a.createElement("span",{className:"input"},m.a.createElement("select",{value:p,onChange:function(e){return x(kt({id:a,changes:{type:e.target.value}}))}},ma),p===O.STRIKE?" +":" DC: ",m.a.createElement("input",{type:"number",value:E||0,onChange:function(e){return x(kt({id:a,changes:{value:parseInt(e.target.value)}}))}})),m.a.createElement("span",{className:"input"}," MAP: ",m.a.createElement("select",{value:v,onChange:function(e){return x(kt({id:a,changes:{MAP:e.target.value}}))}},fa)),m.a.createElement("span",{className:"input"}," VS: ",m.a.createElement("select",{value:f,onChange:function(e){x(kt({id:a,changes:{targetType:e.target.value}}))}},va)),m.a.createElement("span",{className:"input"},m.a.createElement("select",{value:g,onChange:function(e){x(kt({id:a,changes:{rollType:e.target.value}}))}},ha))),m.a.createElement("div",{className:"flexbox"},"Damage:",m.a.createElement("select",{value:h,onChange:function(e){return x(kt({id:a,changes:{damageCondition:e.target.value}}))}},Ra),m.a.createElement("select",{value:R,onChange:function(e){return x(kt({id:a,changes:{diceNum:parseInt(e.target.value)}}))}},Ca),"d",m.a.createElement("select",{value:A,onChange:function(e){return x(kt({id:a,changes:{diceSize:parseInt(e.target.value)}}))}},Ia)," + ",m.a.createElement("input",{type:"number",value:C||0,onChange:function(e){return x(kt({id:a,changes:{staticDamage:parseInt(e.target.value)}}))}}),m.a.createElement("select",{value:I,onChange:function(e){x(kt({id:a,changes:{damageType:e.target.value}}))}},Ta),m.a.createElement("select",{value:S,onChange:function(e){x(lt({id:a,changes:{material:e.target.value}}))}},ja)),m.a.createElement("div",{className:"box"},"Additional Damage: ",T.map((function(e){return m.a.createElement(La,{parentId:a,id:e,key:e})})),m.a.createElement("button",{className:"add",onClick:function(){return x(it({parentId:a}))}},"+")),m.a.createElement("div",{className:"box"},"Effects: ",y.map((function(e){return m.a.createElement(Ma,{parentId:a,id:e,key:e})})),m.a.createElement("button",{className:"add",onClick:function(){return x(gt({parentId:a}))}},"+"))),m.a.createElement("div",{className:"box"},j.map((function(t){return m.a.createElement(e,{id:t,parentId:a,key:t})})),m.a.createElement("button",{className:"add",onClick:function(){return x(xt({parentId:a}))}},"+"),m.a.createElement("button",{className:"add",onClick:function(){return x(xt({parentId:a,applyMAP:!0}))}},"+MAP")))},La=function(e){var t=e.parentId,a=e.id,n=Object(b.c)((function(e){return ot(e,a)})),r=n.damageCondition,c=n.diceNum,i=n.diceSize,l=n.staticDamage,s=n.damageType,u=n.material,o=n.persistent,d=Object(b.b)();return m.a.createElement("div",{className:"box"},m.a.createElement("button",{className:"delete",onClick:function(e){d(ct({id:a,parentId:t}))}},"-"),m.a.createElement("select",{value:r,onChange:function(e){return d(lt({id:a,changes:{damageCondition:e.target.value}}))}},Ra),m.a.createElement("select",{value:c,onChange:function(e){return d(lt({id:a,changes:{diceNum:parseInt(e.target.value)}}))}},Ca),"d",m.a.createElement("select",{value:i,onChange:function(e){return d(lt({id:a,changes:{diceSize:parseInt(e.target.value)}}))}},Ia)," + ",m.a.createElement("input",{type:"number",value:l,onChange:function(e){return d(lt({id:a,changes:{staticDamage:parseInt(e.target.value)}}))}}),m.a.createElement("select",{value:s,onChange:function(e){d(lt({id:a,changes:{damageType:e.target.value}}))}},Ta),m.a.createElement("select",{value:u,onChange:function(e){d(lt({id:a,changes:{material:e.target.value}}))}},ja)," Persistent: ",m.a.createElement("input",{type:"checkbox",checked:o,onChange:function(e){return d(lt({id:a,changes:{persistent:e.target.checked}}))}}))},Ma=function(e){var t=e.parentId,a=e.id,n=Object(b.c)((function(e){return At(e,a)})),r=n.effectCondition,c=n.effectType,i=Object(b.b)();return m.a.createElement("div",{className:"box"},m.a.createElement("button",{className:"delete",onClick:function(e){i(ht({id:a,parentId:t}))}},"-"),m.a.createElement("select",{value:r,onChange:function(e){return i(vt({id:a,changes:{effectCondition:e.target.value}}))}},sa),m.a.createElement("select",{value:c,onChange:function(e){return i(vt({id:a,changes:{effectType:e.target.value}}))}},Na))},Pa=function(e){var t=e.routineId,a=Object(b.c)((function(e){return Xt(e,t)})).apIds,n=Object(b.b)();return m.a.createElement("div",{className:"selectedRoutine"},m.a.createElement(Fa,{id:t}),a.map((function(e){return m.a.createElement(Da,{id:e,routineId:t,key:e,displayCondition:!1})})),m.a.createElement("button",{className:"add",onClick:function(){return n(xt({routineId:t}))}},"+"))},Ha=function(){var e=Object(b.c)($t),t=Object(b.c)(qt),a=Object(b.b)(),n=[],r=[];return e.forEach((function(e){n.push(m.a.createElement("option",{value:e.id,key:e.id},e.name)),r.push(m.a.createElement("div",{className:"flexbox",key:e.id},m.a.createElement("button",{className:"remove",onClick:function(){return a(zt(e.id))}},"-"),m.a.createElement("span",{className:e.display?"routineOn":"routineOff",onClick:function(){return a(_t({id:e.id,changes:{display:!e.display}}))}},e.name)))})),m.a.createElement("div",{className:"box"},"Selected Routine:",m.a.createElement("select",{value:t,onChange:function(e){return a(Kt(e.target.value))}},n),m.a.createElement("button",{className:"add",onClick:function(){return a(Gt())}},"+"),m.a.createElement("div",{className:"routines"},r))},wa=function(){return m.a.createElement("div",{className:"box"},"Import and Export Here")};a(36);v.a.initialize("G-JR2YK097BG");var Wa,Ba=function(e){var t=Object(b.c)(qt);return v.a.send("pageview"),m.a.createElement("div",{className:"PF2App"},m.a.createElement(Je,{id:0}),m.a.createElement(la,null),m.a.createElement(Ha,null),void 0!==t?m.a.createElement(Pa,{routineId:t}):"",m.a.createElement(wa,null))},Ga=Object(R.a)({reducer:{routines:Vt,activityPaths:Dt,damages:st,effects:bt,weaknesses:Fe,targets:Ge}});Ga.dispatch(Ut({id:0,name:"Fighter",display:!0,apIds:[0]})),Ga.dispatch(Nt({id:0,condition:M.ALWAYS,override:!1,level:1,useDefault:!1,defaultActivity:I.FIGHTER,type:O.STRIKE,targetType:y.AC,targetInfoId:0,value:9,MAP:j.N1,rollType:k.NORMAL,damageCondition:P.STRIKE,diceNum:1,diceSize:8,staticDamage:4,damageType:F.S,material:D.NONE,damages:[],effects:[],apIds:[]})),Ga.dispatch(We((Wa={id:0,name:"Custom Target",overrideDefault:!0,addMods:!1,level:1,matchRoutines:!0,levelDiff:0,useDefaultAC:!0,defaultAC:S.HIGH},Object(h.a)(Wa,y.AC,16),Object(h.a)(Wa,"useDefaultFort",!0),Object(h.a)(Wa,"defaultFort",T.MODERATE),Object(h.a)(Wa,y.FORT,7),Object(h.a)(Wa,"useDefaultRef",!0),Object(h.a)(Wa,"defaultRef",T.MODERATE),Object(h.a)(Wa,y.REF,7),Object(h.a)(Wa,"useDefaultWill",!0),Object(h.a)(Wa,"defaultWill",T.MODERATE),Object(h.a)(Wa,y.WILL,7),Object(h.a)(Wa,"useDefaultPer",!0),Object(h.a)(Wa,"defaultPer",T.MODERATE),Object(h.a)(Wa,y.PER,7),Object(h.a)(Wa,"flatfooted",!1),Object(h.a)(Wa,"weaknesses",[]),Wa)));var Ka=Ga;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.render(m.a.createElement(m.a.StrictMode,null,m.a.createElement(b.a,{store:Ka},m.a.createElement(Ba,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.51785ae6.chunk.js.map